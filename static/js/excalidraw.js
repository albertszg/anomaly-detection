(function(){
shadow$provide[568]=function(ca,Q,Ba,m){var h=Q(2);!function(C,r){"object"==typeof m&&"object"==typeof Ba?Ba.exports=r(Q(10),Q(19)):"function"==typeof define&&define.amd?define(["react","react-dom"],r):"object"==typeof m?m.Excalidraw=r(Q(10),Q(19)):C.Excalidraw=r(C.React,C.ReactDOM)}(self,function(C,r){return(()=>{function p(E){if(a[E])return a[E].exports;var w=a[E]={id:E,exports:{}};return v[E](w,w.exports,p),w.exports}var f,e,k,v={5374:E=>{function w(l,D,H,I,S,Z,B){try{var q=l[Z](B),A=q.value}catch(n){return void H(n)}q.done?
D(A):Promise.resolve(A).then(I,S)}E.exports=function(l){return function(){var D=this,H=arguments;return new Promise(function(I,S){function Z(A){w(q,I,S,Z,B,"next",A)}function B(A){w(q,I,S,Z,B,"throw",A)}var q=l.apply(D,H);Z(void 0)})}}},566:E=>{E.exports=function(w,l,D){return l in w?Object.defineProperty(w,l,{value:D,enumerable:!0,configurable:!0,writable:!0}):w[l]=D,w}},6950:E=>{function w(){return E.exports=w=Object.assign||function(l){for(var D=1;D<arguments.length;D++){var H=arguments[D],I;for(I in H)Object.prototype.hasOwnProperty.call(H,
I)&&(l[I]=H[I])}return l},w.apply(this,arguments)}E.exports=w},5474:(E,w,l)=>{var D=l(8387);E.exports=function(H,I){if(null==H)return{};var S,Z=D(H,I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(H);for(S=0;S<B.length;S++){var q=B[S];0<=I.indexOf(q)||Object.prototype.propertyIsEnumerable.call(H,q)&&(Z[q]=H[q])}}return Z}},8387:E=>{E.exports=function(w,l){if(null==w)return{};var D,H={},I=Object.keys(w);for(D=0;D<I.length;D++){var S=I[D];0<=l.indexOf(S)||(H[S]=w[S])}return H}},
6009:(E,w,l)=>{w=l(487);l=l(8328);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},1395:(E,w,l)=>{w=l(487);l=l(6121);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},3211:(E,w,l)=>{w=l(487);l=l(2510);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},5574:(E,w,l)=>{w=l(487);l=l(7972);
"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4518:(E,w,l)=>{w=l(487);l=l(190);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},3040:(E,w,l)=>{w=l(487);l=l(6718);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8623:(E,w,l)=>{w=l(487);l=l(3623);"string"==typeof(l=l.__esModule?l.default:
l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4193:(E,w,l)=>{w=l(487);l=l(103);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},341:(E,w,l)=>{w=l(487);l=l(7061);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},9705:(E,w,l)=>{w=l(487);l=l(1498);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",
singleton:!1});E.exports=l.locals||{}},7143:(E,w,l)=>{w=l(487);l=l(666);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},7428:(E,w,l)=>{w=l(487);l=l(849);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8465:(E,w,l)=>{w=l(487);l=l(6915);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||
{}},8680:(E,w,l)=>{w=l(487);l=l(7030);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},205:(E,w,l)=>{w=l(487);l=l(3994);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8416:(E,w,l)=>{w=l(487);l=l(700);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},2816:(E,w,l)=>{w=l(487);l=l(287);
"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},1575:(E,w,l)=>{w=l(487);l=l(5657);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},7287:(E,w,l)=>{w=l(487);l=l(7392);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8518:(E,w,l)=>{w=l(487);l=l(6065);"string"==typeof(l=l.__esModule?l.default:
l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},5849:(E,w,l)=>{w=l(487);l=l(83);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},9478:(E,w,l)=>{w=l(487);l=l(1554);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},2680:(E,w,l)=>{w=l(487);l=l(1970);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",
singleton:!1});E.exports=l.locals||{}},3142:(E,w,l)=>{w=l(487);l=l(961);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},8234:(E,w,l)=>{w=l(487);l=l(4878);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},4651:(E,w,l)=>{w=l(487);l=l(1988);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||
{}},2189:(E,w,l)=>{w=l(487);l=l(3245);"string"==typeof(l=l.__esModule?l.default:l)&&(l=[[E.id,l,""]]);w(l,{insert:"head",singleton:!1});E.exports=l.locals||{}},487:(E,w,l)=>{function D(ka){for(var ia=-1,G=0;G<n.length;G++)if(n[G].identifier===ka){ia=G;break}return ia}function H(ka,ia){for(var G={},R=[],L=0;L<ka.length;L++){var P=ka[L],K=ia.base?P[0]+ia.base:P[0],X=G[K]||0,T="".concat(K," ").concat(X);G[K]=X+1;K=D(T);P={css:P[1],media:P[2],sourceMap:P[3]};-1!==K?(n[K].references++,n[K].updater(P)):
n.push({identifier:T,updater:B(P,ia),references:1});R.push(T)}return R}function I(ka){var ia=document.createElement("style"),G=ka.attributes||{};if(void 0===G.nonce){var R=l.nc;R&&(G.nonce=R)}if(Object.keys(G).forEach(function(L){ia.setAttribute(L,G[L])}),"function"==typeof ka.insert)ka.insert(ia);else{ka=A(ka.insert||"head");if(!ka)throw Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ka.appendChild(ia)}return ia}function S(ka,ia,G,
R){G=G?"":R.media?"@media ".concat(R.media," {").concat(R.css,"}"):R.css;ka.styleSheet?ka.styleSheet.cssText=ma(ia,G):(G=document.createTextNode(G),R=ka.childNodes,R[ia]&&ka.removeChild(R[ia]),R.length?ka.insertBefore(G,R[ia]):ka.appendChild(G))}function Z(ka,ia,G){ia=G.css;var R=G.media;G=G.sourceMap;if(R?ka.setAttribute("media",R):ka.removeAttribute("media"),G&&"undefined"!=typeof btoa&&(ia+="\n/*# sourceMappingURL\x3ddata:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(G)))),
" */")),ka.styleSheet)ka.styleSheet.cssText=ia;else{for(;ka.firstChild;)ka.removeChild(ka.firstChild);ka.appendChild(document.createTextNode(ia))}}function B(ka,ia){if(ia.singleton){var G=ra++;var R=ba||(ba=I(ia));var L=S.bind(null,R,G,!1);var P=S.bind(null,R,G,!0)}else R=I(ia),L=Z.bind(null,R,ia),P=function(){if(null===R.parentNode)var K=!1;else R.parentNode.removeChild(R),K=void 0;!K};return L(ka),function(K){K?(K.css!==ka.css||K.media!==ka.media||K.sourceMap!==ka.sourceMap)&&L(ka=K):P()}}var q,
A=function(){var ka={};return function(ia){if(void 0===ka[ia]){var G=document.querySelector(ia);if(window.HTMLIFrameElement&&G instanceof window.HTMLIFrameElement)try{G=G.contentDocument.head}catch(R){G=null}ka[ia]=G}return ka[ia]}}(),n=[],V,ma=(V=[],function(ka,ia){return V[ka]=ia,V.filter(Boolean).join("\n")}),ba=null,ra=0;E.exports=function(ka,ia){(ia=ia||{}).singleton||"boolean"==typeof ia.singleton||(ia.singleton=(void 0===q&&(q=!(!(window&&document&&document.all)||window.atob)),q));var G=H(ka=
ka||[],ia);return function(R){if(R=R||[],"[object Array]"===Object.prototype.toString.call(R)){for(var L=0;L<G.length;L++){var P=D(G[L]);n[P].references--}R=H(R,ia);for(L=0;L<G.length;L++)P=D(G[L]),0===n[P].references&&(n[P].updater(),n.splice(P,1));G=R}}}},2829:E=>{E.exports=JSON.parse('{"labels":{"paste":"Paste","pasteCharts":"Paste charts","selectAll":"Select all","multiSelect":"Add element to selection","moveCanvas":"Move canvas","cut":"Cut","copy":"Copy","copyAsPng":"Copy to clipboard as PNG","copyAsSvg":"Copy to clipboard as SVG","bringForward":"Bring forward","sendToBack":"Send to back","bringToFront":"Bring to front","sendBackward":"Send backward","delete":"Delete","copyStyles":"Copy styles","pasteStyles":"Paste styles","stroke":"Stroke","background":"Background","fill":"Fill","strokeWidth":"Stroke width","strokeStyle":"Stroke style","strokeStyle_solid":"Solid","strokeStyle_dashed":"Dashed","strokeStyle_dotted":"Dotted","sloppiness":"Sloppiness","opacity":"Opacity","textAlign":"Text align","edges":"Edges","sharp":"Sharp","round":"Round","arrowheads":"Arrowheads","arrowhead_none":"None","arrowhead_arrow":"Arrow","arrowhead_bar":"Bar","arrowhead_dot":"Dot","fontSize":"Font size","fontFamily":"Font family","onlySelected":"Only selected","withBackground":"With background","exportEmbedScene":"Embed scene into exported file","exportEmbedScene_details":"Scene data will be saved into the exported PNG/SVG file so that the scene can be restored from it.\\nWill increase exported file size.","addWatermark":"Add \\"Made with Excalidraw\\"","handDrawn":"Hand-drawn","normal":"Normal","code":"Code","small":"Small","medium":"Medium","large":"Large","veryLarge":"Very large","solid":"Solid","hachure":"Hachure","crossHatch":"Cross-hatch","thin":"Thin","bold":"Bold","left":"Left","center":"Center","right":"Right","extraBold":"Extra bold","architect":"Architect","artist":"Artist","cartoonist":"Cartoonist","fileTitle":"File title","colorPicker":"Color picker","canvasBackground":"Canvas background","drawingCanvas":"Drawing canvas","layers":"Layers","actions":"Actions","language":"Language","liveCollaboration":"Live collaboration","duplicateSelection":"Duplicate","untitled":"Untitled","name":"Name","yourName":"Your name","madeWithExcalidraw":"Made with Excalidraw","group":"Group selection","ungroup":"Ungroup selection","collaborators":"Collaborators","showGrid":"Show grid","addToLibrary":"Add to library","removeFromLibrary":"Remove from library","libraryLoadingMessage":"Loading library…","libraries":"Browse libraries","loadingScene":"Loading scene…","align":"Align","alignTop":"Align top","alignBottom":"Align bottom","alignLeft":"Align left","alignRight":"Align right","centerVertically":"Center vertically","centerHorizontally":"Center horizontally","distributeHorizontally":"Distribute horizontally","distributeVertically":"Distribute vertically","viewMode":"View mode","toggleExportColorScheme":"Toggle export color scheme","share":"Share"},"buttons":{"clearReset":"Reset the canvas","export":"Export","exportToPng":"Export to PNG","exportToSvg":"Export to SVG","copyToClipboard":"Copy to clipboard","copyPngToClipboard":"Copy PNG to clipboard","scale":"Scale","save":"Save","saveAs":"Save as","load":"Load","getShareableLink":"Get shareable link","close":"Close","selectLanguage":"Select language","scrollBackToContent":"Scroll back to content","zoomIn":"Zoom in","zoomOut":"Zoom out","resetZoom":"Reset zoom","menu":"Menu","done":"Done","edit":"Edit","undo":"Undo","redo":"Redo","resetLibrary":"Reset library","createNewRoom":"Create new room","fullScreen":"Full screen","darkMode":"Dark mode","lightMode":"Light mode","zenMode":"Zen mode","exitZenMode":"Exit zen mode"},"alerts":{"clearReset":"This will clear the whole canvas. Are you sure?","couldNotCreateShareableLink":"Couldn\'t create shareable link.","couldNotCreateShareableLinkTooBig":"Couldn\'t create shareable link: the scene is too big","couldNotLoadInvalidFile":"Couldn\'t load invalid file","importBackendFailed":"Importing from backend failed.","cannotExportEmptyCanvas":"Cannot export empty canvas.","couldNotCopyToClipboard":"Couldn\'t copy to clipboard. Try using Chrome browser.","decryptFailed":"Couldn\'t decrypt data.","uploadedSecurly":"The upload has been secured with end-to-end encryption, which means that Excalidraw server and third parties can\'t read the content.","loadSceneOverridePrompt":"Loading external drawing will replace your existing content. Do you wish to continue?","collabStopOverridePrompt":"Stopping the session will overwrite your previous, locally stored drawing. Are you sure?\\n\\n(If you want to keep your local drawing, simply close the browser tab instead.)","errorLoadingLibrary":"There was an error loading the third party library.","confirmAddLibrary":"This will add {{numShapes}} shape(s) to your library. Are you sure?","imageDoesNotContainScene":"Importing images isn\'t supported at the moment.\\n\\nDid you want to import a scene? This image does not seem to contain any scene data. Have you enabled this during export?","cannotRestoreFromImage":"Scene couldn\'t be restored from this image file","invalidSceneUrl":"Couldn\'t import scene from the supplied URL. It\'s either malformed, or doesn\'t contain valid Excalidraw JSON data.","resetLibrary":"This will clear your library. Are you sure?"},"toolBar":{"selection":"Selection","draw":"Free draw","rectangle":"Rectangle","diamond":"Diamond","ellipse":"Ellipse","arrow":"Arrow","line":"Line","text":"Text","library":"Library","lock":"Keep selected tool active after drawing"},"headings":{"canvasActions":"Canvas actions","selectedShapeActions":"Selected shape actions","shapes":"Shapes"},"hints":{"linearElement":"Click to start multiple points, drag for single line","freeDraw":"Click and drag, release when you\'re finished","text":"Tip: you can also add text by double-clicking anywhere with the selection tool","linearElementMulti":"Click on last point or press Escape or Enter to finish","lockAngle":"You can constrain angle by holding SHIFT","resize":"You can constrain proportions by holding SHIFT while resizing,\\nhold ALT to resize from the center","rotate":"You can constrain angles by holding SHIFT while rotating","lineEditor_info":"Double-click or press Enter to edit points","lineEditor_pointSelected":"Press Delete to remove point, CtrlOrCmd+D to duplicate, or drag to move","lineEditor_nothingSelected":"Select a point to move or remove, or hold Alt and click to add new points"},"canvasError":{"cannotShowPreview":"Cannot show preview","canvasTooBig":"The canvas may be too big.","canvasTooBigTip":"Tip: try moving the farthest elements a bit closer together."},"errorSplash":{"headingMain_pre":"Encountered an error. Try ","headingMain_button":"reloading the page.","clearCanvasMessage":"If reloading doesn\'t work, try ","clearCanvasMessage_button":"clearing the canvas.","clearCanvasCaveat":" This will result in loss of work ","trackedToSentry_pre":"The error with identifier ","trackedToSentry_post":" was tracked on our system.","openIssueMessage_pre":"We were very cautious not to include your scene information on the error. If your scene is not private, please consider following up on our ","openIssueMessage_button":"bug tracker.","openIssueMessage_post":" Please include information below by copying and pasting into the GitHub issue.","sceneContent":"Scene content:"},"roomDialog":{"desc_intro":"You can invite people to your current scene to collaborate with you.","desc_privacy":"Don\'t worry, the session uses end-to-end encryption, so whatever you draw will stay private. Not even our server will be able to see what you come up with.","button_startSession":"Start session","button_stopSession":"Stop session","desc_inProgressIntro":"Live-collaboration session is now in progress.","desc_shareLink":"Share this link with anyone you want to collaborate with:","desc_exitSession":"Stopping the session will disconnect you from the room, but you\'ll be able to continue working with the scene, locally. Note that this won\'t affect other people, and they\'ll still be able to collaborate on their version.","shareTitle":"Join a live collaboration session on Excalidraw"},"errorDialog":{"title":"Error"},"helpDialog":{"blog":"Read our blog","click":"click","curvedArrow":"Curved arrow","curvedLine":"Curved line","documentation":"Documentation","drag":"drag","editor":"Editor","github":"Found an issue? Submit","howto":"Follow our guides","or":"or","preventBinding":"Prevent arrow binding","shapes":"Shapes","shortcuts":"Keyboard shortcuts","textFinish":"Finish editing (text)","textNewLine":"Add new line (text)","title":"Help","view":"View","zoomToFit":"Zoom to fit all elements","zoomToSelection":"Zoom to selection"},"encrypted":{"tooltip":"Your drawings are end-to-end encrypted so Excalidraw\'s servers will never see them."},"stats":{"angle":"Angle","element":"Element","elements":"Elements","height":"Height","scene":"Scene","selected":"Selected","storage":"Storage","title":"Stats for nerds","total":"Total","version":"Version","versionCopy":"Click to copy","versionNotAvailable":"Version not available","width":"Width"},"toast":{"copyStyles":"Copied styles.","copyToClipboard":"Copied to clipboard.","copyToClipboardAsPng":"Copied {{exportSelection}} to clipboard as PNG\\n({{exportColorScheme}})","fileSaved":"File saved.","fileSavedToFilename":"Saved to {filename}","canvas":"canvas","selection":"selection"}}')},
2051:E=>{E.exports=JSON.parse('{"ar-SA":84,"bg-BG":95,"ca-ES":95,"de-DE":100,"el-GR":99,"en":100,"es-ES":100,"fa-IR":91,"fi-FI":100,"fr-FR":100,"he-IL":92,"hi-IN":93,"hu-HU":83,"id-ID":99,"it-IT":100,"ja-JP":97,"kab-KAB":98,"ko-KR":95,"my-MM":78,"nb-NO":100,"nl-NL":99,"nn-NO":86,"oc-FR":100,"pa-IN":96,"pl-PL":97,"pt-BR":100,"pt-PT":98,"ro-RO":100,"ru-RU":100,"sk-SK":99,"sv-SE":100,"tr-TR":83,"uk-UA":96,"zh-CN":98,"zh-TW":100}')},788:(E,w,l)=>{function D(I){if(!l.o(H,I))return Promise.resolve().then(()=>
{var B=Error("Cannot find module '"+I+"'");throw B.code="MODULE_NOT_FOUND",B;});var S=H[I],Z=S[0];return Promise.all(S.slice(1).map(l.e)).then(()=>l.t(Z,3))}var H={"./ar-SA.json":[7294,558],"./bg-BG.json":[3860,384],"./ca-ES.json":[750,351],"./de-DE.json":[7439,43],"./el-GR.json":[9422,526],"./en.json":[2829],"./es-ES.json":[2863,317],"./fa-IR.json":[3853,710],"./fi-FI.json":[5472,472],"./fr-FR.json":[3280,364],"./he-IL.json":[3970,262],"./hi-IN.json":[5599,933],"./hu-HU.json":[1516,661],"./id-ID.json":[7992,
491],"./it-IT.json":[5963,465],"./ja-JP.json":[1323,137],"./kab-KAB.json":[9230,164],"./ko-KR.json":[7552,60],"./my-MM.json":[1778,242],"./nb-NO.json":[8751,246],"./nl-NL.json":[4675,196],"./nn-NO.json":[7558,920],"./oc-FR.json":[9945,565],"./pa-IN.json":[863,280],"./percentages.json":[2051],"./pl-PL.json":[122,852],"./pt-BR.json":[7443,381],"./pt-PT.json":[2560,149],"./ro-RO.json":[5654,752],"./ru-RU.json":[5609,869],"./sk-SK.json":[8684,401],"./sv-SE.json":[1570,698],"./tr-TR.json":[8146,213],"./uk-UA.json":[9746,
583],"./zh-CN.json":[9044,304],"./zh-TW.json":[2939,62]};D.keys=()=>Object.keys(H);D.id=788;E.exports=D},7154:E=>{function w(){return E.exports=w=Object.assign||function(l){for(var D=1;D<arguments.length;D++){var H=arguments[D],I;for(I in H)Object.prototype.hasOwnProperty.call(H,I)&&(l[I]=H[I])}return l},w.apply(this,arguments)}E.exports=w},6479:(E,w,l)=>{var D=l(7316);E.exports=function(H,I){if(null==H)return{};var S,Z=D(H,I);if(Object.getOwnPropertySymbols){var B=Object.getOwnPropertySymbols(H);
for(S=0;S<B.length;S++){var q=B[S];0<=I.indexOf(q)||Object.prototype.propertyIsEnumerable.call(H,q)&&(Z[q]=H[q])}}return Z}},7316:E=>{E.exports=function(w,l){if(null==w)return{};var D,H={},I=Object.keys(w);for(D=0;D<I.length;D++){var S=I[D];0<=l.indexOf(S)||(H[S]=w[S])}return H}},8328:(E,w,l)=>{l.r(w);l.d(w,{default:()=>I});w=l(3645);var D=l.n(w);w=l(1667);w=l.n(w);var H=l(7464);l=l(9638);D=D()(function(S){return S[1]});H=w()(H.Z);l=w()(l.Z);D.push([E.id,'@font-face{font-family:"Virgil";src:url('+
H+');font-display:swap}@font-face{font-family:"Cascadia";src:url('+l+");font-display:swap}",""]);const I=D},6121:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Avatar{width:2.5rem;height:2.5rem;border-radius:1.25rem;display:flex;justify-content:center;align-items:center;color:#fff;cursor:pointer;font-size:.8rem;font-weight:500}",
""]);const D=l},2510:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .CollabButton.is-collaborating{background-color:var(--button-special-active-bg-color)}.excalidraw .CollabButton.is-collaborating .ToolIcon__icon svg,.excalidraw .CollabButton.is-collaborating .ToolIcon__label{color:var(--icon-green-fill-color)}.excalidraw .CollabButton-collaborators{min-width:1em;position:absolute;bottom:-5px;padding:3px;border-radius:50%;background-color:#40c057;color:#fff;font-size:.7em;font-family:var(--ui-font)}:root[dir\x3dltr] .excalidraw .CollabButton-collaborators{right:-5px}:root[dir\x3drtl] .excalidraw .CollabButton-collaborators{left:-5px}",
""]);const D=l},7972:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .color-picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}:root[dir\x3dltr] .excalidraw .color-picker{left:-5.5px}:root[dir\x3drtl] .excalidraw .color-picker{right:-5.5px}.excalidraw .color-picker-control-container{display:grid;grid-template-columns:auto 1fr;align-items:center}.excalidraw .color-picker-triangle{width:0;height:0;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color);position:absolute;top:-10px}:root[dir\x3dltr] .excalidraw .color-picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .color-picker-triangle{right:12px}.excalidraw .color-picker-triangle-shadow{border-color:transparent transparent rgba(0,0,0,.1);top:-11px}.excalidraw .color-picker-content{padding:.5rem;display:grid;grid-template-columns:repeat(5, auto);grid-gap:.5rem;border-radius:4px}.excalidraw .color-picker-content:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-picker-content .color-input-container{grid-column:1/span 5}.excalidraw .color-picker-swatch{position:relative;height:1.875rem;width:1.875rem;cursor:pointer;border-radius:4px;margin:0;box-sizing:border-box;border:1px solid #ddd;background-color:currentColor !important;filter:var(--appearance-filter)}.excalidraw .color-picker-swatch:focus{box-shadow:0 0 4px 1px currentColor;border-color:var(--select-highlight-color)}.excalidraw .color-picker-transparent{border-radius:4px;box-shadow:rgba(0,0,0,.1) 0 0 0 1px inset;position:absolute;top:0;right:0;bottom:0;left:0}.excalidraw .color-picker-transparent,.excalidraw .color-picker-label-swatch{background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center}.excalidraw .color-picker-hash{background:var(--input-border-color);height:1.875rem;width:1.875rem;color:var(--input-label-color);display:flex;align-items:center;justify-content:center;position:relative}:root[dir\x3dltr] .excalidraw .color-picker-hash{border-radius:4px 0 0 4px}:root[dir\x3drtl] .excalidraw .color-picker-hash{border-radius:0 4px 4px 0}.excalidraw .color-input-container:focus-within .color-picker-hash{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .color-input-container:focus-within .color-picker-hash::before,.excalidraw .color-input-container:focus-within .color-picker-hash::after{content:"";width:1px;height:100%;position:absolute;top:0}.excalidraw .color-input-container:focus-within .color-picker-hash::before{background:var(--input-border-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::before{right:-1px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::before{left:-1px}.excalidraw .color-input-container:focus-within .color-picker-hash::after{background:var(--input-bg-color)}:root[dir\x3dltr] .excalidraw .color-input-container:focus-within .color-picker-hash::after{right:-2px}:root[dir\x3drtl] .excalidraw .color-input-container:focus-within .color-picker-hash::after{left:-2px}.excalidraw .color-input-container{display:flex}.excalidraw .color-picker-input{width:12ch;margin:0;font-size:1rem;background-color:var(--input-bg-color);color:var(--text-primary-color);border:0;outline:none;height:1.75em;box-shadow:var(--input-border-color) 0 0 0 1px inset;float:left;padding:1px;padding-inline-start:.5em;appearance:none}:root[dir\x3dltr] .excalidraw .color-picker-input{border-radius:0 4px 4px 0}:root[dir\x3drtl] .excalidraw .color-picker-input{border-radius:4px 0 0 4px}.excalidraw .color-picker-label-swatch{height:1.875rem;width:1.875rem;margin-inline-end:.25rem;border:1px solid #dee2e6;position:relative;overflow:hidden;background-color:transparent !important;filter:var(--appearance-filter)}.excalidraw .color-picker-label-swatch:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:var(--swatch-color)}.excalidraw .color-picker-keybinding{position:absolute;bottom:2px;font-size:.7em}:root[dir\x3dltr] .excalidraw .color-picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .color-picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .color-picker-keybinding{display:none}}.excalidraw .color-picker-type-canvasBackground .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementBackground .color-picker-keybinding{color:#fff}.excalidraw .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#aaa}.excalidraw .color-picker-type-elementStroke .color-picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .color-picker-type-elementBackground .color-picker-keybinding{color:#000}.excalidraw.Appearance_dark .color-picker-swatch[aria-label\x3dtransparent] .color-picker-keybinding{color:#000}',
""]);const D=l},190:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .context-menu{position:relative;border-radius:4px;box-shadow:0 3px 10px rgba(0,0,0,.2);padding:0;list-style:none;user-select:none;margin:-0.25rem 0 0 .125rem;padding:.5rem 0;background-color:var(--popup-secondary-bg-color);border:1px solid var(--button-gray-3);cursor:default}.excalidraw .context-menu button{color:var(--popup-text-color)}.excalidraw .context-menu-option{position:relative;width:100%;min-width:9.5rem;margin:0;padding:.25rem 1rem .25rem 1.25rem;text-align:start;border-radius:0;background-color:transparent;border:none;white-space:nowrap;display:grid;grid-template-columns:1fr .2fr;align-items:center}.excalidraw .context-menu-option.checkmark::before{position:absolute;left:6px;margin-bottom:1px;content:"✓"}.excalidraw .context-menu-option.dangerous .context-menu-option__label{color:#f03e3e}.excalidraw .context-menu-option .context-menu-option__label{justify-self:start;margin-inline-end:20px}.excalidraw .context-menu-option .context-menu-option__shortcut{justify-self:end;opacity:.6;font-family:inherit;font-size:.7rem}.excalidraw .context-menu-option:hover{color:var(--popup-bg-color);background-color:var(--select-highlight-color)}.excalidraw .context-menu-option:hover.dangerous{background-color:#fa5252}.excalidraw .context-menu-option:hover.dangerous .context-menu-option__label{color:var(--popup-bg-color)}.excalidraw .context-menu-option:focus{z-index:1}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .context-menu-option{display:block}.excalidraw .context-menu-option .context-menu-option__label{margin-inline-end:0}.excalidraw .context-menu-option .context-menu-option__shortcut{display:none}}.excalidraw .context-menu-option-separator{border:none;border-top:1px solid #adb5bd}',
""]);const D=l},6718:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Dialog{user-select:text;cursor:auto}.excalidraw .Dialog__title{display:grid;align-items:center;margin-top:0;grid-template-columns:1fr calc(var(--space-factor) * 7);grid-gap:var(--metric);padding:calc(var(--space-factor) * 2);text-align:center;font-variant:small-caps;font-size:1.2em}.excalidraw .Dialog__titleContent{flex:1}.excalidraw .Dialog .Modal__close{color:var(--icon-fill-color);margin:0}.excalidraw .Dialog__content{padding:0 16px 16px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Dialog{--metric: calc(var(--space-factor) * 4);--inset-left: max(var(--metric), var(--sal));--inset-right: max(var(--metric), var(--sar))}.excalidraw .Dialog__title{grid-template-columns:calc(var(--space-factor) * 7) 1fr calc( var(--space-factor) * 7 );position:sticky;top:0;padding:calc(var(--space-factor) * 2);background:var(--island-bg-color);font-size:1.25em;box-sizing:border-box;border-bottom:1px solid var(--button-gray-2);z-index:1}.excalidraw .Dialog__titleContent{text-align:center}.excalidraw .Dialog .Island{width:100vw;height:100%;box-sizing:border-box;overflow-y:auto;padding-left:max(calc(var(--padding) * var(--space-factor)), var(--sal));padding-right:max(calc(var(--padding) * var(--space-factor)), var(--sar));padding-bottom:max(calc(var(--padding) * var(--space-factor)), var(--sab))}.excalidraw .Dialog .Modal__close{order:-1}}",
""]);const D=l},3623:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ExportDialog__preview{--preview-padding: calc(var(--space-factor) * 4);background:url("data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABAAAAAQCAYAAAAf8/9hAAAAMUlEQVQ4T2NkYGAQYcAP3uCTZhw1gGGYhAGBZIA/nYDCgBDAm9BGDWAAJyRCgLaBCAAgXwixzAS0pgAAAABJRU5ErkJggg\x3d\x3d") left center;text-align:center;padding:var(--preview-padding);margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-width:calc(100% - var(--preview-padding) * 2);max-height:25rem}.excalidraw.Appearance_dark .ExportDialog__preview canvas{filter:none}.excalidraw .ExportDialog__actions{width:100%;display:flex;grid-gap:calc(var(--space-factor) * 2);align-items:top;justify-content:space-between}.excalidraw .ExportDialog__name{grid-column:project-name;margin:auto}.excalidraw .ExportDialog__name .TextInput{height:calc(1rem - 3px)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .ExportDialog{display:flex;flex-direction:column}.excalidraw .ExportDialog__actions{flex-direction:column;align-items:center}.excalidraw .ExportDialog__actions\x3e*{margin-bottom:calc(var(--space-factor) * 3)}.excalidraw .ExportDialog__preview canvas{max-height:30vh}.excalidraw .ExportDialog__dialog,.excalidraw .ExportDialog__dialog .Island{height:100%;box-sizing:border-box}.excalidraw .ExportDialog__dialog .Island{overflow-y:auto}}',
""]);const D=l},103:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .FixedSideContainer{--margin: 0.25rem;position:absolute;pointer-events:none}.excalidraw .FixedSideContainer\x3e*{pointer-events:all}.excalidraw .FixedSideContainer_side_top{left:var(--margin);top:var(--margin);right:var(--margin);z-index:2}.excalidraw .FixedSideContainer_side_top.zen-mode{right:42px}",""]);const D=l},7061:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);
l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HelpDialog h3{border-bottom:1px solid var(--button-gray-2);padding-bottom:4px}.excalidraw .HelpDialog--island{border:1px solid var(--button-gray-2);margin-bottom:16px}.excalidraw .HelpDialog--island-title{margin:0;padding:4px;background-color:var(--button-gray-1);text-align:center}.excalidraw .HelpDialog--shortcut{border-top:1px solid var(--button-gray-2)}.excalidraw .HelpDialog--key{word-break:keep-all;border:1px solid var(--button-gray-2);padding:2px 8px;margin:auto 4px;background-color:var(--button-gray-1);border-radius:2px;font-size:.8em;min-height:26px;box-sizing:border-box;display:flex;align-items:center;font-family:inherit}.excalidraw .HelpDialog--header{display:flex;flex-direction:row;justify-content:space-evenly;margin-bottom:32px;padding-bottom:16px}.excalidraw .HelpDialog--btn{border:1px solid var(--link-color);padding:8px 32px;border-radius:4px}.excalidraw .HelpDialog--btn:hover{text-decoration:none}",
""]);const D=l},1498:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .HintViewer{pointer-events:none;box-sizing:border-box;position:absolute;display:flex;justify-content:center;left:0;top:100%;max-width:100%;width:100%;margin-top:6px;text-align:center;color:#868e96;font-size:.8rem}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .HintViewer{position:static;padding-right:2em}}.excalidraw .HintViewer\x3espan{padding:.2rem .4rem;background-color:var(--overlay-bg-color);border-radius:4px}",
""]);const D=l},666:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .picker-container{display:inline-block;box-sizing:border-box;margin-right:.25rem}.excalidraw .picker{background:var(--popup-bg-color);border:0 solid rgba(255,255,255,.25);box-shadow:rgba(0,0,0,.25) 0 1px 4px;border-radius:4px;position:absolute}.excalidraw .picker-container button,.excalidraw .picker button{position:relative;display:flex;align-items:center;justify-content:center}.excalidraw .picker-container button:focus,.excalidraw .picker button:focus{outline:transparent;background-color:var(--button-gray-2)}.excalidraw .picker-container button:focus svg,.excalidraw .picker button:focus svg{opacity:1}.excalidraw .picker-container button:hover,.excalidraw .picker button:hover{background-color:var(--button-gray-2)}.excalidraw .picker-container button:active,.excalidraw .picker button:active{background-color:var(--button-gray-3)}.excalidraw .picker-container button:disabled,.excalidraw .picker button:disabled{cursor:not-allowed}.excalidraw .picker-container button svg,.excalidraw .picker button svg{margin:0;width:36px;height:18px;opacity:.6;pointer-events:none}.excalidraw .picker button{padding:.25rem .28rem .35rem .25rem}.excalidraw .picker-triangle{width:0;height:0;position:relative;top:-10px;z-index:10}:root[dir\x3dltr] .excalidraw .picker-triangle{left:12px}:root[dir\x3drtl] .excalidraw .picker-triangle{right:12px}.excalidraw .picker-triangle:before{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent rgba(0,0,0,.1);top:-1px}.excalidraw .picker-triangle:after{content:"";position:absolute;border-style:solid;border-width:0 9px 10px;border-color:transparent transparent var(--popup-bg-color)}.excalidraw .picker-content{padding:.5rem;display:grid;grid-auto-flow:column;grid-gap:.5rem;border-radius:4px}:root[dir\x3drtl] .excalidraw .picker-content{padding:.4rem}.excalidraw .picker-keybinding{position:absolute;bottom:2px;font-size:.7em;color:var(--keybinding-color)}:root[dir\x3dltr] .excalidraw .picker-keybinding{right:2px}:root[dir\x3drtl] .excalidraw .picker-keybinding{left:2px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .picker-keybinding{display:none}}.excalidraw .picker-type-canvasBackground .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementBackground .picker-keybinding{color:#fff}.excalidraw .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#aaa}.excalidraw .picker-type-elementStroke .picker-keybinding{color:#d4d4d4}.excalidraw.Appearance_dark .picker-type-elementBackground .picker-keybinding{color:#000}.excalidraw.Appearance_dark .picker-swatch[aria-label\x3dtransparent] .picker-keybinding{color:#000}',
""]);const D=l},849:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .Island{--padding: 0;background-color:var(--island-bg-color);backdrop-filter:saturate(100%) blur(10px);box-shadow:var(--shadow-island);border-radius:4px;padding:calc(var(--padding) * var(--space-factor));position:relative;transition:box-shadow .5s ease-in-out}.excalidraw .Island.zen-mode{box-shadow:none}",""]);const D=l},6915:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});
w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .layer-ui__library{margin:auto;display:flex;align-items:center;justify-content:center}.excalidraw .layer-ui__library .layer-ui__library-header{display:flex;align-items:center;width:100%;margin:2px 0}.excalidraw .layer-ui__library .layer-ui__library-header button{margin:0 2px}.excalidraw .layer-ui__library .layer-ui__library-header a{margin-inline-start:auto;padding-inline-end:18px;white-space:nowrap}.excalidraw .layer-ui__library-message{padding:10px 20px;max-width:200px}.excalidraw .layer-ui__library-items{max-height:50vh;overflow:auto}.excalidraw .layer-ui__wrapper{z-index:var(--zIndex-layerUI)}.excalidraw .layer-ui__wrapper .encrypted-icon{position:relative;margin-inline-start:15px;display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor);color:#2b8a3e}.excalidraw .layer-ui__wrapper .encrypted-icon svg{width:1.2rem;height:1.2rem}.excalidraw .layer-ui__wrapper__github-corner{top:0;position:absolute;width:40px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__github-corner{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__github-corner{left:0}.excalidraw .layer-ui__wrapper__footer{position:absolute;z-index:100;bottom:0;width:190px}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper__footer{right:0}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper__footer{left:0}.excalidraw .layer-ui__wrapper .zen-mode-transition{transition:transform .5s ease-in-out}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-left{transform:translate(999px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.transition-right{transform:translate(-999px, 0)}:root[dir\x3dltr] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(-92px, 0)}:root[dir\x3drtl] .excalidraw .layer-ui__wrapper .zen-mode-transition.App-menu_bottom--transition-left{transform:translate(92px, 0)}.excalidraw .layer-ui__wrapper .disable-zen-mode{height:30px;position:absolute;bottom:10px;font-size:10px;padding:10px;font-weight:500;opacity:0;visibility:hidden;transition:visibility 0s linear 0s,opacity .5s}[dir\x3dltr] .excalidraw .layer-ui__wrapper .disable-zen-mode{right:15px}[dir\x3drtl] .excalidraw .layer-ui__wrapper .disable-zen-mode{left:15px}.excalidraw .layer-ui__wrapper .disable-zen-mode--visible{opacity:1;visibility:visible;transition:visibility 0s linear 300ms,opacity .5s;transition-delay:.8s}",
""]);const D=l},7030:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .library-unit{align-items:center;border:1px solid var(--button-gray-2);display:flex;justify-content:center;position:relative;width:63px;height:63px}.excalidraw .library-unit__dragger{display:flex;height:100%;width:100%}.excalidraw .library-unit__dragger\x3esvg{filter:var(--appearance-filter);flex-grow:1;max-height:100%;max-width:100%}.excalidraw .library-unit__removeFromLibrary,.excalidraw .library-unit__removeFromLibrary:hover,.excalidraw .library-unit__removeFromLibrary:active{align-items:center;background:none;border:none;color:var(--icon-fill-color);display:flex;justify-content:center;margin:0;padding:0;position:absolute;right:5px;top:5px}.excalidraw .library-unit__removeFromLibrary\x3esvg{height:16px;width:16px}.excalidraw .library-unit__pulse{transform:scale(1);animation:library-unit__pulse-animation 1s ease-in infinite}.excalidraw .library-unit__adder{position:absolute;left:50%;top:50%;width:20px;height:20px;margin-left:-10px;margin-top:-10px;pointer-events:none}.excalidraw .library-unit__active{cursor:pointer}@keyframes library-unit__pulse-animation{0%{transform:scale(0.95)}50%{transform:scale(1)}100%{transform:scale(0.95)}}",
""]);const D=l},3994:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw.excalidraw-modal-container{position:absolute;z-index:10}.excalidraw .Modal{position:absolute;top:0;left:0;right:0;bottom:0;display:flex;align-items:center;justify-content:center;overflow:auto;padding:calc(var(--space-factor) * 10)}.excalidraw .Modal__background{position:absolute;top:0;left:0;right:0;bottom:0;z-index:1;background-color:rgba(0,0,0,.3);backdrop-filter:blur(2px)}.excalidraw .Modal__content{position:relative;z-index:2;width:100%;max-width:var(--max-width);max-height:100%;opacity:0;transform:translateY(10px);animation:Modal__content_fade-in .1s ease-out .05s forwards;position:relative;overflow-y:auto;background:var(--island-bg-color);backdrop-filter:none;border:1px solid var(--dialog-border-color);box-shadow:0 2px 10px rgba(0,0,0,.25);border-radius:6px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal__content{max-width:100%;border:0;border-radius:0}}@keyframes Modal__content_fade-in{from{opacity:0;transform:translateY(10px)}to{opacity:1;transform:translateY(0)}}.excalidraw .Modal__close{width:calc(var(--space-factor) * 7);height:calc(var(--space-factor) * 7);display:flex;align-items:center;justify-content:center}.excalidraw .Modal__close svg{height:calc(var(--space-factor) * 5)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .Modal{padding:0}.excalidraw .Modal__content{position:absolute;top:0;left:0;right:0;bottom:0}}",
""]);const D=l},700:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .Island{display:flex;flex-direction:column}}.excalidraw .PasteChartDialog .container{display:flex;align-items:center;justify-content:space-around;flex-wrap:wrap}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .PasteChartDialog .container{flex-direction:column;justify-content:center}}.excalidraw .PasteChartDialog .ChartPreview{margin:8px;text-align:center;width:192px;height:128px;border-radius:2px;padding:1px;border:1px solid #ced4da;display:flex;align-items:center;justify-content:center;background:transparent}.excalidraw .PasteChartDialog .ChartPreview div{display:inline-block}.excalidraw .PasteChartDialog .ChartPreview svg{max-height:120px;max-width:186px}.excalidraw .PasteChartDialog .ChartPreview:hover{padding:0;border:2px solid #339af0}",
""]);const D=l},287:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .popover{position:fixed;z-index:10}",""]);const D=l},5657:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .Stack{--gap: 0;display:grid;gap:calc(var(--space-factor) * var(--gap))}.excalidraw .Stack_vertical{grid-template-columns:auto;grid-auto-flow:row;grid-auto-rows:min-content}.excalidraw .Stack_horizontal{grid-template-rows:auto;grid-auto-flow:column;grid-auto-columns:min-content}",
""]);const D=l},7392:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Stats{position:absolute;top:64px;right:12px;font-size:12px;z-index:999}.excalidraw .Stats h3{margin:0 24px 8px 0;white-space:nowrap}.excalidraw .Stats .close{float:right;height:16px;width:16px;cursor:pointer}.excalidraw .Stats .close svg{width:100%;height:100%}.excalidraw .Stats table{width:100%}.excalidraw .Stats table th{border-bottom:1px solid var(--input-border-color);padding:4px}.excalidraw .Stats table tr td:nth-child(2){min-width:24px;text-align:right}:root[dir\x3drtl] .excalidraw .Stats{left:12px;right:initial}:root[dir\x3drtl] .excalidraw .Stats h3{margin:0 0 8px 24px}:root[dir\x3drtl] .excalidraw .Stats .close{float:left}",
""]);const D=l},6065:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .TextInput{color:var(--text-primary-color);display:inline-block;border:1.5px solid var(--button-gray-1);line-height:1;padding:.75rem;white-space:nowrap;border-radius:var(--space-factor);background-color:var(--input-bg-color)}.excalidraw .TextInput:not(:focus):hover{background-color:var(--input-hover-bg-color)}.excalidraw .TextInput:focus{outline:none;box-shadow:0 0 0 2px var(--focus-highlight-color)}",
""]);const D=l},83:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Toast{animation:fade-in .5s;background-color:var(--button-gray-1);border-radius:4px;bottom:10px;box-sizing:border-box;cursor:default;left:50%;margin-left:-150px;padding:4px 0;position:absolute;text-align:center;width:300px;z-index:999999}.excalidraw .Toast__message{color:var(--popup-text-color);white-space:pre-wrap}@keyframes fade-in{from{opacity:0}to{opacity:1}}",
""]);const D=l},1554:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,":export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .ToolIcon{display:inline-flex;align-items:center;position:relative;font-family:Cascadia;cursor:pointer;background-color:var(--button-gray-1);-webkit-tap-highlight-color:transparent;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon{width:2.5rem;height:2.5rem;color:var(--icon-fill-color);display:flex;justify-content:center;align-items:center;border-radius:var(--space-factor)}.excalidraw .ToolIcon__icon svg{position:relative;height:1em;fill:var(--icon-fill-color);color:var(--icon-fill-color)}.excalidraw .ToolIcon__icon+.ToolIcon__label{margin-inline-start:0}.excalidraw .ToolIcon__label{color:var(--icon-fill-color);font-family:var(--ui-font);margin:0 .8em;text-overflow:ellipsis}.excalidraw .ToolIcon_size_s .ToolIcon__icon{width:1.4rem;height:1.4rem;font-size:.8em}.excalidraw .excalidraw .ToolIcon_type_button,.excalidraw .Modal .ToolIcon_type_button,.excalidraw .ToolIcon_type_button{padding:0;border:none;margin:0;font-size:inherit}.excalidraw .excalidraw .ToolIcon_type_button:hover,.excalidraw .Modal .ToolIcon_type_button:hover,.excalidraw .ToolIcon_type_button:hover{background-color:var(--button-gray-1)}.excalidraw .excalidraw .ToolIcon_type_button:active,.excalidraw .Modal .ToolIcon_type_button:active,.excalidraw .ToolIcon_type_button:active{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button:focus,.excalidraw .Modal .ToolIcon_type_button:focus,.excalidraw .ToolIcon_type_button:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected,.excalidraw .ToolIcon_type_button.ToolIcon--selected{background-color:var(--button-gray-2)}.excalidraw .excalidraw .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .Modal .ToolIcon_type_button.ToolIcon--selected:active,.excalidraw .ToolIcon_type_button.ToolIcon--selected:active{background-color:var(--button-gray-3)}.excalidraw .excalidraw .ToolIcon_type_button--show,.excalidraw .Modal .ToolIcon_type_button--show,.excalidraw .ToolIcon_type_button--show{visibility:visible}.excalidraw .excalidraw .ToolIcon_type_button--hide,.excalidraw .Modal .ToolIcon_type_button--hide,.excalidraw .ToolIcon_type_button--hide{visibility:hidden}.excalidraw .ToolIcon_type_radio,.excalidraw .ToolIcon_type_checkbox{position:absolute;opacity:0;pointer-events:none}.excalidraw .ToolIcon_type_radio:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:not(.ToolIcon_toggle_opaque):checked+.ToolIcon__icon{background-color:var(--button-gray-2)}.excalidraw .ToolIcon_type_radio:focus+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:focus+.ToolIcon__icon{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .ToolIcon_type_radio:active+.ToolIcon__icon,.excalidraw .ToolIcon_type_checkbox:active+.ToolIcon__icon{background-color:var(--button-gray-3)}.excalidraw .ToolIcon_type_floating{background-color:transparent}.excalidraw .ToolIcon_type_floating:hover{background-color:transparent}.excalidraw .ToolIcon_type_floating:active{background-color:transparent}.excalidraw .ToolIcon_type_floating:focus{box-shadow:none}.excalidraw .ToolIcon_type_floating .ToolIcon__icon{width:2rem;height:2em}.excalidraw .ToolIcon.ToolIcon__lock.ToolIcon_type_floating{margin-left:.1rem}.excalidraw .ToolIcon__keybinding{position:absolute;bottom:2px;right:3px;font-size:.5em;color:var(--keybinding-color);font-family:var(--ui-font);user-select:none}@media(max-width: 425px){.excalidraw .Shape .ToolIcon__icon{width:2rem;height:2rem}.excalidraw .Shape .ToolIcon__icon svg{height:.8em}}@media(max-width: 760px){.excalidraw .ToolIcon.ToolIcon__lock{display:inline-block;position:absolute;top:60px;right:-8px;margin-left:0;border-radius:20px 0 0 20px;z-index:1;background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:hover{background-color:var(--button-gray-1)}.excalidraw .ToolIcon.ToolIcon__lock:active{background-color:var(--button-gray-2)}.excalidraw .ToolIcon.ToolIcon__lock .ToolIcon__icon{border-radius:inherit}.excalidraw .ToolIcon.ToolIcon__lock svg{position:static}}.excalidraw .TooltipIcon{width:.9em;height:.9em;margin-left:5px;margin-top:1px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw .TooltipIcon{display:none}}:root[dir\x3dltr] .excalidraw .unlocked-icon{left:2px}:root[dir\x3drtl] .excalidraw .unlocked-icon{right:2px}",
""]);const D=l},1970:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw .Tooltip{position:relative}.excalidraw .Tooltip__label{--arrow-size: 4px;visibility:hidden;background:#000;color:#fff;text-align:center;border-radius:6px;padding:8px;position:absolute;z-index:10;font-size:13px;line-height:1.5;font-weight:500;left:calc(50% + var(--arrow-size) / 2 - 1px);transform:translateX(-50%);word-wrap:break-word}.excalidraw .Tooltip__label::after{content:"";border:var(--arrow-size) solid transparent;position:absolute;left:calc(50% - var(--arrow-size))}.excalidraw .Tooltip__label--above{bottom:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--above::after{border-top-color:#000;top:100%}.excalidraw .Tooltip__label--below{top:calc(100% + var(--arrow-size) + 3px)}.excalidraw .Tooltip__label--below::after{border-bottom-color:#000;bottom:100%}.excalidraw .Tooltip:hover .Tooltip__label{visibility:visible}.excalidraw .Tooltip__label:hover{visibility:visible}',
""]);const D=l},961:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".excalidraw .UserList{pointer-events:none;padding:var(--space-factor) 40px var(--space-factor) var(--space-factor);display:flex;flex-wrap:wrap;justify-content:flex-end}.excalidraw .UserList\x3e*{pointer-events:all;margin:0 0 var(--space-factor) var(--space-factor)}.excalidraw .UserList_mobile{padding:0;justify-content:normal}.excalidraw .UserList_mobile\x3e*{margin:0 var(--space-factor) var(--space-factor) 0}",
""]);const D=l},4878:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,".visually-hidden{position:absolute !important;height:1px;width:1px;overflow:hidden;clip:rect(1px, 1px, 1px, 1px);white-space:nowrap}.LoadingMessage{position:absolute;top:0;right:0;bottom:0;left:0;z-index:999;display:flex;align-items:center;justify-content:center;pointer-events:none}.LoadingMessage span{background-color:var(--button-gray-1);border-radius:5px;padding:.8em 1.2em;color:var(--popup-text-color);font-size:1.3em}",
""]);const D=l},1988:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,':export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}:export{isMobileQuery:(max-width: 600px), (max-height: 500px) and (max-width: 1000px);appearanceFilter:invert(93%) hue-rotate(180deg)}.excalidraw{--appearance-filter: none;--button-destructive-bg-color: #ffe3e3;--button-destructive-color: #c92a2a;--button-gray-1: #e9ecef;--button-gray-2: #ced4da;--button-gray-3: #adb5bd;--button-special-active-bg-color: #ebfbee;--dialog-border-color: #868e96;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #a5d8ff;--icon-fill-color: #000000;--icon-green-fill-color: #2b8a3e;--input-bg-color: #ffffff;--input-border-color: #dee2e6;--input-hover-bg-color: #f1f3f5;--input-label-color: #495057;--island-bg-color: rgba(255, 255, 255, 0.9);--keybinding-color: #adb5bd;--link-color: #1c7ed6;--overlay-bg-color: rgba(255, 255, 255, 0.88);--popup-bg-color: #ffffff;--popup-secondary-bg-color: #f1f3f5;--popup-text-color: #000000;--popup-text-inverted-color: #ffffff;--sab: env(safe-area-inset-bottom);--sal: env(safe-area-inset-left);--sar: env(safe-area-inset-right);--sat: env(safe-area-inset-top);--select-highlight-color: #339af0;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.15);--space-factor: 0.25rem;--text-primary-color: #343a40}.excalidraw.Appearance_dark{background:#000}.excalidraw.Appearance_dark.Appearance_dark-background-none{background:none}.excalidraw.Appearance_dark{--appearance-filter: invert(93%) hue-rotate(180deg);--button-destructive-bg-color: #5a0000;--button-destructive-color: #ffa8a8;--button-gray-1: #363636;--button-gray-2: #272727;--button-gray-3: #222;--button-special-active-bg-color: #204624;--dialog-border-color: #212529;--dropdown-icon: url(\'data:image/svg+xml,\x3csvg xmlns\x3d"http://www.w3.org/2000/svg" width\x3d"292.4" height\x3d"292.4" viewBox\x3d"0 0 292 292"\x3e\x3cpath fill\x3d"%23ced4da" d\x3d"M287 197L159 69c-4-3-8-5-13-5s-9 2-13 5L5 197c-3 4-5 8-5 13s2 9 5 13c4 4 8 5 13 5h256c5 0 9-1 13-5s5-8 5-13-1-9-5-13z"/\x3e\x3c/svg\x3e\');--focus-highlight-color: #228be6;--icon-fill-color: #ced4da;--icon-green-fill-color: #69db7c;--input-bg-color: #121212;--input-border-color: #2e2e2e;--input-hover-bg-color: #181818;--input-label-color: #e9ecef;--island-bg-color: #1e1e1e;--keybinding-color: #868e96;--overlay-bg-color: rgba(52, 58, 64, 0.12);--popup-bg-color: #2c2c2c;--popup-secondary-bg-color: #222;--popup-text-color: #ced4da;--popup-text-inverted-color: #2c2c2c;--select-highlight-color: #4dabf7;--shadow-island: 0 1px 5px rgba(0, 0, 0, 0.3);--text-primary-color: #ced4da}:root{--zIndex-canvas: 1;--zIndex-wysiwyg: 2;--zIndex-layerUI: 3}.excalidraw{position:relative;overflow:hidden;color:var(--text-primary-color);display:flex;top:0;bottom:0;left:0;right:0}.excalidraw a{font-weight:500;text-decoration:none;color:var(--link-color)}.excalidraw a:hover{text-decoration:underline}.excalidraw canvas{touch-action:none;user-select:none;image-rendering:pixelated;image-rendering:-moz-crisp-edges;z-index:var(--zIndex-canvas)}.excalidraw.Appearance_dark canvas{filter:var(--appearance-filter)}.excalidraw .FixedSideContainer{padding-top:var(--sat, 0);padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0)}.excalidraw .panelRow{display:flex;justify-content:space-between}.excalidraw .panelColumn{display:flex;flex-direction:column}.excalidraw .panelColumn h3,.excalidraw .panelColumn legend,.excalidraw .panelColumn .control-label{margin-top:.333rem;margin-bottom:.333rem;font-size:.75rem;color:var(--text-primary-color);font-weight:bold;display:block}.excalidraw .panelColumn .control-label input{display:block;width:100%}.excalidraw .panelColumn h3:first-child,.excalidraw .panelColumn legend:first-child,.excalidraw .panelColumn .control-label:first-child{margin-top:0}.excalidraw .panelColumn legend{padding:0}.excalidraw .panelColumn .iconSelectList{flex-wrap:wrap;position:relative}.excalidraw .panelColumn .buttonList{flex-wrap:wrap}.excalidraw .panelColumn .buttonList label{margin-right:.25rem;font-size:.75rem;display:inline-block}.excalidraw .panelColumn .buttonList input[type\x3dradio],.excalidraw .panelColumn .buttonList input[type\x3dbutton]{opacity:0;position:absolute;pointer-events:none}.excalidraw .panelColumn .buttonList .iconRow{margin-top:8px}.excalidraw .panelColumn .buttonList .ToolIcon{margin:0;margin-inline-end:8px}.excalidraw .panelColumn .buttonList .ToolIcon:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .panelColumn .buttonList .ToolIcon:hover{background-color:var(--button-gray-2)}.excalidraw .panelColumn .buttonList .ToolIcon:active{background-color:var(--button-gray-3)}.excalidraw .panelColumn .buttonList .ToolIcon:disabled{cursor:not-allowed}.excalidraw .panelColumn .buttonList .ToolIcon__icon{width:28px;height:28px}.excalidraw .panelColumn fieldset{margin:0;margin-top:.333rem;padding:0;border:none}.excalidraw .divider{width:1px;background-color:#e9ecef;margin:1px}.excalidraw .buttonList label:focus-within,.excalidraw input:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button,.excalidraw .buttonList label{user-select:none;background-color:var(--button-gray-1);border:0;border-radius:4px;margin:.125rem 0;padding:.25rem;white-space:nowrap;cursor:pointer}.excalidraw button:focus,.excalidraw .buttonList label:focus{outline:transparent;box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw button:hover,.excalidraw .buttonList label:hover{background-color:var(--button-gray-2)}.excalidraw button:active,.excalidraw .buttonList label:active{background-color:var(--button-gray-3)}.excalidraw button:disabled,.excalidraw .buttonList label:disabled{cursor:not-allowed}.excalidraw .active,.excalidraw .buttonList label.active{background-color:var(--button-gray-2)}.excalidraw .active:hover,.excalidraw .buttonList label.active:hover{background-color:var(--button-gray-2)}.excalidraw .active:active,.excalidraw .buttonList label.active:active{background-color:var(--button-gray-3)}.excalidraw .buttonList.buttonListIcon label{display:inline-flex;justify-content:center;align-items:center}.excalidraw .buttonList.buttonListIcon label svg{width:36px;height:18px;opacity:.6}.excalidraw .buttonList.buttonListIcon label.active svg{opacity:1}.excalidraw .App-top-bar{z-index:var(--zIndex-layerUI);display:flex;flex-direction:column;align-items:center}.excalidraw .App-bottom-bar{position:absolute;top:0;bottom:0;left:0;right:0;--bar-padding: calc(4 * var(--space-factor));padding-top:max(var(--bar-padding), var(--sat,0));padding-right:var(--sar, 0);padding-bottom:var(--sab, 0);padding-left:var(--sal, 0);z-index:4;display:flex;align-items:flex-end;pointer-events:none}.excalidraw .App-bottom-bar\x3e.Island{width:100%;max-width:100%;min-width:100%;box-sizing:border-box;max-height:100%;display:flex;flex-direction:column;pointer-events:initial}.excalidraw .App-bottom-bar\x3e.Island .panelColumn{padding:8px 8px 0 8px}.excalidraw .App-toolbar{width:100%;box-sizing:border-box}.excalidraw .App-toolbar-content{display:flex;align-items:center;justify-content:space-between;padding:8px}.excalidraw .App-mobile-menu{width:100%;overflow-x:visible;overflow-y:auto;box-sizing:border-box;margin-bottom:var(--bar-padding)}.excalidraw .App-menu{display:grid;color:var(--icon-fill-color)}.excalidraw .App-menu_top{grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_top\x3e*{pointer-events:all}.excalidraw .App-menu_top\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_top\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_bottom{position:absolute;bottom:0;grid-template-columns:1fr auto 1fr;grid-gap:4px;align-items:flex-start;cursor:default;pointer-events:none !important;z-index:100}:root[dir\x3dltr] .excalidraw .App-menu_bottom{left:.25rem}:root[dir\x3drtl] .excalidraw .App-menu_bottom{right:.25rem}.excalidraw .App-menu_bottom--transition-left section{width:185px}.excalidraw .App-menu_bottom section{display:flex}.excalidraw .layer-ui__wrapper:not(.disable-pointerEvents) .App-menu_bottom\x3e*{pointer-events:all}.excalidraw .App-menu_bottom\x3e*:first-child{justify-self:flex-start}.excalidraw .App-menu_bottom\x3e*:last-child{justify-self:flex-end}.excalidraw .App-menu_left{grid-template-rows:1fr auto 1fr;height:100%}.excalidraw .App-menu_right{grid-template-rows:1fr;height:100%}.excalidraw .App-menu__left{overflow-y:auto}.excalidraw .dropdown-select{height:1.5rem;padding:0;padding-inline-start:.5rem;padding-inline-end:1.5rem;color:var(--icon-fill-color);background-color:var(--button-gray-1);border-radius:var(--space-factor);border:1px solid var(--button-gray-2);font-size:.8rem;outline:none;appearance:none;background-image:var(--dropdown-icon);background-repeat:no-repeat;background-position:right .7rem top 50%,0 0;background-size:.65em auto,100%}:root[dir\x3drtl] .excalidraw .dropdown-select{background-position:left .7rem top 50%,0 0}.excalidraw .dropdown-select:focus{box-shadow:0 0 0 2px var(--focus-highlight-color)}.excalidraw .dropdown-select:hover{background-color:var(--button-gray-2)}.excalidraw .dropdown-select:active{background-color:var(--button-gray-2)}.excalidraw .dropdown-select.dropdown-select--floating{position:absolute;margin:.5em}.excalidraw .dropdown-select__language.dropdown-select--floating{position:absolute;bottom:10px}:root[dir\x3dltr] .excalidraw .dropdown-select__language.dropdown-select--floating{right:44px}:root[dir\x3drtl] .excalidraw .dropdown-select__language.dropdown-select--floating{left:44px}.excalidraw .zIndexButton{margin:0;margin-inline-end:8px;padding:5px;display:inline-flex;align-items:center;justify-content:center}.excalidraw .zIndexButton svg{width:18px;height:18px}.excalidraw .scroll-back-to-content{color:var(--popup-text-color);position:absolute;left:50%;bottom:30px;transform:translateX(-50%);padding:10px 20px}.excalidraw .help-icon{position:absolute;cursor:pointer;fill:#868e96;bottom:14px;width:1.5rem}:root[dir\x3dltr] .excalidraw .help-icon{right:14px}:root[dir\x3drtl] .excalidraw .help-icon{left:14px}@media(max-width: 600px),(max-height: 500px)and (max-width: 1000px){.excalidraw aside{display:none}.excalidraw .scroll-back-to-content{bottom:calc(80px + var(--sab, 0));z-index:-1}}:root[dir\x3drtl] .excalidraw .rtl-mirror{transform:scaleX(-1)}.excalidraw .github-corner{position:absolute;top:0;z-index:2}:root[dir\x3dltr] .excalidraw .github-corner{right:0}:root[dir\x3drtl] .excalidraw .github-corner{left:0}.excalidraw .zen-mode-visibility{visibility:visible;opacity:1;height:auto;width:auto;transition:opacity .5s}.excalidraw .zen-mode-visibility.zen-mode-visibility--hidden{visibility:hidden;opacity:0;height:0;width:0;transition:opacity .5s}.excalidraw .disable-pointerEvents{pointer-events:none !important}.excalidraw.excalidraw--view-mode .App-menu{display:flex;justify-content:space-between}@media print{.excalidraw .App-bottom-bar,.excalidraw .FixedSideContainer,.excalidraw .layer-ui__wrapper{display:none}}.ErrorSplash.excalidraw{min-height:100vh;padding:20px 0;overflow:auto;display:flex;align-items:center;justify-content:center;user-select:text}.ErrorSplash.excalidraw .ErrorSplash-messageContainer{display:flex;flex-direction:column;align-items:center;justify-content:center;padding:40px;background-color:#ffe3e3;border:3px solid #c92a2a}.ErrorSplash.excalidraw .ErrorSplash-paragraph{margin:15px 0;max-width:600px}.ErrorSplash.excalidraw .ErrorSplash-paragraph.align-center{text-align:center}.ErrorSplash.excalidraw .bigger,.ErrorSplash.excalidraw .bigger button{font-size:1.1em}.ErrorSplash.excalidraw .smaller,.ErrorSplash.excalidraw .smaller button{font-size:.9em}.ErrorSplash.excalidraw .ErrorSplash-details{display:flex;flex-direction:column;align-items:flex-start}.ErrorSplash.excalidraw .ErrorSplash-details textarea{width:100%;margin:10px 0;font-family:"Cascadia";font-size:.8em}',
""]);const D=l},3245:(E,w,l)=>{l.r(w);l.d(w,{default:()=>D});w=l(3645);l=l.n(w)()(function(H){return H[1]});l.push([E.id,"",""]);l.locals={isMobileQuery:"(max-width: 600px), (max-height: 500px) and (max-width: 1000px)",appearanceFilter:"invert(93%) hue-rotate(180deg)"};const D=l},3645:E=>{E.exports=function(w){var l=[];return l.toString=function(){return this.map(function(D){var H=w(D);return D[2]?"@media ".concat(D[2]," {").concat(H,"}"):H}).join("")},l.i=function(D,H,I){"string"==typeof D&&(D=[[null,
D,""]]);var S={};if(I)for(var Z=0;Z<this.length;Z++){var B=this[Z][0];null!=B&&(S[B]=!0)}for(Z=0;Z<D.length;Z++)B=[].concat(D[Z]),I&&S[B[0]]||(H&&(B[2]?B[2]="".concat(H," and ").concat(B[2]):B[2]=H),l.push(B))},l}},1667:E=>{E.exports=function(w,l){return l||(l={}),"string"!=typeof(w=w&&w.__esModule?w.default:w)?w:(/^['"].*['"]$/.test(w)&&(w=w.slice(1,-1)),l.hash&&(w+=l.hash),/["'() \t\n]/.test(w)||l.needQuotes?'"'.concat(w.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):w)}},9638:(E,w,l)=>{l.d(w,{Z:()=>
D});const D=l.p+"excalidraw-assets/Cascadia.woff2"},7464:(E,w,l)=>{l.d(w,{Z:()=>D});const D=l.p+"excalidraw-assets/Virgil.woff2"},8288:(E,w,l)=>{l.d(w,{iC:()=>H,f:()=>I,qx:()=>S,Iw:()=>Z,$e:()=>B,wZ:()=>q,ay:()=>A,oc:()=>n,Oh:()=>V,Ks:()=>D,Vi:()=>ma,$C:()=>ba,ut:()=>ra,_D:()=>ka,n5:()=>ia,rk:()=>G,Hg:()=>R,hs:()=>L,eQ:()=>P,k:()=>K,LO:()=>X,I:()=>T,Gj:()=>ea,nM:()=>va,Lg:()=>Y,HM:()=>oa,V4:()=>ta,EH:()=>wa,Gi:()=>Fa});var D;E=l(2189);l=l.n(E);var H="Excalidraw",I=10,S=8,Z=5,B=1,q=30,A=Math.PI/12,
n={TEXT:"text",CROSSHAIR:"crosshair",GRABBING:"grabbing",POINTER:"pointer",MOVE:"move",AUTO:""},V={MAIN:0,WHEEL:1,SECONDARY:2,TOUCH:-1};!function(ya){ya.COPY="copy";ya.PASTE="paste";ya.CUT="cut";ya.KEYDOWN="keydown";ya.KEYUP="keyup";ya.MOUSE_MOVE="mousemove";ya.RESIZE="resize";ya.UNLOAD="unload";ya.BLUR="blur";ya.DRAG_OVER="dragover";ya.DROP="drop";ya.GESTURE_END="gestureend";ya.BEFORE_UNLOAD="beforeunload";ya.GESTURE_START="gesturestart";ya.GESTURE_CHANGE="gesturechange";ya.POINTER_MOVE="pointermove";
ya.POINTER_UP="pointerup";ya.STATE_CHANGE="statechange";ya.WHEEL="wheel";ya.TOUCH_START="touchstart";ya.TOUCH_END="touchend";ya.HASHCHANGE="hashchange";ya.VISIBILITY_CHANGE="visibilitychange";ya.SCROLL="scroll"}(D||(D={}));var ma={TEST:"test",DEVELOPMENT:"development"},ba={SHAPE_ACTIONS_MENU:"App-menu__left"},ra={1:"Virgil",2:"Helvetica",3:"Cascadia"},ka="Segoe UI Emoji",ia=20,G=1,R="left",L="top",P="{version}",K=20,X={excalidraw:"application/vnd.excalidraw+json",excalidrawlib:"application/vnd.excalidrawlib+json"},
T={LOCAL_STORAGE_LIBRARY:"excalidraw-library"},ea=300,va=500,Y=5E3,oa=100,ta=.1,wa={VIEW:"viewMode",ZEN:"zenMode",GRID:"gridMode"},Fa=l().appearanceFilter},3956:(E,w,l)=>{function D(d,x){return Math.pow(d[0]-x[0],2)+Math.pow(d[1]-x[1],2)}function H(d,x,z){return[d[0]+(x[0]-d[0])*z,d[1]+(x[1]-d[1])*z]}function I(d,x,z,O){O=O||[];var da=d[x+0],la=d[x+1],za=d[x+2];const xa=d[x+3];var Ga=3*la[0]-2*da[0]-xa[0];Ga*=Ga;la=3*la[1]-2*da[1]-xa[1];la*=la;let Sa=3*za[0]-2*xa[0]-da[0];Sa*=Sa;da=3*za[1]-2*xa[1]-
da[1];(da*=da,Ga<Sa&&(Ga=Sa),la<da&&(la=da),Ga+la)<z?(z=d[x+0],O.length?1<(Ma=O[O.length-1],kb=z,Math.sqrt(D(Ma,kb)))&&O.push(z):O.push(z),O.push(d[x+3])):(Ma=d[x+0],Ga=d[x+1],kb=d[x+2],d=d[x+3],x=H(Ma,Ga,.5),da=H(Ga,kb,.5),kb=H(kb,d,.5),Ga=H(x,da,.5),da=H(da,kb,.5),za=H(Ga,da,.5),I([Ma,x,Ga,za],0,z,O),I([za,da,kb,d],0,z,O));var Ma,kb;return O}function S(d,x){return Z(d,0,d.length,x)}function Z(d,x,z,O,da){da=da||[];const la=d[x],za=d[z-1];let xa=0,Ga=1;for(let tb=x+1;tb<z-1;++tb){var Sa=d[tb];var Ma=
la,kb=za,qb=D(Ma,kb);0===qb?Sa=D(Sa,Ma):(qb=((Sa[0]-Ma[0])*(kb[0]-Ma[0])+(Sa[1]-Ma[1])*(kb[1]-Ma[1]))/qb,Sa=(qb=Math.max(0,Math.min(1,qb)),D(Sa,H(Ma,kb,qb))));Sa>xa&&(xa=Sa,Ga=tb)}return Math.sqrt(xa)>O?(Z(d,x,Ga+1,O,da),Z(d,Ga,z,O,da)):(da.length||da.push(la),da.push(za)),da}function B(d,x=.15,z){const O=[],da=(d.length-1)/3;for(let la=0;la<da;la++)I(d,3*la,x,O);return z&&0<z?Z(O,0,O.length,z):O}function q(d,x,z){if(d&&d.length){const [O,da]=x;x=Math.PI/180*z;const la=Math.cos(x),za=Math.sin(x);
d.forEach(xa=>{const [Ga,Sa]=xa;xa[0]=(Ga-O)*la-(Sa-da)*za+O;xa[1]=(Ga-O)*za+(Sa-da)*la+da})}}function A(d){const x=d[0];d=d[1];return Math.sqrt(Math.pow(x[0]-d[0],2)+Math.pow(x[1]-d[1],2))}function n(d,x,z,O){const da=x[1]-d[1];x=d[0]-x[0];d=da*d[0]+x*d[1];const la=O[1]-z[1];O=z[0]-O[0];z=la*z[0]+O*z[1];const za=da*O-la*x;return za?[(O*d-x*z)/za,(da*z-la*d)/za]:null}function V(d,x,z){const O=d.length;if(3>O)return!1;const da=[Number.MAX_SAFE_INTEGER,z];x=[x,z];z=0;for(let la=0;la<O;la++){const za=
d[la],xa=d[(la+1)%O];if(ra(za,xa,x,da)){if(0===ba(za,x,xa))return ma(za,x,xa);z++}}return 1==z%2}function ma(d,x,z){return x[0]<=Math.max(d[0],z[0])&&x[0]>=Math.min(d[0],z[0])&&x[1]<=Math.max(d[1],z[1])&&x[1]>=Math.min(d[1],z[1])}function ba(d,x,z){d=(x[1]-d[1])*(z[0]-x[0])-(x[0]-d[0])*(z[1]-x[1]);return 0===d?0:0<d?1:2}function ra(d,x,z,O){const da=ba(d,x,z),la=ba(d,x,O),za=ba(z,O,d),xa=ba(z,O,x);return da!==la&&za!==xa||!(0!==da||!ma(d,z,x))||!(0!==la||!ma(d,O,x))||!(0!==za||!ma(z,d,O))||!(0!==
xa||!ma(z,x,O))}function ka(d,x){const z=[0,0],O=Math.round(x.hachureAngle+90);O&&q(d,z,O);x=function(da,la){var za=[...da];za[0].join(",")!==za[za.length-1].join(",")&&za.push([za[0][0],za[0][1]]);da=[];if(za&&2<za.length){let Ga=la.hachureGap;0>Ga&&(Ga=4*la.strokeWidth);Ga=Math.max(Ga,.1);la=[];for(var xa=0;xa<za.length-1;xa++){const kb=za[xa],qb=za[xa+1];if(kb[1]!==qb[1]){const tb=Math.min(kb[1],qb[1]);la.push({ymin:tb,ymax:Math.max(kb[1],qb[1]),x:tb===kb[1]?kb[0]:qb[0],islope:(qb[0]-kb[0])/(qb[1]-
kb[1])})}}if(la.sort((kb,qb)=>kb.ymin<qb.ymin?-1:kb.ymin>qb.ymin?1:kb.x<qb.x?-1:kb.x>qb.x?1:kb.ymax===qb.ymax?0:(kb.ymax-qb.ymax)/Math.abs(kb.ymax-qb.ymax)),!la.length)return da;let Sa=[],Ma=la[0].ymin;for(;Sa.length||la.length;){if(la.length){za=-1;for(xa=0;xa<la.length&&!(la[xa].ymin>Ma);xa++)za=xa;la.splice(0,za+1).forEach(kb=>{Sa.push({s:Ma,edge:kb})})}if(Sa=Sa.filter(kb=>!(kb.edge.ymax<=Ma)),Sa.sort((kb,qb)=>kb.edge.x===qb.edge.x?0:(kb.edge.x-qb.edge.x)/Math.abs(kb.edge.x-qb.edge.x)),1<Sa.length)for(za=
0;za<Sa.length;za+=2){xa=za+1;if(xa>=Sa.length)break;da.push([[Math.round(Sa[za].edge.x),Ma],[Math.round(Sa[xa].edge.x),Ma]])}Ma+=Ga;Sa.forEach(kb=>{kb.edge.x+=Ga*kb.edge.islope})}}return da}(d,x);return O&&(q(d,z,-O),function(da,la,za){const xa=[];da.forEach(Ga=>xa.push(...Ga));q(xa,la,za)}(x,z,-O)),x}function ia(d){const x=[];a:{var z=d;for(var O=[];""!==z;){if(!z.match(/^([ \t\r\n,]+)/))if(z.match(/^([aAcChHlLmMqQsStTvVzZ])/))O[O.length]={type:0,text:RegExp.$1};else{if(!z.match(/^(([-+]?[0-9]+(\.[0-9]*)?|[-+]?\.[0-9]+)([eE][-+]?[0-9]+)?)/)){z=
[];break a}O[O.length]={type:1,text:`${parseFloat(RegExp.$1)}`}}z=z.substr(RegExp.$1.length)}z=(O[O.length]={type:2,text:""},O)}O="BOD";let da=0;for(var la=z[da];2!==la.type;){let za=0;const xa=[];if("BOD"===O){if("M"!==la.text&&"m"!==la.text)return ia("M0,0"+d);da++;za=Gg[la.text];O=la.text}else 1===la.type?za=Gg[O]:(da++,za=Gg[la.text],O=la.text);if(!(da+za<z.length))throw Error("Path data ended short");for(la=da;la<da+za;la++){const Ga=z[la];if(1!==Ga.type)throw Error("Param not a number: "+O+
","+Ga.text);xa[xa.length]=+Ga.text}if("number"!=typeof Gg[O])throw Error("Bad segment: "+O);x.push({key:O,data:xa});da+=za;la=z[da];"M"===O&&(O="L");"m"===O&&(O="l")}return x}function G(d){let x=0,z=0,O=0,da=0;const la=[];for(const {key:za,data:xa}of d)switch(za){case "M":la.push({key:"M",data:[...xa]});[x,z]=xa;[O,da]=xa;break;case "m":x+=xa[0];z+=xa[1];la.push({key:"M",data:[x,z]});O=x;da=z;break;case "L":la.push({key:"L",data:[...xa]});[x,z]=xa;break;case "l":x+=xa[0];z+=xa[1];la.push({key:"L",
data:[x,z]});break;case "C":la.push({key:"C",data:[...xa]});x=xa[4];z=xa[5];break;case "c":d=xa.map((Ga,Sa)=>Sa%2?Ga+z:Ga+x);la.push({key:"C",data:d});x=d[4];z=d[5];break;case "Q":la.push({key:"Q",data:[...xa]});x=xa[2];z=xa[3];break;case "q":d=xa.map((Ga,Sa)=>Sa%2?Ga+z:Ga+x);la.push({key:"Q",data:d});x=d[2];z=d[3];break;case "A":la.push({key:"A",data:[...xa]});x=xa[5];z=xa[6];break;case "a":x+=xa[5];z+=xa[6];la.push({key:"A",data:[xa[0],xa[1],xa[2],xa[3],xa[4],x,z]});break;case "H":la.push({key:"H",
data:[...xa]});x=xa[0];break;case "h":x+=xa[0];la.push({key:"H",data:[x]});break;case "V":la.push({key:"V",data:[...xa]});z=xa[0];break;case "v":z+=xa[0];la.push({key:"V",data:[z]});break;case "S":la.push({key:"S",data:[...xa]});x=xa[2];z=xa[3];break;case "s":d=xa.map((Ga,Sa)=>Sa%2?Ga+z:Ga+x);la.push({key:"S",data:d});x=d[2];z=d[3];break;case "T":la.push({key:"T",data:[...xa]});x=xa[0];z=xa[1];break;case "t":x+=xa[0];z+=xa[1];la.push({key:"T",data:[x,z]});break;case "Z":case "z":la.push({key:"Z",
data:[]}),x=O,z=da}return la}function R(d){const x=[];var z="";let O=0,da=0,la=0,za=0,xa=0,Ga=0;for(const {key:Ma,data:kb}of d){switch(Ma){case "M":x.push({key:"M",data:[...kb]});[O,da]=kb;[la,za]=kb;break;case "C":x.push({key:"C",data:[...kb]});O=kb[4];da=kb[5];xa=kb[2];Ga=kb[3];break;case "L":x.push({key:"L",data:[...kb]});[O,da]=kb;break;case "H":O=kb[0];x.push({key:"L",data:[O,da]});break;case "V":da=kb[0];x.push({key:"L",data:[O,da]});break;case "S":var Sa=d=0;"C"===z||"S"===z?(d=O+(O-xa),Sa=
da+(da-Ga)):(d=O,Sa=da);x.push({key:"C",data:[d,Sa,...kb]});xa=kb[0];Ga=kb[1];O=kb[2];da=kb[3];break;case "T":const [qb,tb]=kb;Sa=d=0;"Q"===z||"T"===z?(d=O+(O-xa),Sa=da+(da-Ga)):(d=O,Sa=da);x.push({key:"C",data:[O+2*(d-O)/3,da+2*(Sa-da)/3,qb+2*(d-qb)/3,tb+2*(Sa-tb)/3,qb,tb]});xa=d;Ga=Sa;O=qb;da=tb;break;case "Q":const [cc,Xb,Ac,gd]=kb;x.push({key:"C",data:[O+2*(cc-O)/3,da+2*(Xb-da)/3,Ac+2*(cc-Ac)/3,gd+2*(Xb-gd)/3,Ac,gd]});xa=cc;Ga=Xb;O=Ac;da=gd;break;case "A":z=Math.abs(kb[0]);d=Math.abs(kb[1]);Sa=
kb[2];const kd=kb[3],xd=kb[4],ne=kb[5],me=kb[6];if(0===z||0===d)x.push({key:"C",data:[O,da,ne,me,ne,me]}),O=ne,da=me;else if(O!==ne||da!==me)P(O,da,ne,me,z,d,Sa,kd,xd).forEach(function(Re){x.push({key:"C",data:Re})}),O=ne,da=me;break;case "Z":x.push({key:"Z",data:[]}),O=la,da=za}z=Ma}return x}function L(d,x,z){return[d*Math.cos(z)-x*Math.sin(z),d*Math.sin(z)+x*Math.cos(z)]}function P(d,x,z,O,da,la,za,xa,Ga,Sa){const Ma=(kb=za,Math.PI*kb/180);var kb;kb=[];if(Sa)[xa,qb,tb,cc]=Sa;else{[d,x]=L(d,x,-Ma);
[z,O]=L(z,O,-Ma);var qb=(d-z)/2;var tb=(x-O)/2;var cc=qb*qb/(da*da)+tb*tb/(la*la);1<cc&&(cc=Math.sqrt(cc),da*=cc,la*=cc);cc=da*da;var Xb=la*la;xa=(xa===Ga?-1:1)*Math.sqrt(Math.abs((cc*Xb-cc*tb*tb-Xb*qb*qb)/(cc*tb*tb+Xb*qb*qb)));tb=xa*da*tb/la+(d+z)/2;cc=xa*-la*qb/da+(x+O)/2;xa=Math.asin(parseFloat(((x-cc)/la).toFixed(9)));qb=Math.asin(parseFloat(((O-cc)/la).toFixed(9)));d<tb&&(xa=Math.PI-xa);z<tb&&(qb=Math.PI-qb);0>xa&&(xa=2*Math.PI+xa);0>qb&&(qb=2*Math.PI+qb);Ga&&xa>qb&&(xa-=2*Math.PI);!Ga&&qb>xa&&
(qb-=2*Math.PI)}if(Math.abs(qb-xa)>120*Math.PI/180){kb=qb;Xb=z;const Ac=O;qb=Ga&&qb>xa?xa+120*Math.PI/180:xa+120*Math.PI/180*-1;kb=P(z=tb+da*Math.cos(qb),O=cc+la*Math.sin(qb),Xb,Ac,da,la,za,0,Ga,[qb,kb,tb,cc])}za=Math.tan((qb-xa)/4);da=4/3*da*za;za*=4/3*la;la=[d,x];d=[d+da*Math.sin(xa),x-za*Math.cos(xa)];x=[z+da*Math.sin(qb),O-za*Math.cos(qb)];z=[z,O];if(d[0]=2*la[0]-d[0],d[1]=2*la[1]-d[1],Sa)return[d,x,z].concat(kb);kb=[d,x,z].concat(kb);Sa=[];for(z=0;z<kb.length;z+=3)O=L(kb[z][0],kb[z][1],Ma),d=
L(kb[z+1][0],kb[z+1][1],Ma),x=L(kb[z+2][0],kb[z+2][1],Ma),Sa.push([O[0],O[1],d[0],d[1],x[0],x[1]]);return Sa}function K(d,x,z){const O=(d||[]).length;if(2<O){const da=[];for(let la=0;la<O-1;la++)da.push(...ya(d[la][0],d[la][1],d[la+1][0],d[la+1][1],z));return x&&da.push(...ya(d[O-1][0],d[O-1][1],d[0][0],d[0][1],z)),{type:"path",ops:da}}return 2===O?{type:"path",ops:ya(d[0][0],d[0][1],d[1][0],d[1][1],z)}:{type:"path",ops:[]}}function X(d,x){let z=cb(d,1+.2*x.roughness,x);if(!x.disableMultiStroke){var O=
1.5*(1+.22*x.roughness);const da=Object.assign({},x);da.randomizer=void 0;x.seed&&(da.seed=x.seed+1);d=cb(d,O,da);z=z.concat(d)}return{type:"path",ops:z}}function T(d,x,z){const O=2*Math.PI/Math.max(z.curveStepCount,z.curveStepCount/Math.sqrt(200)*Math.sqrt(2*Math.PI*Math.sqrt((Math.pow(d/2,2)+Math.pow(x/2,2))/2)));d=Math.abs(d/2);x=Math.abs(x/2);const da=1-z.curveFitting;return d+=Fa(d*da,z),x+=Fa(x*da,z),{increment:O,rx:d,ry:x}}function ea(d,x,z,O){const [da,la]=Lb(O.increment,d,x,O.rx,O.ry,1,O.increment*
wa(.1,wa(.4,1,z),z),z);let za=Db(da,null,z);z.disableMultiStroke||([d]=Lb(O.increment,d,x,O.rx,O.ry,1.5,0,z),z=Db(d,null,z),za=za.concat(z));return{estimatedPoints:la,opset:{type:"path",ops:za}}}function va(d,x,z,O,da,la,za,xa,Ga){z=Math.abs(z/2);O=Math.abs(O/2);z+=Fa(.01*z,Ga);for(O+=Fa(.01*O,Ga);0>da;)da+=2*Math.PI,la+=2*Math.PI;la-da>2*Math.PI&&(da=0,la=2*Math.PI);var Sa=Math.min(2*Math.PI/Ga.curveStepCount/2,(la-da)/2);const Ma=Vb(Sa,d,x,z,O,da,la,1,Ga);Ga.disableMultiStroke||(Sa=Vb(Sa,d,x,z,
O,da,la,1.5,Ga),Ma.push(...Sa));return za&&(xa?Ma.push(...ya(d,x,d+z*Math.cos(da),x+O*Math.sin(da),Ga),...ya(d,x,d+z*Math.cos(la),x+O*Math.sin(la),Ga)):Ma.push({op:"lineTo",data:[d,x]},{op:"lineTo",data:[d+z*Math.cos(da),x+O*Math.sin(da)]})),{type:"path",ops:Ma}}function Y(d,x){const z=[];if(d.length){const O=x.maxRandomnessOffset||0,da=d.length;if(2<da){z.push({op:"move",data:[d[0][0]+Fa(O,x),d[0][1]+Fa(O,x)]});for(let la=1;la<da;la++)z.push({op:"lineTo",data:[d[la][0]+Fa(O,x),d[la][1]+Fa(O,x)]})}}return{type:"fillPath",
ops:z}}function oa(d,x){var z=Fd;let O=x.fillStyle||"hachure";if(!df[O])switch(O){case "zigzag":df[O]||(df[O]=new Hd(z));break;case "cross-hatch":df[O]||(df[O]=new af(z));break;case "dots":df[O]||(df[O]=new Bg(z));break;case "dashed":df[O]||(df[O]=new uh(z));break;case "zigzag-line":df[O]||(df[O]=new ah(z));break;default:O="hachure",df[O]||(df[O]=new Cd(z))}return df[O].fillPolygon(d,x)}function ta(d){return d.randomizer||(d.randomizer=new Me(d.seed||0)),d.randomizer.next()}function wa(d,x,z,O=1){return z.roughness*
O*(ta(z)*(x-d)+d)}function Fa(d,x,z=1){return wa(-d,d,x,z)}function ya(d,x,z,O,da,la=!1){const za=la?da.disableMultiStrokeFill:da.disableMultiStroke;la=Pa(d,x,z,O,da,!0,!1);if(za)return la;d=Pa(d,x,z,O,da,!0,!0);return la.concat(d)}function Pa(d,x,z,O,da,la,za){var xa=Math.pow(d-z,2)+Math.pow(x-O,2),Ga=Math.sqrt(xa);let Sa;Sa=200>Ga?1:500<Ga?.4:-.0016668*Ga+1.233334;let Ma=da.maxRandomnessOffset||0;Ma*Ma*100>xa&&(Ma=Ga/10);xa=Ma/2;Ga=.2+.2*ta(da);let kb=da.bowing*da.maxRandomnessOffset*(O-x)/200,
qb=da.bowing*da.maxRandomnessOffset*(d-z)/200;kb=Fa(kb,da,Sa);qb=Fa(qb,da,Sa);const tb=[];return la&&(za?tb.push({op:"move",data:[d+Fa(xa,da,Sa),x+Fa(xa,da,Sa)]}):tb.push({op:"move",data:[d+Fa(Ma,da,Sa),x+Fa(Ma,da,Sa)]})),za?tb.push({op:"bcurveTo",data:[kb+d+(z-d)*Ga+Fa(xa,da,Sa),qb+x+(O-x)*Ga+Fa(xa,da,Sa),kb+d+2*(z-d)*Ga+Fa(xa,da,Sa),qb+x+2*(O-x)*Ga+Fa(xa,da,Sa),z+Fa(xa,da,Sa),O+Fa(xa,da,Sa)]}):tb.push({op:"bcurveTo",data:[kb+d+(z-d)*Ga+Fa(Ma,da,Sa),qb+x+(O-x)*Ga+Fa(Ma,da,Sa),kb+d+2*(z-d)*Ga+Fa(Ma,
da,Sa),qb+x+2*(O-x)*Ga+Fa(Ma,da,Sa),z+Fa(Ma,da,Sa),O+Fa(Ma,da,Sa)]}),tb}function cb(d,x,z){const O=[];O.push([d[0][0]+Fa(x,z),d[0][1]+Fa(x,z)]);O.push([d[0][0]+Fa(x,z),d[0][1]+Fa(x,z)]);for(let da=1;da<d.length;da++)O.push([d[da][0]+Fa(x,z),d[da][1]+Fa(x,z)]),da===d.length-1&&O.push([d[da][0]+Fa(x,z),d[da][1]+Fa(x,z)]);return Db(O,null,z)}function Db(d,x,z){const O=d.length,da=[];if(3<O){const la=[],za=1-z.curveTightness;da.push({op:"move",data:[d[1][0],d[1][1]]});for(let xa=1;xa+2<O;xa++){const Ga=
d[xa];la[0]=[Ga[0],Ga[1]];la[1]=[Ga[0]+(za*d[xa+1][0]-za*d[xa-1][0])/6,Ga[1]+(za*d[xa+1][1]-za*d[xa-1][1])/6];la[2]=[d[xa+1][0]+(za*d[xa][0]-za*d[xa+2][0])/6,d[xa+1][1]+(za*d[xa][1]-za*d[xa+2][1])/6];la[3]=[d[xa+1][0],d[xa+1][1]];da.push({op:"bcurveTo",data:[la[1][0],la[1][1],la[2][0],la[2][1],la[3][0],la[3][1]]})}x&&2===x.length&&(d=z.maxRandomnessOffset,da.push({op:"lineTo",data:[x[0]+Fa(d,z),x[1]+Fa(d,z)]}))}else 3===O?(da.push({op:"move",data:[d[1][0],d[1][1]]}),da.push({op:"bcurveTo",data:[d[1][0],
d[1][1],d[2][0],d[2][1],d[2][0],d[2][1]]})):2===O&&da.push(...ya(d[0][0],d[0][1],d[1][0],d[1][1],z));return da}function Lb(d,x,z,O,da,la,za,xa){const Ga=[],Sa=[],Ma=Fa(.5,xa)-Math.PI/2;Sa.push([Fa(la,xa)+x+.9*O*Math.cos(Ma-d),Fa(la,xa)+z+.9*da*Math.sin(Ma-d)]);for(let kb=Ma;kb<2*Math.PI+Ma-.01;kb+=d){const qb=[Fa(la,xa)+x+O*Math.cos(kb),Fa(la,xa)+z+da*Math.sin(kb)];Ga.push(qb);Sa.push(qb)}return Sa.push([Fa(la,xa)+x+O*Math.cos(Ma+2*Math.PI+.5*za),Fa(la,xa)+z+da*Math.sin(Ma+2*Math.PI+.5*za)]),Sa.push([Fa(la,
xa)+x+.98*O*Math.cos(Ma+za),Fa(la,xa)+z+.98*da*Math.sin(Ma+za)]),Sa.push([Fa(la,xa)+x+.9*O*Math.cos(Ma+.5*za),Fa(la,xa)+z+.9*da*Math.sin(Ma+.5*za)]),[Sa,Ga]}function Vb(d,x,z,O,da,la,za,xa,Ga){var Sa=la+Fa(.1,Ga);la=[];for(la.push([Fa(xa,Ga)+x+.9*O*Math.cos(Sa-d),Fa(xa,Ga)+z+.9*da*Math.sin(Sa-d)]);Sa<=za;Sa+=d)la.push([Fa(xa,Ga)+x+O*Math.cos(Sa),Fa(xa,Ga)+z+da*Math.sin(Sa)]);return la.push([x+O*Math.cos(za),z+da*Math.sin(za)]),la.push([x+O*Math.cos(za),z+da*Math.sin(za)]),Db(la,null,Ga)}function Ob(d,
x,z,O,da,la,za,xa){const Ga=[],Sa=[xa.maxRandomnessOffset||1,(xa.maxRandomnessOffset||1)+.3];let Ma;const kb=xa.disableMultiStroke?1:2;for(let qb=0;qb<kb;qb++)0===qb?Ga.push({op:"move",data:[za[0],za[1]]}):Ga.push({op:"move",data:[za[0]+Fa(Sa[0],xa),za[1]+Fa(Sa[0],xa)]}),Ma=[da+Fa(Sa[qb],xa),la+Fa(Sa[qb],xa)],Ga.push({op:"bcurveTo",data:[d+Fa(Sa[qb],xa),x+Fa(Sa[qb],xa),z+Fa(Sa[qb],xa),O+Fa(Sa[qb],xa),Ma[0],Ma[1]]});return Ga}function dc(d){var x,z,O="";if("string"==typeof d||"number"==typeof d)O+=
d;else if("object"==typeof d)if(Array.isArray(d))for(x=0;x<d.length;x++)d[x]&&(z=dc(d[x]))&&(O&&(O+=" "),O+=z);else for(x in d)d[x]&&(O&&(O+=" "),O+=x);return O}function xc(){for(var d,x,z=0,O="";z<arguments.length;)(d=arguments[z++])&&(x=dc(d))&&(O&&(O+=" "),O+=x);return O}function Gb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function fc(d){for(var x=
1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Gb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Gb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Tb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,
da).enumerable}));z.push.apply(z,O)}return z}function zb(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Tb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Tb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function gb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);
x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function db(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?gb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):gb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function $a(d,x){var z=Object.keys(d);
if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Oa(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?$a(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):$a(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,
O))})}return d}function Za(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function jb(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Za(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Za(Object(z)).forEach(function(O){Object.defineProperty(d,
O,Object.getOwnPropertyDescriptor(z,O))})}return d}function $b(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Rb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Gc(d){for(var x=
1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Rb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Rb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Kc(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,
da).enumerable}));z.push.apply(z,O)}return z}function Dc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Kc(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Kc(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Jc(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);
x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Zc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Jc(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Jc(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Md(d,x){var z=Object.keys(d);
if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function ld(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Md(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Md(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,
O))})}return d}function pe(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function qe(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?pe(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):pe(Object(z)).forEach(function(O){Object.defineProperty(d,
O,Object.getOwnPropertyDescriptor(z,O))})}return d}function td(d){var x=d.options,z=d.value,O=d.label,da=d.onChange,la=d.onClose,za=Ha().useRef(),xa=Ha().useRef(),Ga=Ha().useRef(null);Ha().useEffect(function(){xa.current?xa.current.focus():Ga.current&&Ga.current.focus()},[]);return Ha().createElement("div",{className:"picker",role:"dialog","aria-modal":"true","aria-label":O,onKeyDown:function(Sa){var Ma=x.find(function(cc){return cc.keyBinding===Sa.key.toLowerCase()});if(Sa.metaKey||Sa.altKey||Sa.ctrlKey||
!Ma)if("Tab"===Sa.key)setTimeout(function(){xa.current!==document.activeElement&&la()},0);else if(yg(Sa.key)){Ma=J.rtl;if(-1!==(tb=Array.prototype.indexOf.call(Ga.current.children,document.activeElement))){var kb=x.length,qb=tb;switch(Sa.key){case Ma?"ArrowLeft":"ArrowRight":case "ArrowDown":qb=(tb+1)%kb;break;case Ma?"ArrowRight":"ArrowLeft":case "ArrowUp":qb=(kb+tb-1)%kb}Ga.current.children[qb].focus()}Sa.preventDefault()}else"Escape"!==Sa.key&&"Enter"!==Sa.key||(Sa.preventDefault(),la());else{var tb=
x.indexOf(Ma);Ga.current.children[tb].focus();Sa.preventDefault()}Sa.nativeEvent.stopImmediatePropagation()}},Ha().createElement("div",{className:"picker-content",ref:Ga},x.map(function(Sa,Ma){return Ha().createElement("button",{className:"picker-option",onClick:function(kb){kb.currentTarget.focus();da(Sa.value)},title:"".concat(Sa.text," — ").concat(Sa.keyBinding.toUpperCase()),"aria-label":Sa.text||"none","aria-keyshortcuts":Sa.keyBinding,key:Sa.text,ref:function(kb){kb&&0===Ma&&(za.current=kb);
kb&&Sa.value===z&&(xa.current=kb)},onFocus:function(){da(Sa.value)}},Sa.icon,Ha().createElement("span",{className:"picker-keybinding"},Sa.keyBinding))})))}function ud(d){var x,z=d.value,O=d.label,da=d.options,la=d.onChange;d=d.group;d=void 0===d?"":d;var za=Ha().useState(!1),xa=za[0],Ga=za[1],Sa=Ha().useRef(null);za=J.rtl;return Ha().createElement("label",{className:"picker-container"},Ha().createElement("button",{name:d,className:xa?"active":"","aria-label":O,onClick:function(){return Ga(!xa)},ref:Sa},
null===(x=da.find(function(Ma){return Ma.value===z}))||void 0===x?void 0:x.icon),Ha().createElement(Ha().Suspense,{fallback:""},xa?Ha().createElement(Ha().Fragment,null,Ha().createElement(hb,Ud()({onCloseRequest:function(Ma){return Ma.target!==Sa.current&&Ga(!1)}},za?{right:5.5}:{left:-5.5}),Ha().createElement(td,{options:da,value:z,label:O,onChange:la,onClose:function(){var Ma;Ga(!1);null===(Ma=Sa.current)||void 0===Ma||Ma.focus()}})),Ha().createElement("div",{className:"picker-triangle"})):null))}
function Ce(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Ie(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Ce(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Ce(Object(z)).forEach(function(O){Object.defineProperty(d,
O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Qe(){return(0,kc.useContext)(mg)}function kf(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function De(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?kf(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,
Object.getOwnPropertyDescriptors(z)):kf(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function pf(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function tg(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?pf(Object(z),!0).forEach(function(O){Qc()(d,
O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):pf(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}async function Rg(...d){return(await ym).default(...d)}async function Sg(...d){return(await tf).default(...d)}function xe(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,
da).enumerable}));z.push.apply(z,O)}return z}function Te(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?xe(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):xe(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function ig(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);
x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function ze(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?ig(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):ig(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function rb(d,x){var z=Object.keys(d);
if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Cb(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?rb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):rb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,
O))})}return d}function nb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Xa(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?nb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):nb(Object(z)).forEach(function(O){Object.defineProperty(d,
O,Object.getOwnPropertyDescriptor(z,O))})}return d}function fb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function vb(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?fb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):
fb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Sb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function rc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Sb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Sb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function vc(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Nc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?vc(Object(z),
!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):vc(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function rd(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function $c(d){for(var x=1;x<arguments.length;x++){var z=
null!=arguments[x]?arguments[x]:{};x%2?rd(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):rd(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Xd(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,
O)}return z}function tc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Xd(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Xd(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Ub(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,
da).enumerable}));z.push.apply(z,O)}return z}function ae(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Ub(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Ub(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function ad(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);
x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function we(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?ad(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):ad(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function pb(d,x){var z=Object.keys(d);
if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function jc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?pb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):pb(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,
O))})}return d}function lb(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function lc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?lb(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):lb(Object(z)).forEach(function(O){Object.defineProperty(d,
O,Object.getOwnPropertyDescriptor(z,O))})}return d}function md(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Bd(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?md(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):
md(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Vd(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Oe(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Vd(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?
Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Vd(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Ec(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Wc(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Ec(Object(z),
!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Ec(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function oc(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function xb(d){for(var x=1;x<arguments.length;x++){var z=
null!=arguments[x]?arguments[x]:{};x%2?oc(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):oc(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function yd(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,
O)}return z}function ff(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Qd(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,O)}return z}function Tf(d){for(var x=1;x<arguments.length;x++){var z=
null!=arguments[x]?arguments[x]:{};x%2?Qd(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Qd(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}function Ja(d,x){var z=Object.keys(d);if(Object.getOwnPropertySymbols){var O=Object.getOwnPropertySymbols(d);x&&(O=O.filter(function(da){return Object.getOwnPropertyDescriptor(d,da).enumerable}));z.push.apply(z,
O)}return z}function Wa(d){for(var x=1;x<arguments.length;x++){var z=null!=arguments[x]?arguments[x]:{};x%2?Ja(Object(z),!0).forEach(function(O){Qc()(d,O,z[O])}):Object.getOwnPropertyDescriptors?Object.defineProperties(d,Object.getOwnPropertyDescriptors(z)):Ja(Object(z)).forEach(function(O){Object.defineProperty(d,O,Object.getOwnPropertyDescriptor(z,O))})}return d}l.r(w);l.d(w,{default:()=>du,defaultLang:()=>ua,getElementMap:()=>$i,getSceneVersion:()=>cl,getSyncableElements:()=>Nk,languages:()=>t,
restore:()=>mn,restoreAppState:()=>ln,restoreElements:()=>wk});var Ua=l(7154),ib=l.n(Ua),Ib=l(6479),sc=l.n(Ib),kc=l(4698),Ha=l.n(kc),hc=l(8288);const Xc=JSON.parse('{"u2":"@excalidraw/excalidraw","i8":"0.4.3"}');"production"!==hc.Vi.TEST&&(l.p=window.EXCALIDRAW_ASSET_PATH||"https://unpkg.com/".concat(Xc.u2,"@").concat(Xc.i8,"/dist/"));var Pd=l(5374),Rc=l.n(Pd),Rd=l(2829),Nf=l(2051),de=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");
for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=
Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),
za},ua={code:"en",label:"English"},t=[{code:"ar-SA",label:"العربية",rtl:!0},{code:"bg-BG",label:"Български"},{code:"ca-ES",label:"Català"},{code:"de-DE",label:"Deutsch"},{code:"el-GR",label:"Ελληνικά"},{code:"es-ES",label:"Español"},{code:"fa-IR",label:"فارسی",rtl:!0},{code:"fi-FI",label:"Suomi"},{code:"fr-FR",label:"Français"},{code:"he-IL",label:"עברית",rtl:!0},{code:"hi-IN",label:"हिन्दी"},{code:"hu-HU",label:"Magyar"},{code:"id-ID",label:"Bahasa Indonesia"},{code:"it-IT",label:"Italiano"},{code:"ja-JP",
label:"日本語"},{code:"kab-KAB",label:"Taqbaylit"},{code:"ko-KR",label:"한국어"},{code:"my-MM",label:"Burmese"},{code:"nb-NO",label:"Norsk bokmål"},{code:"nl-NL",label:"Nederlands"},{code:"nn-NO",label:"Norsk nynorsk"},{code:"oc-FR",label:"Occitan"},{code:"pa-IN",label:"ਪੰਜਾਬੀ"},{code:"pl-PL",label:"Polski"},{code:"pt-BR",label:"Português Brasileiro"},{code:"pt-PT",label:"Português"},{code:"ro-RO",label:"Română"},{code:"ru-RU",label:"Русский"},{code:"sk-SK",label:"Slovenčina"},{code:"sv-SE",label:"Svenska"},
{code:"tr-TR",label:"Türkçe"},{code:"uk-UA",label:"Українська"},{code:"zh-CN",label:"简体中文"},{code:"zh-TW",label:"繁體中文"}].concat([ua]).sort(function(d,x){return d.label>x.label?1:-1}).filter(function(d){return 85<=Nf[d.code]});"production"===hc.Vi.DEVELOPMENT&&t.unshift({code:"__test__",label:"test language"},{code:"".concat("__test__",".rtl"),label:"‪test language (rtl)‬",rtl:!0});var y,J=ua,ja={},Ca=function(){var d=Rc()(function(x){return de(this,function(z){switch(z.label){case 0:return J=x,document.documentElement.dir=
J.rtl?"rtl":"ltr",document.documentElement.lang=J.code,x.code.startsWith("__test__")?(ja={},[3,3]):[3,1];case 1:return[4,l(788)("./".concat(J.code,".json"))];case 2:ja=z.sent(),z.label=3;case 3:return[2]}})});return function(x){return d.apply(this,arguments)}}(),Qa=function(d,x){for(var z=0;z<x.length;++z){var O=x[z];if(void 0===d[O])return;d=d[O]}if("string"==typeof d)return d},Ka=function(d,x){if(J.code.startsWith("__test__"))return d=x?"".concat(d,"(").concat(JSON.stringify(x).slice(1,-1),")"):
d,"‪[[".concat(d,"]]‬");var z=d.split(".");z=Qa(ja,z)||Qa(Rd,z);if(void 0===z)throw Error("Can't find translation for ".concat(d));if(x)for(var O in x)z=z.replace("{{".concat(O,"}}"),x[O]);return z},sb=function(){return Ha().createElement("div",{className:"LoadingMessage"},Ha().createElement("span",null,Ka("labels.loadingScene")))},nc=(y=function(d,x){return(y=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(z,O){z.__proto__=O}||function(z,O){for(var da in O)Object.prototype.hasOwnProperty.call(O,
da)&&(z[da]=O[da])})(d,x)},function(d,x){function z(){this.constructor=d}if("function"!=typeof x&&null!==x)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");y(d,x);d.prototype=null===x?Object.create(x):(z.prototype=x.prototype,new z)}),Mc=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&
!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],
xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},Ad=function(d){function x(){for(var z=[],O=0;O<arguments.length;O++)z[O]=arguments[O];var da;
O=this;return da=O=d.apply(this,z)||this,O.state={isLoading:!0},da}return nc(x,d),x.prototype.componentDidMount=function(){var z=this;return Rc()(function(){var O;return Mc(this,function(da){switch(da.label){case 0:return O=t.find(function(la){return la.code===z.props.langCode})||ua,[4,Ca(O)];case 1:return da.sent(),z.setState({isLoading:!1}),[2]}})})()},x.prototype.render=function(){return this.state.isLoading?Ha().createElement(sb,null):this.props.children},x}(Ha().Component),Ed=l(566),Qc=l.n(Ed);
class Cd{constructor(d){this.helper=d}fillPolygon(d,x){return this._fillPolygon(d,x)}_fillPolygon(d,x,z=!1){let O=ka(d,x);z&&(d=this.connectingLines(d,O),O=O.concat(d));return{type:"fillSketch",ops:this.renderLines(O,x)}}renderLines(d,x){const z=[];for(const O of d)z.push(...this.helper.doubleLineOps(O[0][0],O[0][1],O[1][0],O[1][1],x));return z}connectingLines(d,x){const z=[];if(1<x.length)for(let da=1;da<x.length;da++){var O=x[da-1];3>A(O)||(O=[x[da][0],O[1]],3<A(O)&&(O=this.splitOnIntersections(d,
O),z.push(...O)))}return z}midPointInPolygon(d,x){return V(d,(x[0][0]+x[1][0])/2,(x[0][1]+x[1][1])/2)}splitOnIntersections(d,x){var z=Math.max(5,.1*A(x)),O=[];for(var da=0;da<d.length;da++){var la=d[da],za=d[(da+1)%d.length];if(ra(la,za,...x)&&(la=n(la,za,x[0],x[1]))){za=A([la,x[0]]);const xa=A([la,x[1]]);za>z&&xa>z&&O.push({point:la,distance:za})}}if(1<O.length){z=O.sort((xa,Ga)=>xa.distance-Ga.distance).map(xa=>xa.point);if(V(d,...x[0])||z.shift(),V(d,...x[1])||z.pop(),1>=z.length)return this.midPointInPolygon(d,
x)?[x]:[];x=[x[0],...z,x[1]];z=[];for(O=0;O<x.length-1;O+=2)da=[x[O],x[O+1]],this.midPointInPolygon(d,da)&&z.push(da);return z}return this.midPointInPolygon(d,x)?[x]:[]}}class Hd extends Cd{fillPolygon(d,x){return this._fillPolygon(d,x,!0)}}class af extends Cd{fillPolygon(d,x){const z=this._fillPolygon(d,x);x=Object.assign({},x,{hachureAngle:x.hachureAngle+90});d=this._fillPolygon(d,x);return z.ops=z.ops.concat(d.ops),z}}class Bg{constructor(d){this.helper=d}fillPolygon(d,x){d=ka(d,x=Object.assign({},
x,{curveStepCount:4,hachureAngle:0,roughness:1}));return this.dotsOnLines(d,x)}dotsOnLines(d,x){const z=[];let O=x.hachureGap;0>O&&(O=4*x.strokeWidth);O=Math.max(O,.1);let da=x.fillWeight;0>da&&(da=x.strokeWidth/2);const la=O/4;for(const Sa of d){var za=A(Sa);d=Math.ceil(za/O)-1;za-=d*O;const Ma=(Sa[0][0]+Sa[1][0])/2-O/4,kb=Math.min(Sa[0][1],Sa[1][1]);for(let qb=0;qb<d;qb++){var xa=kb+za+qb*O,Ga=this.helper.randOffsetWithRange(Ma-la,Ma+la,x);xa=this.helper.randOffsetWithRange(xa-la,xa+la,x);Ga=this.helper.ellipse(Ga,
xa,da,da,x);z.push(...Ga.ops)}}return{type:"fillSketch",ops:z}}}class uh{constructor(d){this.helper=d}fillPolygon(d,x){d=ka(d,x);return{type:"fillSketch",ops:this.dashedLine(d,x)}}dashedLine(d,x){const z=0>x.dashOffset?0>x.hachureGap?4*x.strokeWidth:x.hachureGap:x.dashOffset,O=0>x.dashGap?0>x.hachureGap?4*x.strokeWidth:x.hachureGap:x.dashGap,da=[];return d.forEach(la=>{var za=A(la);const xa=Math.floor(za/(z+O));za=(za+O-xa*(z+O))/2;let Ga=la[0];var Sa=la[1];Ga[0]>Sa[0]&&(Ga=la[1],Sa=la[0]);la=Math.atan((Sa[1]-
Ga[1])/(Sa[0]-Ga[0]));for(Sa=0;Sa<xa;Sa++){var Ma=Sa*(z+O),kb=Ma+z;Ma=[Ga[0]+Ma*Math.cos(la)+za*Math.cos(la),Ga[1]+Ma*Math.sin(la)+za*Math.sin(la)];kb=[Ga[0]+kb*Math.cos(la)+za*Math.cos(la),Ga[1]+kb*Math.sin(la)+za*Math.sin(la)];da.push(...this.helper.doubleLineOps(Ma[0],Ma[1],kb[0],kb[1],x))}}),da}}class ah{constructor(d){this.helper=d}fillPolygon(d,x){const z=0>x.hachureGap?4*x.strokeWidth:x.hachureGap,O=0>x.zigzagOffset?z:x.zigzagOffset;d=ka(d,x=Object.assign({},x,{hachureGap:z+O}));return{type:"fillSketch",
ops:this.zigzagLines(d,O,x)}}zigzagLines(d,x,z){const O=[];return d.forEach(da=>{var la=A(da);la=Math.round(la/(2*x));let za=da[0];var xa=da[1];za[0]>xa[0]&&(za=da[1],xa=da[0]);da=Math.atan((xa[1]-za[1])/(xa[0]-za[0]));for(xa=0;xa<la;xa++){var Ga=2*xa*x,Sa=2*(xa+1)*x,Ma=Math.sqrt(2*Math.pow(x,2));Ga=[za[0]+Ga*Math.cos(da),za[1]+Ga*Math.sin(da)];Sa=[za[0]+Sa*Math.cos(da),za[1]+Sa*Math.sin(da)];Ma=[Ga[0]+Ma*Math.cos(da+Math.PI/4),Ga[1]+Ma*Math.sin(da+Math.PI/4)];O.push(...this.helper.doubleLineOps(Ga[0],
Ga[1],Ma[0],Ma[1],z),...this.helper.doubleLineOps(Ma[0],Ma[1],Sa[0],Sa[1],z))}}),O}}const df={};class Me{constructor(d){this.seed=d}next(){return this.seed?(2**31-1&(this.seed=Math.imul(48271,this.seed)))/2**31:Math.random()}}const Gg={A:7,a:7,C:6,c:6,H:1,h:1,L:2,l:2,M:2,m:2,Q:4,q:4,S:4,s:4,T:2,t:2,V:1,v:1,Z:0,z:0},Fd={randOffset:function(d,x){return Fa(d,x)},randOffsetWithRange:function(d,x,z){return wa(d,x,z)},ellipse:function(d,x,z,O,da){z=T(z,O,da);return ea(d,x,da,z).opset},doubleLineOps:function(d,
x,z,O,da){return ya(d,x,z,O,da,!0)}};class Eh{constructor(d){this.defaultOptions={maxRandomnessOffset:2,roughness:1,bowing:1,stroke:"#000",strokeWidth:1,curveTightness:0,curveFitting:.95,curveStepCount:9,fillStyle:"hachure",fillWeight:-1,hachureAngle:-41,hachureGap:-1,dashOffset:-1,dashGap:-1,zigzagOffset:-1,seed:0,combineNestedSvgPaths:!1,disableMultiStroke:!1,disableMultiStrokeFill:!1};this.config=d||{};this.config.options&&(this.defaultOptions=this._o(this.config.options))}static newSeed(){return Math.floor(Math.random()*
2**31)}_o(d){return d?Object.assign({},this.defaultOptions,d):this.defaultOptions}_d(d,x,z){return{shape:d,sets:x||[],options:z||this.defaultOptions}}line(d,x,z,O,da){da=this._o(da);return this._d("line",[{type:"path",ops:ya(d,x,z,O,da)}],da)}rectangle(d,x,z,O,da){da=this._o(da);const la=[];var za=K([[d,x],[d+z,x],[d+z,x+O],[d,x+O]],!0,da);da.fill&&(d=[[d,x],[d+z,x],[d+z,x+O],[d,x+O]],"solid"===da.fillStyle?la.push(Y(d,da)):la.push(oa(d,da)));return"none"!==da.stroke&&la.push(za),this._d("rectangle",
la,da)}ellipse(d,x,z,O,da){da=this._o(da);const la=[];O=T(z,O,da);z=ea(d,x,da,O);da.fill&&("solid"===da.fillStyle?(d=ea(d,x,da,O).opset,d.type="fillPath",la.push(d)):la.push(oa(z.estimatedPoints,da)));return"none"!==da.stroke&&la.push(z.opset),this._d("ellipse",la,da)}circle(d,x,z,O){d=this.ellipse(d,x,z,z,O);return d.shape="circle",d}linearPath(d,x){x=this._o(x);return this._d("linearPath",[K(d,!1,x)],x)}arc(d,x,z,O,da,la,za=!1,xa){xa=this._o(xa);const Ga=[],Sa=va(d,x,z,O,da,la,za,!0,xa);if(za&&
xa.fill)if("solid"===xa.fillStyle)d=va(d,x,z,O,da,la,!0,!1,xa),d.type="fillPath",Ga.push(d);else{za=Ga.push;z=Math.abs(z/2);O=Math.abs(O/2);z+=Fa(.01*z,xa);for(O+=Fa(.01*O,xa);0>da;)da+=2*Math.PI,la+=2*Math.PI;la-da>2*Math.PI&&(da=0,la=2*Math.PI);const Ma=(la-da)/xa.curveStepCount,kb=[];for(;da<=la;da+=Ma)kb.push([d+z*Math.cos(da),x+O*Math.sin(da)]);d=(kb.push([d+z*Math.cos(la),x+O*Math.sin(la)]),kb.push([d,x]),oa(kb,xa));za.call(Ga,d)}return"none"!==xa.stroke&&Ga.push(Sa),this._d("arc",Ga,xa)}curve(d,
x){x=this._o(x);const z=[],O=X(d,x);x.fill&&"none"!==x.fill&&3<=d.length&&(d=B(function(da,la=0){var za=da.length;if(3>za)throw Error("A curve must have at least three points.");const xa=[];if(3===za)xa.push([...da[0]],[...da[1]],[...da[2]],[...da[2]]);else{za=[];za.push(da[0],da[0]);for(var Ga=1;Ga<da.length;Ga++)za.push(da[Ga]),Ga===da.length-1&&za.push(da[Ga]);da=[];la=1-la;xa.push([...za[0]]);for(Ga=1;Ga+2<za.length;Ga++){const Sa=za[Ga];da[0]=[Sa[0],Sa[1]];da[1]=[Sa[0]+(la*za[Ga+1][0]-la*za[Ga-
1][0])/6,Sa[1]+(la*za[Ga+1][1]-la*za[Ga-1][1])/6];da[2]=[za[Ga+1][0]+(la*za[Ga][0]-la*za[Ga+2][0])/6,za[Ga+1][1]+(la*za[Ga][1]-la*za[Ga+2][1])/6];da[3]=[za[Ga+1][0],za[Ga+1][1]];xa.push(da[1],da[2],da[3])}}return xa}(d),10,(1+x.roughness)/2),"solid"===x.fillStyle?z.push(Y(d,x)):z.push(oa(d,x)));return"none"!==x.stroke&&z.push(O),this._d("curve",z,x)}polygon(d,x){x=this._o(x);const z=[],O=K(d,!0,x);return x.fill&&("solid"===x.fillStyle?z.push(Y(d,x)):z.push(oa(d,x))),"none"!==x.stroke&&z.push(O),this._d("polygon",
z,x)}path(d,x){const z=this._o(x),O=[];if(!d)return this._d("path",O,z);d=(d||"").replace(/\n/g," ").replace(/(-\s)/g,"-").replace("/(ss)/g"," ");x=z.fill&&"transparent"!==z.fill&&"none"!==z.fill;const da="none"!==z.stroke,la=!!(z.simplification&&1>z.simplification),za=function(xa,Ga,Sa){var Ma=R(G(ia(xa)));xa=[];let kb=[];var qb=[0,0];let tb=[];const cc=()=>{4<=tb.length&&kb.push(...B(tb,Ga));tb=[]};for(const {key:Xb,data:Ac}of Ma)switch(Xb){case "M":cc();kb.length&&(xa.push(kb),kb=[]);qb=[Ac[0],
Ac[1]];kb.push(qb);break;case "L":cc();kb.push([Ac[0],Ac[1]]);break;case "C":tb.length||(Ma=kb.length?kb[kb.length-1]:qb,tb.push([Ma[0],Ma[1]]));tb.push([Ac[0],Ac[1]]);tb.push([Ac[2],Ac[3]]);tb.push([Ac[4],Ac[5]]);break;case "Z":cc(),kb.push([qb[0],qb[1]])}cc();kb.length&&(xa.push(kb),kb=[]);if(!Sa)return xa;qb=[];for(const Xb of xa)xa=S(Xb,Sa),xa.length&&qb.push(xa);return qb}(d,1,la?4-4*z.simplification:(1+z.roughness)/2);if(x)if(z.combineNestedSvgPaths){const xa=[];za.forEach(Ga=>xa.push(...Ga));
"solid"===z.fillStyle?O.push(Y(xa,z)):O.push(oa(xa,z))}else za.forEach(xa=>{"solid"===z.fillStyle?O.push(Y(xa,z)):O.push(oa(xa,z))});return da&&(la?za.forEach(xa=>{O.push(K(xa,!1,z))}):O.push(function(xa,Ga){xa=R(G(ia(xa)));const Sa=[];let Ma=[0,0],kb=[0,0];for(const {key:qb,data:tb}of xa)switch(qb){case "M":const cc=1*(Ga.maxRandomnessOffset||0);Sa.push({op:"move",data:tb.map(me=>me+Fa(cc,Ga))});kb=[tb[0],tb[1]];Ma=[tb[0],tb[1]];break;case "L":Sa.push(...ya(kb[0],kb[1],tb[0],tb[1],Ga));kb=[tb[0],
tb[1]];break;case "C":const [Xb,Ac,gd,kd,xd,ne]=tb;Sa.push(...Ob(Xb,Ac,gd,kd,xd,ne,kb,Ga));kb=[xd,ne];break;case "Z":Sa.push(...ya(kb[0],kb[1],Ma[0],Ma[1],Ga)),kb=[Ma[0],Ma[1]]}return{type:"path",ops:Sa}}(d,z))),this._d("path",O,z)}opsToPath(d){let x="";for(const z of d.ops)switch(d=z.data,z.op){case "move":x+=`M${d[0]} ${d[1]} `;break;case "bcurveTo":x+=`C${d[0]} ${d[1]}, ${d[2]} ${d[3]}, ${d[4]} ${d[5]} `;break;case "lineTo":x+=`L${d[0]} ${d[1]} `}return x.trim()}toPaths(d){var x=d.sets||[];d=d.options||
this.defaultOptions;const z=[];for(const O of x){x=null;switch(O.type){case "path":x={d:this.opsToPath(O),stroke:d.stroke,strokeWidth:d.strokeWidth,fill:"none"};break;case "fillPath":x={d:this.opsToPath(O),stroke:"none",strokeWidth:0,fill:d.fill||"none"};break;case "fillSketch":x=this.fillSketch(O,d)}x&&z.push(x)}return z}fillSketch(d,x){let z=x.fillWeight;return 0>z&&(z=x.strokeWidth/2),{d:this.opsToPath(d),stroke:x.fill||"none",strokeWidth:z,fill:"none"}}}class qi{constructor(d,x){this.canvas=d;
this.ctx=this.canvas.getContext("2d");this.gen=new Eh(x)}draw(d){const x=d.sets||[],z=d.options||this.getDefaultOptions(),O=this.ctx;for(const da of x)switch(da.type){case "path":O.save();O.strokeStyle="none"===z.stroke?"transparent":z.stroke;O.lineWidth=z.strokeWidth;z.strokeLineDash&&O.setLineDash(z.strokeLineDash);z.strokeLineDashOffset&&(O.lineDashOffset=z.strokeLineDashOffset);this._drawToContext(O,da);O.restore();break;case "fillPath":O.save();O.fillStyle=z.fill||"";this._drawToContext(O,da,
"curve"===d.shape||"polygon"===d.shape?"evenodd":"nonzero");O.restore();break;case "fillSketch":this.fillSketch(O,da,z)}}fillSketch(d,x,z){let O=z.fillWeight;0>O&&(O=z.strokeWidth/2);d.save();z.fillLineDash&&d.setLineDash(z.fillLineDash);z.fillLineDashOffset&&(d.lineDashOffset=z.fillLineDashOffset);d.strokeStyle=z.fill||"";d.lineWidth=O;this._drawToContext(d,x);d.restore()}_drawToContext(d,x,z="nonzero"){d.beginPath();for(const O of x.ops){const da=O.data;switch(O.op){case "move":d.moveTo(da[0],da[1]);
break;case "bcurveTo":d.bezierCurveTo(da[0],da[1],da[2],da[3],da[4],da[5]);break;case "lineTo":d.lineTo(da[0],da[1])}}"fillPath"===x.type?d.fill(z):d.stroke()}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}line(d,x,z,O,da){d=this.gen.line(d,x,z,O,da);return this.draw(d),d}rectangle(d,x,z,O,da){d=this.gen.rectangle(d,x,z,O,da);return this.draw(d),d}ellipse(d,x,z,O,da){d=this.gen.ellipse(d,x,z,O,da);return this.draw(d),d}circle(d,x,z,O){d=this.gen.circle(d,x,z,O);
return this.draw(d),d}linearPath(d,x){d=this.gen.linearPath(d,x);return this.draw(d),d}polygon(d,x){d=this.gen.polygon(d,x);return this.draw(d),d}arc(d,x,z,O,da,la,za=!1,xa){d=this.gen.arc(d,x,z,O,da,la,za,xa);return this.draw(d),d}curve(d,x){d=this.gen.curve(d,x);return this.draw(d),d}path(d,x){d=this.gen.path(d,x);return this.draw(d),d}}class xk{constructor(d,x){this.svg=d;this.gen=new Eh(x)}draw(d){var x=d.sets||[];const z=d.options||this.getDefaultOptions(),O=this.svg.ownerDocument||window.document,
da=O.createElementNS("http://www.w3.org/2000/svg","g");for(const la of x){x=null;switch(la.type){case "path":x=O.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",this.opsToPath(la));x.setAttribute("stroke",z.stroke);x.setAttribute("stroke-width",z.strokeWidth+"");x.setAttribute("fill","none");z.strokeLineDash&&x.setAttribute("stroke-dasharray",z.strokeLineDash.join(" ").trim());z.strokeLineDashOffset&&x.setAttribute("stroke-dashoffset",`${z.strokeLineDashOffset}`);break;case "fillPath":x=
O.createElementNS("http://www.w3.org/2000/svg","path");x.setAttribute("d",this.opsToPath(la));x.setAttribute("stroke","none");x.setAttribute("stroke-width","0");x.setAttribute("fill",z.fill||"");"curve"!==d.shape&&"polygon"!==d.shape||x.setAttribute("fill-rule","evenodd");break;case "fillSketch":x=this.fillSketch(O,la,z)}x&&da.appendChild(x)}return da}fillSketch(d,x,z){let O=z.fillWeight;0>O&&(O=z.strokeWidth/2);d=d.createElementNS("http://www.w3.org/2000/svg","path");return d.setAttribute("d",this.opsToPath(x)),
d.setAttribute("stroke",z.fill||""),d.setAttribute("stroke-width",O+""),d.setAttribute("fill","none"),z.fillLineDash&&d.setAttribute("stroke-dasharray",z.fillLineDash.join(" ").trim()),z.fillLineDashOffset&&d.setAttribute("stroke-dashoffset",`${z.fillLineDashOffset}`),d}get generator(){return this.gen}getDefaultOptions(){return this.gen.defaultOptions}opsToPath(d){return this.gen.opsToPath(d)}line(d,x,z,O,da){d=this.gen.line(d,x,z,O,da);return this.draw(d)}rectangle(d,x,z,O,da){d=this.gen.rectangle(d,
x,z,O,da);return this.draw(d)}ellipse(d,x,z,O,da){d=this.gen.ellipse(d,x,z,O,da);return this.draw(d)}circle(d,x,z,O){d=this.gen.circle(d,x,z,O);return this.draw(d)}linearPath(d,x){d=this.gen.linearPath(d,x);return this.draw(d)}polygon(d,x){d=this.gen.polygon(d,x);return this.draw(d)}arc(d,x,z,O,da,la,za=!1,xa){d=this.gen.arc(d,x,z,O,da,la,za,xa);return this.draw(d)}curve(d,x){d=this.gen.curve(d,x);return this.draw(d)}path(d,x){d=this.gen.path(d,x);return this.draw(d)}}const Qh={canvas:(d,x)=>new qi(d,
x),svg:(d,x)=>new xk(d,x),generator:d=>new Eh(d),newSeed:()=>Eh.newSeed()};var fe=function(d){return null!=d&&"text"===d.type},Hg=function(d){return null!=d&&hj(d.type)},hj=function(d){return"arrow"===d||"line"===d||"draw"===d},pg=function(d){return null!=d&&"arrow"===d.type},yk=function(d){return null!=d&&("rectangle"===d.type||"diamond"===d.type||"ellipse"===d.type||"text"===d.type)},Hf=function(d,x,z,O,da){return[(d-z)*Math.cos(da)-(x-O)*Math.sin(da)+z,(d-z)*Math.sin(da)+(x-O)*Math.cos(da)+O]},
ij=function(d,x,z){return Hf(d[0],d[1],x[0],x[1],z)},Zf=function(d,x,z,O,da,la,za,xa){var Ga=Math.cos(O);O=Math.sin(O);return d.e&&d.w?x+=da+za:d.e?(x+=da*(1+Ga),z+=da*O,x+=za*(1-Ga),z+=za*-O):d.w&&(x+=da*(1-Ga),z+=da*-O,x+=za*(1+Ga),z+=za*O),d.n&&d.s?z+=la+xa:d.n?(x+=la*O,z+=la*(1-Ga),x+=xa*-O,z+=xa*(1+Ga)):d.s&&(x+=la*-O,z+=la*(1+Ga),x+=xa*O,z+=xa*(1-Ga)),[x,z]},ei=function(d,x){if(void 0===x&&(x=1),3<=d.length){var z=[d[0],d[d.length-1]];d=z[0];z=z[1];return Math.hypot(z[0]-d[0],z[1]-d[1])<=hc.qx/
x}return!1},Ei=function(d,x,z){var O=d.length;if(3>O)return!1;var da=[Number.MAX_SAFE_INTEGER,z];x=[x,z];for(var la=z=0;la<O;la++){var za=d[la],xa=d[(la+1)%O],Ga=za,Sa=xa,Ma=x,kb=da,qb=jj(Ga,Sa,Ma),tb=jj(Ga,Sa,kb),cc=jj(Ma,kb,Ga),Xb=jj(Ma,kb,Sa);if(qb!==tb&&cc!==Xb||0===qb&&zk(Ga,Ma,Sa)||0===tb&&zk(Ga,kb,Sa)||0===cc&&zk(Ma,Ga,kb)||0===Xb&&zk(Ma,Sa,kb)){if(0===jj(za,x,xa))return zk(za,x,xa);z++}}return 1==z%2},zk=function(d,x,z){return x[0]<=Math.max(d[0],z[0])&&x[0]>=Math.min(d[0],z[0])&&x[1]<=Math.max(d[1],
z[1])&&x[1]>=Math.min(d[1],z[1])},jj=function(d,x,z){d=(x[1]-d[1])*(z[0]-x[0])-(x[0]-d[0])*(z[1]-x[1]);return 0===d?0:0<d?1:2},ri=function(d,x,z){return z?[Math.round(d/z)*z,Math.round(x/z)*z]:[d,x]},Gi=function(d,x,z){var O=z.map(function(Ga){return Ga[d]}),da=Math.max.apply(Math,O);O=Math.min.apply(Math,O);da-=O;var la=0===da?1:x/da,za=1/0;x=z.map(function(Ga){return Ga.map(function(Sa,Ma){if(Ma!==d)return Sa;Sa*=la;return za=Math.min(Sa,za),Sa})});if(2===x.length)return x;var xa=O-za;return x.map(function(Ga){return Ga.map(function(Sa,
Ma){return Ma===d?Sa+xa:Sa})})},jg=function(d){return Hg(d)?vj(d):[d.x,d.y,d.x+d.width,d.y+d.height]},Hi=function(d){for(var x=0,z=d.sets;x<z.length;x++){var O=z[x];if("path"===O.type)return O.ops}return d.sets[0].ops},Bk=function(d,x){var z=[0,0];d=d.reduce(function(O,da){var la,za=da.op;da=da.data;if("move"===za)z=da;else if("bcurveTo"===za){var xa=[da[0],da[1]],Ga=[da[2],da[3]],Sa=[da[4],da[5]],Ma=z;z=Sa;za=function(tb,cc){return Math.pow(1-tb,3)*Sa[cc]+3*tb*Math.pow(1-tb,2)*Ga[cc]+3*Math.pow(tb,
2)*(1-tb)*xa[cc]+Ma[cc]*Math.pow(tb,3)};for(da=0;1>=da;){var kb=za(da,0),qb=za(da,1);x&&(kb=(la=x(kb,qb))[0],qb=la[1]);O.minY=Math.min(O.minY,qb);O.minX=Math.min(O.minX,kb);O.maxX=Math.max(O.maxX,kb);O.maxY=Math.max(O.maxY,qb);da+=.1}}return O},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[d.minX,d.minY,d.maxX,d.maxY]},vj=function(d){if(2>d.points.length||!wi.get(d)){var x=d.points.reduce(function(z,O){var da=O[0];O=O[1];return z.minY=Math.min(z.minY,O),z.minX=Math.min(z.minX,da),z.maxX=Math.max(z.maxX,
da),z.maxY=Math.max(z.maxY,O),z},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[x.minX+d.x,x.minY+d.y,x.maxX+d.x,x.maxY+d.y]}x=wi.get(d);x=Hi(x[0]);x=Bk(x);return[x[0]+d.x,x[1]+d.y,x[2]+d.x,x[3]+d.y]},si=function(d){var x=jg(d),z=x[0],O=x[1],da=x[2],la=x[3];x=(z+da)/2;var za=(O+la)/2;if(Hg(d))return function(kb,qb,tb){if(2>kb.points.length||!wi.get(kb)){var cc=kb.points.reduce(function(Xb,Ac){var gd,kd=Ac[0];Ac=Ac[1];return kd=(gd=Hf(kb.x+kd,kb.y+Ac,qb,tb,kb.angle))[0],Ac=gd[1],Xb.minY=Math.min(Xb.minY,
Ac),Xb.minX=Math.min(Xb.minX,kd),Xb.maxX=Math.max(Xb.maxX,kd),Xb.maxY=Math.max(Xb.maxY,Ac),Xb},{minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0});return[cc.minX,cc.minY,cc.maxX,cc.maxY]}cc=wi.get(kb);cc=Hi(cc[0]);return Bk(cc,function(Xb,Ac){return Hf(kb.x+Xb,kb.y+Ac,qb,tb,kb.angle)})}(d,x,za);if("diamond"===d.type){O=Hf(x,O,x,za,d.angle);var xa=O[0];O=O[1];la=Hf(x,la,x,za,d.angle);var Ga=la[0];la=la[1];var Sa=Hf(z,za,x,za,d.angle);z=Sa[0];Sa=Sa[1];za=Hf(da,za,x,za,d.angle);x=za[0];za=za[1];return[Math.min(xa,
Ga,z,x),Math.min(O,la,Sa,za),Math.max(xa,Ga,z,x),Math.max(O,la,Sa,za)]}if("ellipse"===d.type)return da=(da-z)/2,xa=(la-O)/2,O=Math.cos(d.angle),Ga=Math.sin(d.angle),d=Math.hypot(da*O,xa*Ga),da=Math.hypot(xa*O,da*Ga),[x-d,za-da,x+d,za+da];Ga=Hf(z,O,x,za,d.angle);xa=Ga[0];Ga=Ga[1];Sa=Hf(z,la,x,za,d.angle);z=Sa[0];Sa=Sa[1];var Ma=Hf(da,la,x,za,d.angle);la=Ma[0];Ma=Ma[1];za=Hf(da,O,x,za,d.angle);x=za[0];za=za[1];return[Math.min(xa,z,la,x),Math.min(Ga,Sa,Ma,za),Math.max(xa,z,la,x),Math.max(Ga,Sa,Ma,za)]},
Dg=function(d){if(!d.length)return[0,0,0,0];var x=1/0,z=-1/0,O=1/0,da=-1/0;return d.forEach(function(la){la=si(la);var za=la[1],xa=la[2],Ga=la[3];x=Math.min(x,la[0]);O=Math.min(O,za);z=Math.max(z,xa);da=Math.max(da,Ga)}),[x,O,z,da]},Tg=function(d,x,z){if(!Hg(d))return[d.x,d.y,d.x+x,d.y+z];x=Gi(0,x,Gi(1,z,d.points));z=Qh.generator();x="sharp"===d.strokeSharpness?z.linearPath(x,Th(d)):z.curve(x,Th(d));x=Hi(x);x=Bk(x);return[x[0]+d.x,x[1]+d.y,x[2]+d.x,x[3]+d.y]},Fe=function(d,x,z){var O=Qh.generator();
x="sharp"===z?O.linearPath(x,Th(d)):O.curve(x,Th(d));x=Hi(x);x=Bk(x);return[x[0]+d.x,x[1]+d.y,x[2]+d.x,x[3]+d.y]};const Je=JSON.parse('{"ix":"#ffffff","Sn":"#000000","MA":["#f8f9fa","#f1f3f5",0,0,"#ced4da","#adb5bd","#868e96","#495057","#343a40"],"Q6":["#fff5f5","#ffe3e3","#ffc9c9","#ffa8a8","#ff8787","#ff6b6b","#fa5252","#f03e3e","#e03131","#c92a2a"],"iQ":["#fff0f6","#ffdeeb","#fcc2d7","#faa2c1","#f783ac","#f06595","#e64980","#d6336c","#c2255c","#a61e4d"],"pl":["#f8f0fc","#f3d9fa","#eebefa","#e599f7","#da77f2","#cc5de8","#be4bdb","#ae3ec9","#9c36b5","#862e9c"],"ht":["#f3f0ff","#e5dbff","#d0bfff","#b197fc","#9775fa","#845ef7","#7950f2","#7048e8","#6741d9","#5f3dc4"],"QN":["#edf2ff","#dbe4ff","#bac8ff","#91a7ff","#748ffc","#5c7cfa","#4c6ef5","#4263eb","#3b5bdb","#364fc7"],"iN":["#e7f5ff","#d0ebff","#a5d8ff","#74c0fc","#4dabf7","#339af0","#228be6","#1c7ed6","#1971c2","#1864ab"],"sl":["#e3fafc","#c5f6fa","#99e9f2","#66d9e8","#3bc9db","#22b8cf","#15aabf","#1098ad","#0c8599","#0b7285"],"$C":["#e6fcf5","#c3fae8","#96f2d7","#63e6be","#38d9a9","#20c997","#12b886","#0ca678","#099268","#087f5b"],"ek":["#ebfbee","#d3f9d8","#b2f2bb","#8ce99a","#69db7c","#51cf66","#40c057","#37b24d","#2f9e44","#2b8a3e"],"LR":["#f4fce3","#e9fac8","#d8f5a2","#c0eb75","#a9e34b","#94d82d","#82c91e","#74b816","#66a80f","#5c940d"],"er":["#fff9db","#fff3bf","#ffec99","#ffe066","#ffd43b","#fcc419","#fab005","#f59f00","#f08c00","#e67700"],"$y":["#fff4e6","#ffe8cc","#ffd8a8","#ffc078","#ffa94d","#ff922b","#fd7e14","#f76707","#e8590c","#d9480f"]}');
var xh=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},Lg=function(d){return[Je.Q6[d],Je.iQ[d],Je.pl[d],Je.ht[d],Je.QN[d],Je.iN[d],Je.sl[d],Je.$C[d],Je.ek[d],Je.LR[d],Je.er[d],Je.$y[d]]};const Ek={canvasBackground:xh([Je.ix,Je.MA[0],Je.MA[1]],Lg(0)),elementBackground:xh(["transparent",Je.MA[4],Je.MA[6]],Lg(6)),elementStroke:xh([Je.Sn,Je.MA[8],Je.MA[7]],Lg(9))};var $f=l(6207),Mg=/Mac|iPod|iPhone|iPad/.test(window.navigator.platform),Jj=/^Win/.test(window.navigator.platform),
ef=Mg?"metaKey":"ctrlKey",yg=function(d){return"ArrowLeft"===d||"ArrowRight"===d||"ArrowDown"===d||"ArrowUp"===d},kj=function(d){return d.charAt(0).toUpperCase()+d.slice(1)},Eg=function(d){return d instanceof HTMLElement&&"wysiwyg"===d.dataset.type||d instanceof HTMLBRElement||d instanceof HTMLTextAreaElement||d instanceof HTMLInputElement&&("text"===d.type||"number"===d.type)},Vi=function(d){var x=d.fontFamily;return"".concat(d.fontSize,"px ").concat("".concat(hc.ut[x],", ").concat(hc._D))},Wi=function(d,
x){var z=document.createElement("div"),O=document.body;z.style.position="absolute";z.style.whiteSpace="pre";z.style.font=x;O.appendChild(z);z.innerText=d.split("\n").map(function(da){return da||" "}).join("\n");d=z.offsetWidth;x=z.offsetHeight;O=document.createElement("span");O.style.display="inline-block";O.style.overflow="hidden";O.style.width="1px";O.style.height="1px";z.appendChild(O);O=O.offsetTop+O.offsetHeight;return document.body.removeChild(z),{width:d,height:x,baseline:O}},ti=function(d,
x){var z,O=0,da=function(){for(var la=[],za=0;za<arguments.length;za++)la[za]=arguments[za];z=la;clearTimeout(O);O=window.setTimeout(function(){return d.apply(void 0,la)},x)};return da.flush=function(){clearTimeout(O);z&&d.apply(void 0,z)},da.cancel=function(){clearTimeout(O)},da},Ii=function(d){d&&(d.style.cursor="")},Ji=function(d,x){d&&(d.style.cursor=x)},ui=function(d,x){d&&("selection"===x?Ii(d):d.style.cursor=hc.oc.CROSSHAIR)},yh=function(){var d;return"HTML"===(null===(d=document.fullscreenElement)||
void 0===d?void 0:d.nodeName)},$d=function(d){return d=d.replace(/\bAlt\b/i,"Alt").replace(/\bShift\b/i,"Shift").replace(/\b(Enter|Return)\b/i,"Enter").replace(/\bDel\b/i,"Delete"),Mg?d.replace(/\bCtrlOrCmd\b/i,"Cmd").replace(/\bAlt\b/i,"Option"):d.replace(/\bCtrlOrCmd\b/i,"Ctrl")},vg=function(d,x){var z=x.zoom,O=1/z.value;return{x:(d.clientX-z.translation.x-x.offsetLeft)*O-x.scrollX,y:(d.clientY-z.translation.y-x.offsetTop)*O-x.scrollY}},oh=function(d,x){var z=x.zoom;return{x:(d.sceneX+x.scrollX+
x.offsetLeft)*z.value+z.translation.x,y:(d.sceneY+x.scrollY+x.offsetTop)*z.value+z.translation.y}},ag=function(d){return getComputedStyle(document.documentElement).getPropertyValue("--".concat(d))},zh=new RegExp("^[^".concat("A-Za-zÀ-ÖØ-öø-ʸ̀-֐ࠀ-῿Ⰰ-﬜﷾-﹯﻽-￿","]*[").concat("֑-߿יִ-﷽ﹰ-ﻼ","]")),Fg=function(d){return{x:d[0],y:d[1]}},Gk=function(d){if("AbortError"!==(null==d?void 0:d.name))throw d;},bg=function(d){return function(x){(0,$f.unstable_batchedUpdates)(d,x)}},xl=function(d,x){var z,O=[{value:1,
symbol:"b"},{value:1E3,symbol:"k"},{value:1E6,symbol:"M"},{value:1E9,symbol:"G"}];for(z=O.length-1;0<z&&!(d>=O[z].value);z--);return(d/O[z].value).toFixed(x).replace(/\.0+$|(\.[0-9]*[1-9])0+$/,"$1")+O[z].symbol},Lf=function(){var d;return(null===(d=document.querySelector('meta[name\x3d"version"]'))||void 0===d?void 0:d.content)||hc.eQ},Fh=function(){var d=new Map,x=hc.rk,z=hc.n5,O=Je.Sn,da=hc.Hg,la=window.innerHeight,za="".concat(Ka("labels.untitled"),"-"),xa=za.concat;var Ga=new Date;var Sa=Ga.getFullYear();
var Ma="".concat(Ga.getMonth()+1).padStart(2,"0"),kb="".concat(Ga.getDate()).padStart(2,"0"),qb="".concat(Ga.getHours()).padStart(2,"0");Ga="".concat(Ga.getMinutes()).padStart(2,"0");Sa="".concat(Sa,"-").concat(Ma,"-").concat(kb,"-").concat(qb).concat(Ga);return{appearance:"light",collaborators:d,currentChartType:"bar",currentItemBackgroundColor:"transparent",currentItemEndArrowhead:"arrow",currentItemFillStyle:"hachure",currentItemFontFamily:x,currentItemFontSize:z,currentItemLinearStrokeSharpness:"round",
currentItemOpacity:100,currentItemRoughness:1,currentItemStartArrowhead:null,currentItemStrokeColor:O,currentItemStrokeSharpness:"sharp",currentItemStrokeStyle:"solid",currentItemStrokeWidth:1,currentItemTextAlign:da,cursorButton:"up",draggingElement:null,editingElement:null,editingGroupId:null,editingLinearElement:null,elementLocked:!1,elementType:"selection",errorMessage:null,exportBackground:!0,exportEmbedScene:!1,exportWithDarkMode:!1,fileHandle:null,gridSize:null,height:la,isBindingEnabled:!0,
isLibraryOpen:!1,isLoading:!1,isResizing:!1,isRotating:!1,lastPointerDownWith:"mouse",multiElement:null,name:xa.call(za,Sa),openMenu:null,pasteDialog:{shown:!1,data:null},previousSelectedElementIds:{},resizingElement:null,scrolledOutside:!1,scrollX:0,scrollY:0,selectedElementIds:{},selectedGroupIds:{},selectionElement:null,shouldAddWatermark:!1,shouldCacheIgnoreZoom:!1,showHelpDialog:!1,showStats:!1,startBoundElement:null,suggestedBindings:[],toastMessage:null,viewBackgroundColor:Je.ix,width:window.innerWidth,
zenModeEnabled:!1,zoom:{value:1,translation:{x:0,y:0}},viewModeEnabled:!1}},ph={appearance:{browser:!0,export:!1},collaborators:{browser:!1,export:!1},currentChartType:{browser:!0,export:!1},currentItemBackgroundColor:{browser:!0,export:!1},currentItemEndArrowhead:{browser:!0,export:!1},currentItemFillStyle:{browser:!0,export:!1},currentItemFontFamily:{browser:!0,export:!1},currentItemFontSize:{browser:!0,export:!1},currentItemLinearStrokeSharpness:{browser:!0,export:!1},currentItemOpacity:{browser:!0,
export:!1},currentItemRoughness:{browser:!0,export:!1},currentItemStartArrowhead:{browser:!0,export:!1},currentItemStrokeColor:{browser:!0,export:!1},currentItemStrokeSharpness:{browser:!0,export:!1},currentItemStrokeStyle:{browser:!0,export:!1},currentItemStrokeWidth:{browser:!0,export:!1},currentItemTextAlign:{browser:!0,export:!1},cursorButton:{browser:!0,export:!1},draggingElement:{browser:!1,export:!1},editingElement:{browser:!1,export:!1},editingGroupId:{browser:!0,export:!1},editingLinearElement:{browser:!1,
export:!1},elementLocked:{browser:!0,export:!1},elementType:{browser:!0,export:!1},errorMessage:{browser:!1,export:!1},exportBackground:{browser:!0,export:!1},exportEmbedScene:{browser:!0,export:!1},exportWithDarkMode:{browser:!0,export:!1},fileHandle:{browser:!1,export:!1},gridSize:{browser:!0,export:!0},height:{browser:!1,export:!1},isBindingEnabled:{browser:!1,export:!1},isLibraryOpen:{browser:!1,export:!1},isLoading:{browser:!1,export:!1},isResizing:{browser:!1,export:!1},isRotating:{browser:!1,
export:!1},lastPointerDownWith:{browser:!0,export:!1},multiElement:{browser:!1,export:!1},name:{browser:!0,export:!1},offsetLeft:{browser:!1,export:!1},offsetTop:{browser:!1,export:!1},openMenu:{browser:!0,export:!1},pasteDialog:{browser:!1,export:!1},previousSelectedElementIds:{browser:!0,export:!1},resizingElement:{browser:!1,export:!1},scrolledOutside:{browser:!0,export:!1},scrollX:{browser:!0,export:!1},scrollY:{browser:!0,export:!1},selectedElementIds:{browser:!0,export:!1},selectedGroupIds:{browser:!0,
export:!1},selectionElement:{browser:!1,export:!1},shouldAddWatermark:{browser:!0,export:!1},shouldCacheIgnoreZoom:{browser:!0,export:!1},showHelpDialog:{browser:!1,export:!1},showStats:{browser:!0,export:!1},startBoundElement:{browser:!1,export:!1},suggestedBindings:{browser:!1,export:!1},toastMessage:{browser:!1,export:!1},viewBackgroundColor:{browser:!0,export:!0},width:{browser:!1,export:!1},zenModeEnabled:{browser:!0,export:!1},zoom:{browser:!0,export:!1},viewModeEnabled:{browser:!1,export:!1}},
vi=function(d,x){for(var z={},O=0,da=Object.keys(d);O<da.length;O++){var la=da[O],za=ph[la];null!=za&&za[x]&&(z[la]=d[la])}return z},qg=Fh(),Sh=[12,8],Yk=[3,6],fi=function(d,x,z){switch(z.globalAlpha=d.opacity/100,d.type){case "rectangle":case "diamond":case "ellipse":x.draw(wi.get(d));break;case "arrow":case "draw":case "line":wi.get(d).forEach(function(kb){x.draw(kb)});break;default:if(!fe(d))throw Error("Unimplemented type ".concat(d.type));var O=zh.test(d.text),da=O&&!z.canvas.isConnected;da&&
document.body.appendChild(z.canvas);z.canvas.setAttribute("dir",O?"rtl":"ltr");O=z.font;z.font=Vi(d);var la=z.fillStyle;z.fillStyle=d.strokeColor;var za=z.textAlign;z.textAlign=d.textAlign;var xa=d.text.replace(/\r\n?/g,"\n").split("\n"),Ga=d.height/xa.length,Sa=d.height-d.baseline;d="center"===d.textAlign?d.width/2:"right"===d.textAlign?d.width:0;for(var Ma=0;Ma<xa.length;Ma++)z.fillText(xa[Ma],d,(Ma+1)*Ga-Sa);z.fillStyle=la;z.font=O;z.textAlign=za;da&&z.canvas.remove()}z.globalAlpha=1},Hk=new WeakMap,
wi=new WeakMap,Th=function(d){var x={seed:d.seed,strokeLineDash:"dashed"===d.strokeStyle?Sh:"dotted"===d.strokeStyle?Yk:void 0,disableMultiStroke:"solid"!==d.strokeStyle,strokeWidth:"solid"!==d.strokeStyle?d.strokeWidth+.5:d.strokeWidth,fillWeight:d.strokeWidth/2,hachureGap:4*d.strokeWidth,roughness:d.roughness,stroke:d.strokeColor};switch(d.type){case "rectangle":case "diamond":case "ellipse":return x.fillStyle=d.fillStyle,x.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor,"ellipse"===
d.type&&(x.curveFitting=1),x;case "line":case "draw":return ei(d.points)&&(x.fillStyle=d.fillStyle,x.fill="transparent"===d.backgroundColor?void 0:d.backgroundColor),x;case "arrow":return x;default:throw Error("Unimplemented type ".concat(d.type));}},Yj=function(d,x){var z=wi.get(d)||null;if(!z){switch(Hk.delete(d),d.type){case "rectangle":if("round"===d.strokeSharpness){z=d.width;var O=d.height,da=.25*Math.min(z,O);z=x.path("M ".concat(da," 0 L ").concat(z-da," 0 Q ").concat(z," 0, ").concat(z," ").concat(da,
" L ").concat(z," ").concat(O-da," Q ").concat(z," ").concat(O,", ").concat(z-da," ").concat(O," L ").concat(da," ").concat(O," Q 0 ").concat(O,", 0 ").concat(O-da," L 0 ").concat(da," Q 0 0, ").concat(da," 0"),Th(d))}else z=x.rectangle(0,0,d.width,d.height,Th(d));break;case "diamond":z=function(za){var xa=Math.floor(za.width/2)+1,Ga=Math.floor(za.height/2)+1;return[xa,0,za.width,Ga,xa,za.height,0,Ga]}(d);z=x.polygon([[z[0],z[1]],[z[2],z[3]],[z[4],z[5]],[z[6],z[7]]],Th(d));break;case "ellipse":z=
x.ellipse(d.width/2,d.height/2,d.width,d.height,Th(d));break;case "line":case "draw":case "arrow":var la=Th(d);z=d.points.length?d.points:[[0,0]];if(z="sharp"===d.strokeSharpness?la.fill?[x.polygon(z,la)]:[x.linearPath(z,la)]:[x.curve(z,la)],"arrow"===d.type){O=d.startArrowhead;O=void 0===O?null:O;da=d.endArrowhead;da=void 0===da?"arrow":da;function za(xa,Ga,Sa,Ma){Ga=function(cc,Xb,Ac,gd){Xb=Hi(Xb[0]);if(1>Xb.length)return null;var kd="start"===Ac?1:Xb.length-1,xd=Xb[kd].data,ne=[xd[4],xd[5]],me=
[xd[2],xd[3]],Re=[xd[0],xd[1]];Xb=Xb[kd-1];var Ne=[0,0];"move"===Xb.op?Ne=Xb.data:"bcurveTo"===Xb.op&&(Ne=[Xb.data[4],Xb.data[5]]);kd=function(Dd,ce){return Math.pow(1-Dd,3)*ne[ce]+3*Dd*Math.pow(1-Dd,2)*me[ce]+3*Math.pow(Dd,2)*(1-Dd)*Re[ce]+Ne[ce]*Math.pow(Dd,3)};Xb="start"===Ac?Ne:ne;Ac=Xb[0];Xb=Xb[1];xd=[kd(.3,0),kd(.3,1)];kd=xd[0];xd=xd[1];var gf=Math.hypot(Ac-kd,Xb-xd);kd=(Ac-kd)/gf;xd=(Xb-xd)/gf;gf={arrow:30,bar:15,dot:15}[gd];cc=cc.points.reduce(function(Dd,ce,le,$e){le=0<le?$e[le-1]:[0,0];
return Dd+Math.hypot(ce[0]-le[0],ce[1]-le[1])},0);gf=Math.min(gf,cc/2);cc=Ac-kd*gf;kd=Xb-xd*gf;if("dot"===gd)return[Ac,Xb,Math.hypot(kd-Xb,cc-Ac)];xd={arrow:20,bar:90}[gd];gf=Hf(cc,kd,Ac,Xb,-xd*Math.PI/180);gd=gf[0];gf=gf[1];cc=Hf(cc,kd,Ac,Xb,xd*Math.PI/180);return[Ac,Xb,gd,gf,cc[0],cc[1]]}(xa,Ga,Sa,Ma);if(null===Ga)return[];if("dot"===Ma)return[x.circle(Ga[0],Ga[1],Ga[2],fc(fc({},la),{},{fill:xa.strokeColor,fillStyle:"solid"}))];Ma=Ga[0];Sa=Ga[1];var kb=Ga[2],qb=Ga[3],tb=Ga[4];Ga=Ga[5];return"dotted"===
xa.strokeStyle?la.strokeLineDash=[3,4]:delete la.strokeLineDash,[x.line(kb,qb,Ma,Sa,la),x.line(tb,Ga,Ma,Sa,la)]}null!==O&&(O=za(d,z,"start",O),z.push.apply(z,O));null!==da&&(O=za(d,z,"end",da),z.push.apply(z,O))}break;case "text":z=[]}wi.set(d,z)}},on=function(d,x,z,O,da){var la=x.generator;switch(d.type){case "selection":z.translate(d.x+da.scrollX,d.y+da.scrollY);x=z.fillStyle;z.fillStyle="rgba(0, 0, 255, 0.10)";z.fillRect(0,0,d.width,d.height);z.fillStyle=x;z.translate(-d.x-da.scrollX,-d.y-da.scrollY);
break;case "rectangle":case "diamond":case "ellipse":case "line":case "draw":case "arrow":case "text":if(Yj(d,la),O){x=da?da.zoom:qg.zoom;la=(O=Hk.get(d))&&O.canvasZoom!==x.value&&!(null!=da&&da.shouldCacheIgnoreZoom);if(!O||la){O=document.createElement("canvas");la=O.getContext("2d");var za=0,xa=0;if(Hg(d)){za=jg(d);var Ga=za[0];xa=za[1];var Sa=za[3];O.width=Math.abs(Ga-za[2])*window.devicePixelRatio*x.value+40*x.value;O.height=Math.abs(xa-Sa)*window.devicePixelRatio*x.value+40*x.value;za=d.x>Ga?
Math.floor(Math.abs(d.x-Ga))*window.devicePixelRatio*x.value:0;xa=d.y>xa?Math.floor(Math.abs(d.y-xa))*window.devicePixelRatio*x.value:0;la.translate(za,xa)}else O.width=d.width*window.devicePixelRatio*x.value+40*x.value,O.height=d.height*window.devicePixelRatio*x.value+40*x.value;la.translate(20*x.value,20*x.value);la.scale(window.devicePixelRatio*x.value,window.devicePixelRatio*x.value);Ga=Qh.canvas(O);x=(fi(d,Ga,la),la.translate(-20*x.value,-20*x.value),la.scale(1/(window.devicePixelRatio*x.value),
1/(window.devicePixelRatio*x.value)),{element:d,canvas:O,canvasZoom:x.value,canvasOffsetX:za,canvasOffsetY:xa});d=(Hk.set(d,x),x)}else d=O;x=d.element;za=jg(x);O=za[0];la=za[1];xa=za[2];za=za[3];Ga=((O+xa)/2+da.scrollX)*window.devicePixelRatio;da=((la+za)/2+da.scrollY)*window.devicePixelRatio;z.scale(1/window.devicePixelRatio,1/window.devicePixelRatio);z.translate(Ga,da);z.rotate(x.angle);z.drawImage(d.canvas,-(xa-O)/2*window.devicePixelRatio-20*d.canvasZoom/d.canvasZoom,-(za-la)/2*window.devicePixelRatio-
20*d.canvasZoom/d.canvasZoom,d.canvas.width/d.canvasZoom,d.canvas.height/d.canvasZoom);z.rotate(-x.angle);z.translate(-Ga,-da);z.scale(window.devicePixelRatio,window.devicePixelRatio);!0}else la=jg(d),xa=la[0],O=la[1],za=la[2],Ga=la[3],la=(xa+za)/2+da.scrollX,da=(O+Ga)/2+da.scrollY,xa=(za-xa)/2-(d.x-xa),O=(Ga-O)/2-(d.y-O),z.translate(la,da),z.rotate(d.angle),z.translate(-xa,-O),fi(d,x,z),z.translate(xa,O),z.rotate(-d.angle),z.translate(-la,-da);break;default:throw Error("Unimplemented type ".concat(d.type));
}},Ah=function(){function d(){this.callbacks=new Set;this.nonDeletedElements=[];this.elements=[];this.elementsMap=new Map}return d.mapElementToScene=function(x,z){"string"==typeof x?this.sceneMapById.set(x,z):this.sceneMapByElement.set(x,z)},d.getScene=function(x){return"string"==typeof x?this.sceneMapById.get(x)||null:this.sceneMapByElement.get(x)||null},d.prototype.getElementsIncludingDeleted=function(){return this.elements},d.prototype.getElements=function(){return this.nonDeletedElements},d.prototype.getElement=
function(x){return this.elementsMap.get(x)||null},d.prototype.getNonDeletedElement=function(x){return(x=this.getElement(x))&&!x.isDeleted?x:null},d.prototype.getNonDeletedElements=function(x){var z=this,O=[];return x.forEach(function(da){da=z.getNonDeletedElement(da);null!=da&&O.push(da)}),O},d.prototype.replaceAllElements=function(x){var z=this;this.elements=x;this.elementsMap.clear();x.forEach(function(O){z.elementsMap.set(O.id,O);d.mapElementToScene(O,z)});this.nonDeletedElements=je(this.elements);
this.informMutation()},d.prototype.informMutation=function(){for(var x=0,z=Array.from(this.callbacks);x<z.length;x++)(0,z[x])()},d.prototype.addCallback=function(x){var z=this;if(this.callbacks.has(x))throw Error();return this.callbacks.add(x),function(){if(!z.callbacks.has(x))throw Error();z.callbacks.delete(x)}},d.prototype.destroy=function(){var x=this;d.sceneMapById.forEach(function(z,O){z===x&&d.sceneMapById.delete(O)});this.callbacks.clear()},d}();Ah.sceneMapByElement=new WeakMap;Ah.sceneMapById=
new Map;var Pm=new Me(Date.now()),Zj=function(){return Math.floor(Pm.next()*Math.pow(2,31))},xi=function(){return((d=21)=>{let x="",z=crypto.getRandomValues(new Uint8Array(d));for(;d--;){let O=63&z[d];x+=36>O?O.toString(36):62>O?(O-26).toString(36).toUpperCase():63>O?"_":"-"}return x})()},nf=function(d,x){var z,O=!1,da=x.points,la;for(la in void 0!==da&&(x=zb(zb({},function(tb){var cc=tb.map(function(Xb){return Xb[0]});tb=tb.map(function(Xb){return Xb[1]});return{width:Math.max.apply(Math,cc)-Math.min.apply(Math,
cc),height:Math.max.apply(Math,tb)-Math.min.apply(Math,tb)}}(da)),x)),x){var za=x[la];if(void 0!==za&&(d[la]!==za||"object"==typeof za&&null!==za&&"groupIds"!==la)){if("points"===la){var xa=d[la],Ga=za;if(xa.length===Ga.length){for(var Sa=!1,Ma=xa.length;--Ma;){var kb=xa[Ma],qb=Ga[Ma];if(kb[0]!==qb[0]||kb[1]!==qb[1]){Sa=!0;break}}if(!Sa)continue}}d[la]=za;O=!0}}O&&(void 0===x.height&&void 0===x.width&&void 0===da||wi.delete(d),d.version++,d.versionNonce=Zj(),null===(z=Ah.getScene(d))||void 0===z||
z.informMutation())},zg=function(d,x){return zb(zb(zb({},d),x),{},{version:d.version+1,versionNonce:Zj()})},Rh=function(d){return Hg(d)?2>d.points.length:0===d.width&&0===d.height},Ye=function(d,x,z){var O=Math.abs(x),da=Math.abs(z);"line"===d||"arrow"===d||"draw"===d?(d=Math.round(Math.atan(da/O)/hc.ay)*hc.ay,0===d?z=0:d===Math.PI/2?x=0:z=Math.round(O*Math.tan(d))*Math.sign(z)||z):"selection"!==d&&(z=O*Math.sign(z));return{width:x,height:z}},Ml=function(d){var x={width:d.width,height:d.height,x:d.x,
y:d.y};if(0>d.width){var z=Math.abs(d.width);x.width=z;x.x=d.x-z}0>d.height&&(z=Math.abs(d.height),x.height=z,x.y=d.y-z);return x},Pf=l(5474),Vh=l.n(Pf),zl=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},bk=function(d,x,z){var O,da;z=z.filter(function(la){return la.groupIds.includes(d)});return 2>z.length?x.selectedGroupIds[d]||x.editingGroupId===d?db(db({},x),{},{selectedGroupIds:db(db({},x.selectedGroupIds),{},(O={},O[d]=!1,O)),editingGroupId:null}):x:db(db({},
x),{},{selectedGroupIds:db(db({},x.selectedGroupIds),{},(da={},da[d]=!0,da)),selectedElementIds:db(db({},x.selectedElementIds),Object.fromEntries(z.map(function(la){return[la.id,!0]})))})},Bh=function(d,x){return x.groupIds.filter(function(z){return z!==d.editingGroupId}).find(function(z){return d.selectedGroupIds[z]})},Li=function(d){return Object.entries(d.selectedGroupIds).filter(function(x){x[0];return x[1]}).map(function(x){var z=x[0];x[1];return z})},Wh=function(d,x){for(var z=db({},d),O=0,
da=wf(x,d);O<da.length;O++){var la=da[O].groupIds;if(d.editingGroupId){var za=la.indexOf(d.editingGroupId);-1<za&&(la=la.slice(0,za))}0<la.length&&(z=bk(la[la.length-1],z,x))}return z},ck=function(d,x){return d.filter(function(z){return z.groupIds.includes(x)})},yj=function(d,x){var z,O,da=x.x,la=x.y,za=x.strokeColor,xa=x.backgroundColor,Ga=x.fillStyle,Sa=x.strokeWidth,Ma=x.strokeStyle,kb=x.roughness,qb=x.opacity,tb=x.width;tb=void 0===tb?0:tb;var cc=x.height;cc=void 0===cc?0:cc;var Xb=x.angle;Xb=
void 0===Xb?0:Xb;var Ac=x.groupIds;Ac=void 0===Ac?[]:Ac;var gd=x.strokeSharpness,kd=x.boundElementIds;kd=void 0===kd?null:kd;x=Vh()(x,"x y strokeColor backgroundColor fillStyle strokeWidth strokeStyle roughness opacity width height angle groupIds strokeSharpness boundElementIds".split(" "));return{id:x.id||xi(),type:d,x:da,y:la,width:tb,height:cc,angle:Xb,strokeColor:za,backgroundColor:xa,fillStyle:Ga,strokeWidth:Sa,strokeStyle:Ma,roughness:kb,opacity:qb,groupIds:Ac,strokeSharpness:gd,seed:null!==
(z=x.seed)&&void 0!==z?z:Zj(),version:x.version||1,versionNonce:null!==(O=x.versionNonce)&&void 0!==O?O:0,isDeleted:!1,boundElementIds:kd}},Ol=function(d){return yj(d.type,d)},Xh=function(d,x){return{x:"center"===d.textAlign?x.width/2:"right"===d.textAlign?x.width:0,y:"middle"===d.verticalAlign?x.height/2:0}},Kj=function(d){var x=Wi(d.text,Vi(d)),z=Xh(d,x);return zg(Oa(Oa({},yj("text",d)),{},{text:d.text,fontSize:d.fontSize,fontFamily:d.fontFamily,textAlign:d.textAlign,verticalAlign:d.verticalAlign,
x:d.x-z.x,y:d.y-z.y,width:x.width,height:x.height,baseline:x.baseline}),{})},We=function(d){return Oa(Oa({},yj(d.type,d)),{},{points:d.points||[],lastCommittedPoint:null,startBinding:null,endBinding:null,startArrowhead:d.startArrowhead,endArrowhead:d.endArrowhead})},Lj=function(d,x){if(void 0===x&&(x=0),null==d||"object"!=typeof d)return d;if("[object Object]"===Object.prototype.toString.call(d)){var z="function"==typeof d.constructor?Object.create(Object.getPrototypeOf(d)):{},O;for(O in d)d.hasOwnProperty(O)&&
(0!==x||"shape"!==O&&"canvas"!==O)&&(z[O]=Lj(d[O],x+1));return z}if(Array.isArray(d)){z=d.length;for(O=Array(z);z--;)O[z]=Lj(d[z],x+1);return O}return d},Yi=function(d,x,z,O){z=Lj(z);return z.id=xi(),z.seed=Zj(),z.groupIds=function(da,la,za){var xa=zl([],da);la=la?da.indexOf(la):-1;da=-1<la?la:da.length;for(la=0;la<da;la++)xa[la]=za(xa[la]);return xa}(z.groupIds,d,function(da){return x.has(da)||x.set(da,xi()),x.get(da)}),O&&(z=Object.assign(z,O)),z},Ve={mouse:8,pen:16,touch:28},Al={e:!0,s:!0,n:!0,
w:!0},Ql={e:!0,s:!0,n:!0,w:!0},Yh={e:!0,s:!0,n:!0,w:!0,nw:!0,se:!0},zj={e:!0,s:!0,n:!0,w:!0,ne:!0,sw:!0},hh=function(d,x,z,O,da,la,za){d=Hf(d+z/2,x+O/2,da,la,za);return[d[0]-z/2,d[1]-O/2,z,O]},Fk=function(d,x,z,O,da){var la=d[0],za=d[1],xa=d[2];d=d[3];void 0===da&&(da={});var Ga=Ve[O];O=Ga/z.value;var Sa=Ga/z.value,Ma=Ga/z.value,kb=Ga/z.value,qb=xa-la,tb=d-za,cc=(la+xa)/2,Xb=(za+d)/2,Ac=4/z.value;Ga=(Ga-8)/(2*z.value);var gd={nw:da.nw?void 0:hh(la-Ac-Ma+Ga,za-Ac-kb+Ga,O,Sa,cc,Xb,x),ne:da.ne?void 0:
hh(xa+Ac-Ga,za-Ac-kb+Ga,O,Sa,cc,Xb,x),sw:da.sw?void 0:hh(la-Ac-Ma+Ga,d+Ac-Ga,O,Sa,cc,Xb,x),se:da.se?void 0:hh(xa+Ac-Ga,d+Ac-Ga,O,Sa,cc,Xb,x),rotation:da.rotation?void 0:hh(la+qb/2-O/2,za-Ac-kb+Ga-16/z.value,O,Sa,cc,Xb,x)};z=5*Ve.mouse/z.value;return Math.abs(qb)>z&&(da.n||(gd.n=hh(la+qb/2-O/2,za-Ac-kb+Ga,O,Sa,cc,Xb,x)),da.s||(gd.s=hh(la+qb/2-O/2,d+Ac-Ga,O,Sa,cc,Xb,x))),Math.abs(tb)>z&&(da.w||(gd.w=hh(la-Ac-Ma+Ga,za+tb/2-Sa/2,O,Sa,cc,Xb,x)),da.e||(gd.e=hh(xa+Ac-Ga,za+tb/2-Sa/2,O,Sa,cc,Xb,x))),gd},
wj=function(d,x,z){void 0===z&&(z="mouse");var O={};if("arrow"===d.type||"line"===d.type||"draw"===d.type){if(2===d.points.length){var da=d.points[1];0===da[0]||0===da[1]?O=zj:0<da[0]&&0>da[1]?O=Yh:0<da[0]&&0<da[1]?O=zj:0>da[0]&&0<da[1]?O=Yh:0>da[0]&&0>da[1]&&(O=zj)}}else"text"===d.type&&(O=Ql);return Fk(jg(d),d.angle,x,z,O)},zi=function(d,x){return[0,0,0,0,x,d,1,0]},bh=function(d,x){void 0===d&&(d=0);void 0===x&&(x=0);var z=[0,0,0,0,0,0,0,0];if(0>x||7<x)throw Error("Expected `index` betwen 0 and 7, got `".concat(x,
"`"));return 0!==d&&(z[x]=d),z},Kh=function(d){return[d[0],d[1],d[2],d[3],-d[4],-d[5],-d[6],-d[7]]},yl=function(d,x){return"number"==typeof x?[d[0]-x,d[1],d[2],d[3],d[4],d[5],d[6],d[7]]:[d[0]-x[0],d[1]-x[1],d[2]-x[2],d[3]-x[3],d[4]-x[4],d[5]-x[5],d[6]-x[6],d[7]-x[7]]},Jk=function(d,x){return"number"==typeof x?[d[0]*x,d[1]*x,d[2]*x,d[3]*x,d[4]*x,d[5]*x,d[6]*x,d[7]*x]:[x[0]*d[0]+x[2]*d[2]+x[3]*d[3]-x[6]*d[6],x[1]*d[0]+x[0]*d[1]-x[4]*d[2]+x[5]*d[3]+x[2]*d[4]-x[3]*d[5]-x[7]*d[6]-x[6]*d[7],x[2]*d[0]+x[0]*
d[2]-x[6]*d[3]+x[3]*d[6],x[3]*d[0]+x[6]*d[2]+x[0]*d[3]-x[2]*d[6],x[4]*d[0]+x[2]*d[1]-x[1]*d[2]+x[7]*d[3]+x[0]*d[4]+x[6]*d[5]-x[5]*d[6]+x[3]*d[7],x[5]*d[0]-x[3]*d[1]+x[7]*d[2]+x[1]*d[3]-x[6]*d[4]+x[0]*d[5]+x[4]*d[6]+x[2]*d[7],x[6]*d[0]+x[3]*d[2]-x[2]*d[3]+x[0]*d[6],x[7]*d[0]+x[6]*d[1]+x[5]*d[2]+x[4]*d[3]+x[3]*d[4]+x[2]*d[5]+x[1]*d[6]+x[0]*d[7]]},gk=function(d,x){return[Mj(d,x),d[1]*x[7]+d[4]*x[5]-d[5]*x[4]+d[7]*x[1],d[2]*x[7]-d[4]*x[6]+d[6]*x[4]+d[7]*x[2],d[3]*x[7]+d[5]*x[6]-d[6]*x[5]+d[7]*x[3],d[4]*
x[7]+d[7]*x[4],d[5]*x[7]+d[7]*x[5],d[6]*x[7]+d[7]*x[6],d[7]*x[7]]},Mj=function(d,x){return d[0]*x[7]+d[1]*x[6]+d[2]*x[5]+d[3]*x[4]+d[4]*x[3]+d[5]*x[2]+d[6]*x[1]+d[7]*x[0]},Sm=function(d){return Math.sqrt(Math.abs(d[0]*d[0]-d[2]*d[2]-d[3]*d[3]+d[6]*d[6]))},lj=function(d){var x=Sm(d);return 0===x||1===x?d:Jk(d,(0>d[6]?-1:1)/x)},Nl=(bh(1,1),bh(1,2),bh(1,3),bh(1,4),bh(1,5),bh(1,6),bh(1,7),function(d,x,z){return lj([0,z,d,x,0,0,0,0])}),dk=function(d,x){return z=d,[(O=x)[0]*z[0]+O[2]*z[2]+O[3]*z[3]-O[6]*
z[6],O[1]*z[0]+O[0]*z[1]-O[4]*z[2]+O[5]*z[3]+O[2]*z[4]-O[3]*z[5]-O[7]*z[6]-O[6]*z[7],O[2]*z[0]+O[0]*z[2]-O[6]*z[3]+O[3]*z[6],O[3]*z[0]+O[6]*z[2]+O[0]*z[3]-O[2]*z[6],O[4]*z[0]+O[7]*z[3]+O[0]*z[4]+O[3]*z[7],O[5]*z[0]+O[7]*z[2]+O[0]*z[5]+O[2]*z[7],O[6]*z[0]+O[0]*z[6],O[7]*z[0]+O[0]*z[7]];var z,O},ek=function(d){return[0,0,0,0,d[1],d[0],1,0]},hi=function(d){return[d[5],d[4]]},oj=function(d,x){return z=Jk(d,Math.sin(x/2)),O=Math.cos(x/2),"number"==typeof O?[z[0]+O,z[1],z[2],z[3],z[4],z[5],z[6],z[7]]:[z[0]+
O[0],z[1]+O[1],z[2]+O[2],z[3]+O[3],z[4]+O[4],z[5]+O[5],z[6]+O[6],z[7]+O[7]];var z,O},Ni=function(d,x){return lj(Jk(Jk(d,x),Kh(d)))},Lk=function(d,x,z,O){var da=10/x.zoom.value;return!fk(d,x,[z,O])&&Rl(d,[z,O],da)},fk=function(d,x,z){x=10/x.zoom.value;if("text"===d.type)var O=dm;else"arrow"===d.type?O=!1:(O="transparent"!==d.backgroundColor,O="line"===d.type||"draw"===d.type?O&&ei(d.points):O),O=O?ik:Ik;return nj({element:d,point:z,threshold:x,check:O})},Rl=function(d,x,z){var O=x[0],da=x[1],la=jg(d);
x=la[0];var za=la[1],xa=la[2];la=la[3];O=Hf(O,da,(x+xa)/2,(za+la)/2,-d.angle);d=O[0];O=O[1];return d>x-z&&d<xa+z&&O>za-z&&O<la+z},Mk=function(d,x){var z=x.x;x=x.y;var O=Zi(d,d.width,d.height);return nj({element:d,point:[z,x],threshold:O,check:Gn})},Zi=function(d,x,z){return Math.max(16,Math.min(.25*("diamond"===d.type?1/Math.sqrt(2):1)*Math.min(x,z),32))},nj=function(d){switch(d.element.type){case "rectangle":case "text":case "diamond":case "ellipse":var x=cm(d.element,d.point);return d.check(x,d.threshold);
case "arrow":case "line":case "draw":return eo(d);case "selection":return console.warn("This should not happen, we need to investigate why it does."),!1}},cm=function(d,x){switch(d.type){case "rectangle":case "text":var z=Ui(d,x),O=z[1],da=z[2];d=Math;x=d.max;z=Nl(0,1,-z[3]);z=Mj(O,z);da=Nl(1,0,-da);O=Mj(O,da);return x.call(d,z,O);case "diamond":return O=Ui(d,x),d=O[1],x=O[2],O=O[3],x=Nl(O,x,-O*x),Mj(d,x);case "ellipse":return d=qn(d,x),x=d[1],-Math.sign(x[1])*Mj(d[0],x)}},dm=function(d,x){return 0>
d},ik=function(d,x){return d<x},Ik=function(d,x){return Math.abs(d)<x},Gn=function(d,x){return 0<=d&&d<x},qn=function(d,x){x=Ui(d,x);d=x[1];var z=x[2],O=x[3];x=hi(d);var da=x[0],la=x[1],za=.707,xa=.707;[0,1,2,3].forEach(function(Ga){Ga=(z*z-O*O)*Math.pow(za,3)/z;var Sa=(O*O-z*z)*Math.pow(xa,3)/O,Ma=da-Ga,kb=la-Sa,qb=Math.hypot(O*xa-Sa,z*za-Ga),tb=Math.hypot(kb,Ma);za=Math.min(1,Math.max(0,(Ma*qb/tb+Ga)/z));xa=Math.min(1,Math.max(0,(kb*qb/tb+Sa)/O));Ga=Math.hypot(xa,za);za/=Ga;xa/=Ga});x=zi(z*za,O*
xa);return[d,dk(lj(gk(x,d)),x)]},eo=function(d){var x=d.element,z=d.threshold;if(!wi.get(x))return!1;var O=Ui(d.element,d.point),da=O[0],la=O[1],za=O[2];O=Nl(0,1,-O[3]);za=Nl(1,0,-za);if(!ik(Mj(la,O),z)||!ik(Mj(la,za),z))return!1;da=hi(da);var xa=da[0],Ga=da[1];da=wi.get(x);return d.check===ik&&da.some(function(Sa){var Ma=x.strokeSharpness;var kb=[],qb=!1,tb=0;for(Sa=Hi(Sa);tb<Sa.length;tb++){var cc=Sa[tb];"move"===cc.op?(qb=!qb)&&kb.push([cc.data[0],cc.data[1]]):"bcurveTo"===cc.op&&qb&&(kb.push([cc.data[0],
cc.data[1]]),kb.push([cc.data[2],cc.data[3]]),kb.push([cc.data[4],cc.data[5]]))}4<=kb.length?"sharp"===Ma?Ma=Ei(kb,xa,Ga):(Ma=B(kb,10,5),Ma=Ei(Ma,xa,Ga)):Ma=!1;return Ma})?!0:da.some(function(Sa){return Xk(Sa,xa,Ga,z)})},Ui=function(d,x){var z,O=ek(x);x=jg(d);var da=Sl(x),la=oj(da,d.angle);O=Ni(la,O);da=yl(O,[0,0,0,0,da[4],da[5],0,0]);da=[0,0,0,0,Math.abs(da[4]),Math.abs(da[5]),1,0];d=(z=d.x,[0,0,0,0,d.y,z,0,0]);return[yl(O,d),da,(x[2]-x[0])/2,(x[3]-x[1])/2]},Ll=function(d){var x=jg(d);x=Sl(x);d=
oj(x,d.angle);x=[0,0,0,0,x[4],x[5],0,0];x=Kh([1,0,0,0,-.5*x[5],.5*x[4],0,0]);return Jk(x,d)},Sl=function(d){return zi((d[0]+d[2])/2,(d[1]+d[3])/2)},Ak=function(d,x,z,O){switch(void 0===O&&(O=0),d.type){case "rectangle":case "text":case "diamond":var da=Cg(d);var la=da.flatMap(function(za,xa){xa=[za,da[(xa+1)%4]];var Ga=O;za=xa[0];xa=xa[1];var Sa=[0,0,0,0,xa[4]-za[4],xa[5]-za[5],0,0];var Ma=Math.sqrt(Math.abs(Sa[7]*Sa[7]-Sa[5]*Sa[5]-Sa[4]*Sa[4]+Sa[1]*Sa[1]));Sa=0===Ma||1===Ma?Sa:Jk(Sa,1/Ma);Ga*=.5;
Ga=[1,0,0,0,Ga*Sa[4],Ga*Sa[5],0,0];xa=[Ni(Ga,za),Ni(Ga,xa)];za=xa[0];xa=xa[1];if(0<=Mj(za,x)*Mj(xa,x))var kb=[];else{a:{za=lj(gk(xa,za));za=lj((kb=x,[(qb=za)[0]*kb[0],qb[1]*kb[0]+qb[0]*kb[1],qb[2]*kb[0]+qb[0]*kb[2],qb[3]*kb[0]+qb[0]*kb[3],qb[4]*kb[0]+qb[2]*kb[1]-qb[1]*kb[2]+qb[0]*kb[4],qb[5]*kb[0]-qb[3]*kb[1]+qb[1]*kb[3]+qb[0]*kb[5],qb[6]*kb[0]+qb[3]*kb[2]-qb[2]*kb[3]+qb[0]*kb[6],qb[7]*kb[0]+qb[6]*kb[1]+qb[5]*kb[2]+qb[4]*kb[3]+qb[3]*kb[4]+qb[2]*kb[5]+qb[1]*kb[6]]));break a;var qb}kb=[za]}return kb}).concat(da.flatMap(function(za){var xa=
O;if(0===xa)var Ga=0===Mj(x,za)?[za]:[];else{Ga=x[2];var Sa=x[3],Ma=x[1],kb=hi(za);za=kb[0];var qb=kb[1];kb=Ga*Ga+Sa*Sa;xa=xa*xa*kb-Math.pow(Ga*za+Sa*qb+Ma,2);if(0===kb||0>=xa)Ga=[];else{xa=Math.sqrt(xa);var tb=za*Sa*Sa-qb*Ga*Sa-Ga*Ma;Ma=qb*Ga*Ga-za*Ga*Sa-Sa*Ma;Ga=[zi((tb+Sa*xa)/kb,(Ma-Ga*xa)/kb),zi((tb-Sa*xa)/kb,(Ma+Ga*xa)/kb)]}}return Ga}));break;case "ellipse":la=Fi(d,O,x)}if(2>la.length)return[];d=la.sort(function(za,xa){return Sm(gk(za,z))-Sm(gk(xa,z))});return[d[0],d[d.length-1]]},Cg=function(d,
x){void 0===x&&(x=1);var z=x*d.width/2;x=x*d.height/2;switch(d.type){case "rectangle":case "text":return[zi(z,x),zi(z,-x),zi(-z,-x),zi(-z,x)];case "diamond":return[zi(0,x),zi(z,0),zi(0,-x),zi(-z,0)]}},Fi=function(d,x,z){var O=d.width/2+x;d=d.height/2+x;x=z[2];var da=z[3],la=z[1];z=O*O*x*x+d*d*da*da;var za=z-la*la;if(0===z||0>=za)return[];za=Math.sqrt(za);var xa=-O*O*x*la;la*=-d*d*da;return[zi((xa+O*d*da*za)/z,(la-O*d*x*za)/z),zi((xa-O*d*da*za)/z,(la+O*d*x*za)/z)]},qh=function(d,x,z){var O=Math.sign(x),
da=0,la=null;return Cg(d,Math.abs(x)).forEach(function(za){var xa=O*lj(gk(za,z))[1];xa>da&&(da=xa,la=za)}),la},Xk=function(d,x,z,O){var da=[0,0];return Hi(d).some(function(la,za){za=la.op;var xa=la.data;if("move"===za)da=xa;else if("bcurveTo"===za){la=[xa[0],xa[1]];za=[xa[2],xa[3]];xa=[xa[4],xa[5]];var Ga=da;return da=xa,function(Sa,Ma,kb,qb,tb,cc){var Xb=tb[0];tb=tb[1];for(var Ac=function(ne,me){return Math.pow(1-ne,3)*qb[me]+3*ne*Math.pow(1-ne,2)*kb[me]+3*Math.pow(ne,2)*(1-ne)*Ma[me]+Sa[me]*Math.pow(ne,
3)},gd=0;1>=gd;){var kd=Ac(gd,0),xd=Ac(gd,1);if(Math.sqrt(Math.pow(kd-Xb,2)+Math.pow(xd-tb,2))<cc)return!0;gd+=.01}return!1}(Ga,la,za,xa,[x,z],O)}return!1})},gh=function(d,x,z){return x>=d[0]&&x<=d[0]+d[2]&&z>=d[1]&&z<=d[1]+d[3]},Oi=function(d,x,z,O,da,la){return d.reduce(function(za,xa){return za?za:(za=function(Ga,Sa,Ma,kb,qb,tb){if(!Sa.selectedElementIds[Ga.id])return!1;Ga=wj(Ga,qb,tb);Sa=Ga.rotation;var cc=Vh()(Ga,["rotation"]);if(Sa&&gh(Sa,Ma,kb))return"rotation";Ga=Object.keys(cc).filter(function(Xb){Xb=
cc[Xb];return!!Xb&&gh(Xb,Ma,kb)});return 0<Ga.length&&Ga[0]}(xa,x,z,O,da,la))?{element:xa,transformHandleType:za}:null},null)},rf=function(d,x,z,O,da){var la=Fk([d[0],d[1],d[2],d[3]],0,O,da,Al);return Object.keys(la).find(function(za){return(za=la[za])&&gh(za,x,z)})||!1},Ch=["ns","nesw","ew","nwse"],Le=function(d){var x=d.element,z=x&&-1==Math.sign(x.height)*Math.sign(x.width),O=null;switch(d.transformHandleType){case "n":case "s":O="ns";break;case "w":case "e":O="ew";break;case "nw":case "se":O=
z?"nesw":"nwse";break;case "ne":case "sw":O=z?"nwse":"nesw";break;case "rotation":return"grab"}O&&x&&(d=O,x=x.angle,z=Ch.indexOf(d),0<=z&&(d=Ch[(z+Math.round(x/(Math.PI/4)))%Ch.length]),O=d);return O?"".concat(O,"-resize"):""},dl=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},dg=function(){function d(x,z){this.elementId=x.id;Ah.mapElementToScene(this.elementId,z);d.normalizePoints(x);this.lastUncommittedPoint=this.activePointIndex=null;this.isDragging=!1;this.pointerOffset=
{x:0,y:0};this.endBindingElement=this.startBindingElement="keep"}return d.getElement=function(x){var z;return(null===(z=Ah.getScene(x))||void 0===z?void 0:z.getNonDeletedElement(x))||null},d.handlePointDragging=function(x,z,O,da,la){if(!x.editingLinearElement)return!1;var za=x.editingLinearElement,xa=za.activePointIndex,Ga=za.isDragging,Sa=d.getElement(za.elementId);return Sa?null!=xa&&-1<xa?(!1===Ga&&z({editingLinearElement:jb(jb({},za),{},{isDragging:!0})}),x=d.createPointAt(Sa,O-za.pointerOffset.x,
da-za.pointerOffset.y,x.gridSize),d.movePoint(Sa,xa,x),pg(Sa)&&la(Sa,0===xa?"start":"end"),!0):!1:!1},d.handlePointerUp=function(x,z,O){x=z.activePointIndex;var da=z.isDragging,la=d.getElement(z.elementId);if(!la)return z;var za={};!da||0!==x&&x!==la.points.length-1||(ei(la.points,O.zoom.value)&&d.movePoint(la,x,0===x?la.points[la.points.length-1]:la.points[0]),da=O.isBindingEnabled?bi(Fg(d.getPointAtIndexGlobalCoordinates(la,x)),Ah.getScene(la)):null,(O={})[0===x?"startBindingElement":"endBindingElement"]=
da,za=O);return jb(jb(jb({},z),za),{},{isDragging:!1,pointerOffset:{x:0,y:0}})},d.handlePointerDown=function(x,z,O,da,la){var za={didAddPoint:!1,hitElement:null};if(!z.editingLinearElement)return za;var xa=d.getElement(z.editingLinearElement.elementId);if(!xa)return za;if(x.altKey)return null==z.editingLinearElement.lastUncommittedPoint&&nf(xa,{points:dl(dl([],xa.points),[d.createPointAt(xa,la.x,la.y,z.gridSize)])}),da.resumeRecording(),O({editingLinearElement:jb(jb({},z.editingLinearElement),{},
{activePointIndex:xa.points.length-1,lastUncommittedPoint:null,endBindingElement:bi(la,Ah.getScene(xa))})}),za.didAddPoint=!0,za;x=d.getPointIndexUnderCursor(xa,z.zoom,la.x,la.y);if(-1<x)za.hitElement=xa;else{var Ga=z.editingLinearElement;da=Ga.startBindingElement;Ga=Ga.endBindingElement;z.isBindingEnabled&&pg(xa)&&Qf(xa,da,Ga)}Ga=jg(xa);da=(Ga[0]+Ga[2])/2;Ga=(Ga[1]+Ga[3])/2;xa=-1<x&&Hf(xa.x+xa.points[x][0],xa.y+xa.points[x][1],da,Ga,xa.angle);return O({editingLinearElement:jb(jb({},z.editingLinearElement),
{},{activePointIndex:-1<x?x:null,pointerOffset:xa?{x:la.x-xa[0],y:la.y-xa[1]}:{x:0,y:0}})}),za},d.handlePointerMove=function(x,z,O,da,la){var za=da.lastUncommittedPoint,xa=d.getElement(da.elementId);if(!xa)return da;var Ga=xa.points,Sa=Ga[Ga.length-1];if(!x.altKey)return Sa===za&&d.movePoint(xa,Ga.length-1,"delete"),jb(jb({},da),{},{lastUncommittedPoint:null});x=d.createPointAt(xa,z-da.pointerOffset.x,O-da.pointerOffset.y,la);return Sa===za?d.movePoint(xa,xa.points.length-1,x):d.movePoint(xa,"new",
x),jb(jb({},da),{},{lastUncommittedPoint:xa.points[xa.points.length-1]})},d.getPointsGlobalCoordinates=function(x){var z=jg(x),O=(z[0]+z[2])/2,da=(z[1]+z[3])/2;return x.points.map(function(la){var za;return[(za=Hf(x.x+la[0],x.y+la[1],O,da,x.angle))[0],za[1]]})},d.getPointAtIndexGlobalCoordinates=function(x,z){var O=0>z?x.points.length+z:z;z=jg(x);O=x.points[O];return Hf(x.x+O[0],x.y+O[1],(z[0]+z[2])/2,(z[1]+z[3])/2,x.angle)},d.pointFromAbsoluteCoords=function(x,z){var O=jg(x);z=Hf(z[0],z[1],(O[0]+
O[2])/2,(O[1]+O[3])/2,-x.angle);return[z[0]-x.x,z[1]-x.y]},d.getPointIndexUnderCursor=function(x,z,O,da){x=this.getPointsGlobalCoordinates(x);for(var la=x.length;-1<--la;){var za=x[la];if(Math.hypot(za[0]-O,za[1]-da)*z.value<this.POINT_HANDLE_SIZE/2+1)return la}return-1},d.createPointAt=function(x,z,O,da){z=ri(z,O,da);O=jg(x);z=Hf(z[0],z[1],(O[0]+O[2])/2,(O[1]+O[3])/2,-x.angle);return[z[0]-x.x,z[1]-x.y]},d.normalizePoints=function(x){var z=x.points,O=z[0][0],da=z[0][1];nf(x,{points:z.map(function(la,
za){return[la[0]-O,la[1]-da]}),x:x.x+O,y:x.y+da})},d.movePointByOffset=function(x,z,O){var da=x.points[z];d.movePoint(x,z,[da[0]+O.x,da[1]+O.y])},d.movePoint=function(x,z,O,da){var la=x.points,za=0,xa=0;if("delete"===O){if("new"===z)throw Error("invalid args in movePoint");(O=la.slice()).splice(z,1);0===z&&(za=O[0][0],xa=O[0][1],O=O.map(function(kb,qb){return 0===qb?[0,0]:[kb[0]-za,kb[1]-xa]}))}else if("new"===z)O=dl(dl([],la),[O]);else{var Ga=O[0]-la[z][0],Sa=O[1]-la[z][1];O=la.map(function(kb,qb){return qb===
z?0===qb?(za=Ga,xa=Sa,kb):(za=0,xa=0,[kb[0]+Ga,kb[1]+Sa]):za||xa?[kb[0]-za,kb[1]-xa]:kb})}var Ma=Fe(x,O,x.strokeSharpness||"round");la=Fe(x,la,x.strokeSharpness||"round");la=Hf(za,xa,(la[0]+la[2])/2-(Ma[0]+Ma[2])/2,(la[1]+la[3])/2-(Ma[1]+Ma[3])/2,x.angle);nf(x,jb(jb({},da),{},{points:O,x:x.x+la[0],y:x.y+la[1]}))},d}();dg.POINT_HANDLE_SIZE=20;var Um=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},Qf=function(d,x,z){var O=new Set,da=new Set;Ig(d,x,z,"start",O,da);
Ig(d,z,x,"end",O,da);x=Array.from(da).filter(function(la){return!O.has(la)});Ah.getScene(d).getNonDeletedElements(x).forEach(function(la){var za;nf(la,{boundElementIds:null===(za=la.boundElementIds)||void 0===za?void 0:za.filter(function(xa){return xa!==d.id})})})},Ig=function(d,x,z,O,da,la){if("keep"!==x)if(null!=x)null!=z&&("keep"===z?Ff(d,x,O):"start"!==O&&z.id===x.id)||(Dj(d,x,O),da.add(x.id));else{var za;x="start"===O?"startBinding":"endBinding";z=d[x];d=null==z?null:(nf(d,((za={})[x]=null,za)),
z.elementId);null!=d&&la.add(d)}},wg=function(d){d.forEach(function(x){pg(x)?Qf(x,Og(x,"start"),Og(x,"end")):yk(x)&&em(x)})},em=function(d){vh(d).forEach(function(x){var z=x[1];return Qf(x[0],"end"===z?"keep":d,"start"===z?"keep":d)})},jk=function(d,x,z,O){null!=x.startBoundElement&&Dj(d,x.startBoundElement,"start");x=bi(O,z);null==x||Ff(d,x,"end")||Dj(d,x,"end")},Dj=function(d,x,z){var O,da;nf(d,((O={})["start"===z?"startBinding":"endBinding"]=function(la){for(var za=1;za<arguments.length;za++){var xa=
null!=arguments[za]?arguments[za]:{};za%2?$b(Object(xa),!0).forEach(function(Ga){Qc()(la,Ga,xa[Ga])}):Object.getOwnPropertyDescriptors?Object.defineProperties(la,Object.getOwnPropertyDescriptors(xa)):$b(Object(xa)).forEach(function(Ga){Object.defineProperty(la,Ga,Object.getOwnPropertyDescriptor(xa,Ga))})}return la}({elementId:x.id},bf(d,x,z)),O));nf(x,{boundElementIds:Array.from(new Set(Um(Um([],null!==(da=x.boundElementIds)&&void 0!==da?da:[]),[d.id])))})},Ff=function(d,x,z){z=d["start"===z?"endBinding":
"startBinding"];return(null==z?void 0:z.elementId)===x.id&&3>d.points.length},lh=function(d){d.forEach(function(x){pg(x)&&Qf(x,null,null)})},bi=function(d,x){return ni(x.getElements(),function(z){return yk(z)&&Mk(z,d)})},bf=function(d,x,z){var O="start"===z?-1:1;z=-1===O?0:d.points.length-1;O=z-O;z=dg.getPointAtIndexGlobalCoordinates(d,z);O=dg.getPointAtIndexGlobalCoordinates(d,O);a:{d=Ll(x);O=Ni(d,ek(O));d=Ni(d,ek(z));var da=lj(gk(d,O));d=x.height/x.width;O=x.width/2;var la=x.height/2,za=da[2],xa=
da[3];da=da[1];var Ga=Math.abs(xa),Sa=Math.abs(za);switch(x.type){case "rectangle":case "text":d=da/(O*(Sa+d*Ga));break a;case "diamond":d=Ga<Sa?da/(Sa*O):da/(Ga*la);break a;case "ellipse":d=da/(O*Math.sqrt(Math.pow(za,2)+Math.pow(d,2)*Math.pow(xa,2)));break a}d=void 0}return{focus:d,gap:Math.max(1,cm(x,z))}},Ai=function(d,x){var z,O=null!==(z=d.boundElementIds)&&void 0!==z?z:[];if(0!==O.length){x=null!=x?x:{};var da=x.newSize,la=sj(x.simultaneouslyUpdated);Ah.getScene(d).getNonDeletedElements(O).forEach(function(za){var xa,
Ga;if((null===(xa=za.startBinding)||void 0===xa?void 0:xa.elementId)===d.id||(null===(Ga=za.endBinding)||void 0===Ga?void 0:Ga.elementId)===d.id)xa=zf(d,za.startBinding,da),Ga=zf(d,za.endBinding,da),la.has(za.id)?nf(za,{startBinding:xa,endBinding:Ga}):(jn(za,"start",xa,d),jn(za,"end",Ga,d))})}},sj=function(d){return new Set((d||[]).map(function(x){return x.id}))},jn=function(d,x,z,O){var da;if(!(null==z||z.elementId!==O.id&&2<d.points.length)){var la=Ah.getScene(d).getElement(z.elementId);if(null!=
la){var za="start"===x?-1:1;O=-1===za?0:d.points.length-1;var xa=dg.getPointAtIndexGlobalCoordinates(d,O-za);za=function(Ga,Sa,Ma){if(0===Sa){var kb=jg(Ga);kb=Sl(kb);return hi(kb)}kb=Ll(Ga);Ma=Ni(kb,ek(Ma));kb=Kh(kb);switch(Ga.type){case "rectangle":case "text":case "diamond":var qb=qh(Ga,Sa,Ma);break;case "ellipse":var tb=Math.abs(Sa);qb=Ga.width*tb/2;Ga=Ga.height*tb/2;Sa=Math.sign(Sa);tb=hi(Ma);Ma=tb[0];tb=tb[1];tb=0===tb?1E-4:tb;var cc=Math.pow(Ma,2)*Math.pow(Ga,2)+Math.pow(tb,2)*Math.pow(qb,2);
Sa=(-Ma*Math.pow(Ga,2)+Sa*tb*Math.sqrt(Math.max(0,cc-Math.pow(qb,2)*Math.pow(Ga,2))))/cc;Ma=(-Sa*Ma-1)/tb;qb=-Math.pow(qb,2)*Sa/(Math.pow(Ma,2)*Math.pow(Ga,2)+Math.pow(Sa,2)*Math.pow(qb,2));qb=zi(qb,(-Sa*qb-1)/Ma)}return hi(Ni(kb,qb))}(la,z.focus,xa);0===z.gap?la=za:(la=function(Ga,Sa,Ma,kb){void 0===kb&&(kb=0);var qb=Ll(Ga);Sa=Ni(qb,ek(Sa));Ma=Ni(qb,ek(Ma));Ma=lj(gk(Ma,Sa));var tb=Kh(qb);return Ak(Ga,Ma,Sa,kb).map(function(cc){return hi(Ni(tb,cc))})}(la,xa,za,z.gap),la=0===la.length?za:la[0]);dg.movePoint(d,
O,dg.pointFromAbsoluteCoords(d,la),((da={})["start"===x?"startBinding":"endBinding"]=z,da))}}},zf=function(d,x,z){if(null==x||null==z)return x;var O=x.gap,da=x.focus,la=z.width;z=z.height;var za=d.width,xa=d.height;return{elementId:x.elementId,gap:Math.max(1,Math.min(Zi(d,la,z),O*(la<z?la/za:z/xa))),focus:da}},Il=function(d){return[Og(d,"start"),Og(d,"end")].filter(function(x){return null!=x})},Og=function(d,x){return bi(Fg(dg.getPointAtIndexGlobalCoordinates(d,"start"===x?0:-1)),Ah.getScene(d))},
vh=function(d){return Ah.getScene(d).getElements().map(function(x){if(!pg(x))return null;var z=Xf(x,"start",d),O=Xf(x,"end",d);return z||O?[x,z&&O?"both":z?"start":"end",d]:null}).filter(function(x){return null!=x})},Xf=function(d,x,z){return null==d["start"===x?"startBinding":"endBinding"]&&!Ff(d,z,x)&&Mk(z,Fg(dg.getPointAtIndexGlobalCoordinates(d,"start"===x?0:-1)))},Uj=function(d,x,z,O){var da=new Set,la=new Set,za="duplicatesServeAsOld"===O;x.forEach(function(xa){var Ga=xa.boundElementIds;if(null!=
Ga&&0<Ga.length&&(Ga.forEach(function(Sa){za&&!z.has(Sa)&&da.add(Sa)}),la.add(z.get(xa.id))),pg(xa))null!=xa.startBinding&&(Ga=xa.startBinding.elementId,za&&!z.has(Ga)&&la.add(Ga)),null!=xa.endBinding&&(Ga=xa.endBinding.elementId,za&&!z.has(Ga)&&la.add(Ga)),null==xa.startBinding&&null==xa.endBinding||da.add(z.get(xa.id))});d.filter(function(xa){return da.has(xa.id)}).forEach(function(xa){var Ga=xa.endBinding;nf(xa,{startBinding:Hh(xa.startBinding,z),endBinding:Hh(Ga,z)})});d.filter(function(xa){return la.has(xa.id)}).forEach(function(xa){var Ga=
xa.boundElementIds;null!=Ga&&0<Ga.length&&nf(xa,{boundElementIds:Ga.map(function(Sa){var Ma;return null!==(Ma=z.get(Sa))&&void 0!==Ma?Ma:Sa})})})},Hh=function(d,x){var z;if(null==d)return null;var O=d.elementId;return{focus:d.focus,gap:d.gap,elementId:null!==(z=x.get(O))&&void 0!==z?z:O}},tj=function(d,x){var z=new Set(x.map(function(da){return da.id})),O=new Set;x.forEach(function(da){var la;yk(da)&&(null===(la=da.boundElementIds)||void 0===la||la.forEach(function(za){z.has(za)||O.add(za)}))});d.filter(function(da){return O.has(da.id)}).forEach(function(da){var la=
da.endBinding;nf(da,{startBinding:nm(da.startBinding,z),endBinding:nm(la,z)})})},nm=function(d,x){return null==d||x.has(d.elementId)?null:d},ej=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},Rf=function(d){return d>=2*Math.PI?d-2*Math.PI:d},of=function(d,x,z){return Hg(d)?{points:Gi(0,x,Gi(1,z,d.points))}:{}},Pg=function(d,x,z){x=x/d.width*d.fontSize;if(1>x)return null;d=Wi(d.text,Vi({fontSize:x,fontFamily:d.fontFamily}));return{size:x,baseline:d.baseline+(z-d.height)}},
Jl=function(d,x,z,O){var da=Dg(d),la=da[0],za=da[1],xa=da[2],Ga=da[3];switch(x){case "se":var Sa=Math.max((z-la)/(xa-la),(O-za)/(Ga-za));var Ma=function(qb,tb,cc){var Xb=tb[0];tb=tb[1];return{x:qb.x+(Xb-la)*(Sa-1)+Xb-cc[0],y:qb.y+(tb-za)*(Sa-1)+tb-cc[1]}};break;case "nw":Sa=Math.max((xa-z)/(xa-la),(Ga-O)/(Ga-za));Ma=function(qb,tb,cc){var Xb=tb[2];tb=tb[3];return{x:qb.x-(xa-Xb)*(Sa-1)+Xb-cc[2],y:qb.y-(Ga-tb)*(Sa-1)+tb-cc[3]}};break;case "ne":Sa=Math.max((z-la)/(xa-la),(Ga-O)/(Ga-za));Ma=function(qb,
tb,cc){var Xb=tb[0];tb=tb[3];return{x:qb.x+(Xb-la)*(Sa-1)+Xb-cc[0],y:qb.y-(Ga-tb)*(Sa-1)+tb-cc[3]}};break;case "sw":Sa=Math.max((xa-z)/(xa-la),(O-za)/(Ga-za)),Ma=function(qb,tb,cc){var Xb=tb[1];tb=tb[2];return{x:qb.x-(xa-tb)*(Sa-1)+tb-cc[2],y:qb.y+(Xb-za)*(Sa-1)+Xb-cc[1]}}}if(0<Sa){var kb=d.reduce(function(qb,tb){if(!qb)return qb;var cc=tb.width*Sa,Xb=tb.height*Sa,Ac={};if("text"===tb.type){Ac=Pg(tb,cc,Xb);if(null===Ac)return null;Ac={fontSize:Ac.size,baseline:Ac.baseline}}var gd=jg(tb),kd=of(tb,
cc,Xb);Ai(tb,{newSize:{width:cc,height:Xb},simultaneouslyUpdated:d});var xd=Tg(Gc(Gc({},tb),kd),cc,Xb);gd=Ma(tb,gd,xd);tb=gd.x;gd=gd.y;return ej(ej([],qb),[Gc(Gc({width:cc,height:Xb,x:tb,y:gd},kd),Ac)])},[]);kb&&d.forEach(function(qb,tb){nf(qb,kb[tb])})}},rl=function(d,x,z,O,da,la,za){var xa=5*Math.PI/2+Math.atan2(O-za,z-la);da&&(xa+=hc.ay/2,xa-=xa%hc.ay);x.forEach(function(Ga,Sa){var Ma,kb,qb=jg(Ga);Sa=(qb[0]+qb[2])/2;qb=(qb[1]+qb[3])/2;var tb=null!==(Ma=null===(kb=d.originalElements.get(Ga.id))||
void 0===kb?void 0:kb.angle)&&void 0!==Ma?Ma:Ga.angle;Ma=Hf(Sa,qb,la,za,xa+tb-Ga.angle);nf(Ga,{x:Ga.x+(Ma[0]-Sa),y:Ga.y+(Ma[1]-qb),angle:Rf(xa+tb)})})},li=function(d,x,z,O,da,la,za,xa,Ga,Sa){var Ma;Ga&&(za=(Ma=Ye(x,za,la<O?-xa:xa)).width,0>(xa=Ma.height)&&(xa=-xa));x=da<z?z-za:z;la=la<O?O-xa:O;Sa&&(x=z-(za+=za)/2,la=O-(xa+=xa)/2);0!==za&&0!==xa&&nf(d,{x,y:la,width:za,height:xa})},sl=function(d){return d.replace(/\t/g,"        ").replace(/\r?\n|\r/g,"\n")},qk=function(d){var x=Wi(d.text,Vi(d));nf(d,
{width:x.width,height:x.height,baseline:x.baseline})},th=function(d,x){return!(d.viewModeEnabled||!d.editingElement&&!wf(x,d).length&&"selection"===d.elementType)},Nk=function(d){return d.filter(function(x){return x.isDeleted||!Rh(x)})},$i=function(d){return d.reduce(function(x,z){return x[z.id]=z,x},{})},cl=function(d){return d.reduce(function(x,z){return x+z.version},0)},je=function(d){return d.filter(function(x){return!x.isDeleted})},Ef=function(d){return je(d).map(function(x){return hj(x.type)?
Dc(Dc({},x),{},{lastCommittedPoint:null}):x})},ki=function(d,x,z){var O=[d.horizontal,d.vertical].map(function(da){return null!=da&&da.x<=x&&x<=da.x+da.width&&da.y<=z&&z<=da.y+da.height});d=O[0];O=O[1];return{isOverEither:d||O,isOverHorizontal:d,isOverVertical:O}},lg=function(d,x){return d.some(function(z){return x.selectedElementIds[z.id]})},wf=function(d,x){return d.filter(function(z){return x.selectedElementIds[z.id]})},kk=function(d,x){return x.editingElement?[x.editingElement]:wf(d,x)},Xi=function(d){var x=
d.scenePoint,z=d.viewportDimensions;d=d.zoom;return{scrollX:z.width/2*(1/d.value)-x.x-1/d.value*d.translation.x,scrollY:z.height/2*(1/d.value)-x.y-1/d.value*d.translation.y}},mi=function(d,x,z){var O;if(!d.length)return{scrollX:0,scrollY:0};var da=Dg(d);z=da[0];var la=da[1],za=da[2];da=da[3];return function(xa,Ga,Sa){Ga=Sa[2];var Ma=Sa[3],kb=oh({sceneX:Sa[0],sceneY:Sa[1]},xa);Sa=kb.x;kb=kb.y;Ga=oh({sceneX:Ga,sceneY:Ma},xa);Ma=Ga.y;return Ga.x-Sa>xa.width||Ma-kb>xa.height}(x,0,[z,la,za,da])&&(z=(O=
function(xa,Ga){if(!xa.length)return[0,0,0,0];var Sa=1/0,Ma=xa[0];return xa.forEach(function(kb){var qb=si(kb);qb=Math.hypot(Ga.x-(qb[0]+qb[2])/2,Ga.y-(qb[1]+qb[3])/2);qb<Sa&&(Sa=qb,Ma=kb)}),si(Ma)}(d,vg({clientX:x.scrollX,clientY:x.scrollY},x)))[0],la=O[1],za=O[2],da=O[3]),Xi({scenePoint:{x:(z+za)/2,y:(la+da)/2},viewportDimensions:{width:x.width,height:x.height},zoom:x.zoom})},Oj=function(d){return"rectangle"===d||"ellipse"===d||"diamond"===d||"draw"===d||"line"===d},Wf=function(d){return"rectangle"===
d||"ellipse"===d||"diamond"===d||"arrow"===d||"draw"===d||"line"===d},rk=function(d){return"rectangle"===d||"arrow"===d||"draw"===d||"line"===d},ni=function(d,x){for(var z=null,O=d.length-1;0<=O;--O){var da=d[O];if(!da.isDeleted&&x(da)){z=da;break}}return z},ci=function(d,x,z,O){return void 0===O&&(O={x:0,y:0}),{value:d,translation:{x:O.x-z.left-d/x.value*(O.x-z.left-x.translation.x),y:O.y-z.top-d/x.value*(O.y-z.top-x.translation.y)}}},Sj=function(d){d=parseFloat(d.toFixed(2));return Math.max(.1,
Math.min(d,10))},lf=(l(9478),Ha().forwardRef(function(d,x){var z=Ha().useRef(null);Ha().useImperativeHandle(x,function(){return z.current});x="ToolIcon_size_".concat(d.size||"m");return"button"===d.type?Ha().createElement("button",{className:xc("ToolIcon_type_button",x,d.className,d.visible&&!d.hidden?"ToolIcon_type_button--show":"ToolIcon_type_button--hide",{ToolIcon:!d.hidden,"ToolIcon--selected":d.selected}),hidden:d.hidden,title:d.title,"aria-label":d["aria-label"],type:"button",onClick:d.onClick,
ref:z},Ha().createElement("div",{className:"ToolIcon__icon","aria-hidden":"true"},d.icon||d.label,d.keyBindingLabel&&Ha().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)),d.showAriaLabel&&Ha().createElement("div",{className:"ToolIcon__label"},d["aria-label"]),d.children):Ha().createElement("label",{className:xc("ToolIcon",d.className),title:d.title},Ha().createElement("input",{className:"ToolIcon_type_radio ".concat(x),type:"radio",name:d.name,"aria-label":d["aria-label"],
"aria-keyshortcuts":d["aria-keyshortcuts"],"data-testid":d["data-testid"],id:d.id,onChange:d.onChange,checked:d.checked,ref:z}),Ha().createElement("div",{className:"ToolIcon__icon"},d.icon,d.keyBindingLabel&&Ha().createElement("span",{className:"ToolIcon__keybinding"},d.keyBindingLabel)))}));lf.defaultProps={visible:!0,className:""};var Ag=function(d){return"light"===d?Je.$y[4]:Je.$y[9]},Ae=function(d){return"light"===d?Je.Sn:Je.MA[4]},Jg=function(d){return"light"===d?Je.ix:"#1e1e1e"},ye=function(d,
x){void 0===x&&(x=512);x="number"==typeof x?{width:x}:x;var z=x.width;z=void 0===z?512:z;var O=x.height;O=void 0===O?z:O;var da=x.mirror;x=x.style;return Ha().createElement("svg",{"aria-hidden":"true",focusable:"false",role:"img",viewBox:"0 0 ".concat(z," ").concat(O),className:xc({"rtl-mirror":da}),style:x},"string"==typeof d?Ha().createElement("path",{fill:"currentColor",d}):d)},tl=ye("M326.612 185.391c59.747 59.809 58.927 155.698.36 214.59-.11.12-.24.25-.36.37l-67.2 67.2c-59.27 59.27-155.699 59.262-214.96 0-59.27-59.26-59.27-155.7 0-214.96l37.106-37.106c9.84-9.84 26.786-3.3 27.294 10.606.648 17.722 3.826 35.527 9.69 52.721 1.986 5.822.567 12.262-3.783 16.612l-13.087 13.087c-28.026 28.026-28.905 73.66-1.155 101.96 28.024 28.579 74.086 28.749 102.325.51l67.2-67.19c28.191-28.191 28.073-73.757 0-101.83-3.701-3.694-7.429-6.564-10.341-8.569a16.037 16.037 0 0 1-6.947-12.606c-.396-10.567 3.348-21.456 11.698-29.806l21.054-21.055c5.521-5.521 14.182-6.199 20.584-1.731a152.482 152.482 0 0 1 20.522 17.197zM467.547 44.449c-59.261-59.262-155.69-59.27-214.96 0l-67.2 67.2c-.12.12-.25.25-.36.37-58.566 58.892-59.387 154.781.36 214.59a152.454 152.454 0 0 0 20.521 17.196c6.402 4.468 15.064 3.789 20.584-1.731l21.054-21.055c8.35-8.35 12.094-19.239 11.698-29.806a16.037 16.037 0 0 0-6.947-12.606c-2.912-2.005-6.64-4.875-10.341-8.569-28.073-28.073-28.191-73.639 0-101.83l67.2-67.19c28.239-28.239 74.3-28.069 102.325.51 27.75 28.3 26.872 73.934-1.155 101.96l-13.087 13.087c-4.35 4.35-5.769 10.79-3.783 16.612 5.864 17.194 9.042 34.999 9.69 52.721.509 13.906 17.454 20.446 27.294 10.606l37.106-37.106c59.271-59.259 59.271-155.699.001-214.959z",
{mirror:!0}),He=ye("M433.941 129.941l-83.882-83.882A48 48 0 0 0 316.118 32H48C21.49 32 0 53.49 0 80v352c0 26.51 21.49 48 48 48h352c26.51 0 48-21.49 48-48V163.882a48 48 0 0 0-14.059-33.941zM224 416c-35.346 0-64-28.654-64-64 0-35.346 28.654-64 64-64s64 28.654 64 64c0 35.346-28.654 64-64 64zm96-304.52V212c0 6.627-5.373 12-12 12H76c-6.627 0-12-5.373-12-12V108c0-6.627 5.373-12 12-12h228.52c3.183 0 6.235 1.264 8.485 3.515l3.48 3.48A11.996 11.996 0 0 1 320 111.48z",{width:448,height:512}),Fm=ye("M252 54L203 8a28 27 0 00-20-8H28C12 0 0 12 0 27v195c0 15 12 26 28 26h204c15 0 28-11 28-26V73a28 27 0 00-8-19zM130 213c-21 0-37-16-37-36 0-19 16-35 37-35 20 0 37 16 37 35 0 20-17 36-37 36zm56-169v56c0 4-4 6-7 6H44c-4 0-7-2-7-6V42c0-4 3-7 7-7h133l4 2 3 2a7 7 0 012 5z M296 201l87 95-188 205-78 9c-10 1-19-8-18-20l9-84zm141-14l-41-44a31 31 0 00-46 0l-38 41 87 95 38-42c13-14 13-36 0-50z",
{width:448,height:512}),om=ye("M572.694 292.093L500.27 416.248A63.997 63.997 0 0 1 444.989 448H45.025c-18.523 0-30.064-20.093-20.731-36.093l72.424-124.155A64 64 0 0 1 152 256h399.964c18.523 0 30.064 20.093 20.73 36.093zM152 224h328v-48c0-26.51-21.49-48-48-48H272l-64-64H48C21.49 64 0 85.49 0 112v278.046l69.077-118.418C86.214 242.25 117.989 224 152 224z",{width:576,height:512,mirror:!0}),tk=ye("M384 112v352c0 26.51-21.49 48-48 48H48c-26.51 0-48-21.49-48-48V112c0-26.51 21.49-48 48-48h80c0-35.29 28.71-64 64-64s64 28.71 64 64h80c26.51 0 48 21.49 48 48zM192 40c-13.255 0-24 10.745-24 24s10.745 24 24 24 24-10.745 24-24-10.745-24-24-24m96 114v-20a6 6 0 0 0-6-6H102a6 6 0 0 0-6 6v20a6 6 0 0 0 6 6h180a6 6 0 0 0 6-6z",
{width:384,height:512}),Ri=ye("M32 464a48 48 0 0 0 48 48h288a48 48 0 0 0 48-48V128H32zm272-256a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zm-96 0a16 16 0 0 1 32 0v224a16 16 0 0 1-32 0zM432 32H312l-9.4-18.7A24 24 0 0 0 281.1 0H166.8a23.72 23.72 0 0 0-21.4 13.3L136 32H16A16 16 0 0 0 0 48v32a16 16 0 0 0 16 16h416a16 16 0 0 0 16-16V48a16 16 0 0 0-16-16z",{width:448,height:512}),Oh=ye("M204.3 5C104.9 24.4 24.8 104.3 5.2 203.4c-37 187 131.7 326.4 258.8 306.7 41.2-6.4 61.4-54.6 42.5-91.7-23.1-45.4 9.9-98.4 60.9-98.4h79.7c35.8 0 64.8-29.6 64.9-65.3C511.5 97.1 368.1-26.9 204.3 5zM96 320c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm32-128c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128-64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32zm128 64c-17.7 0-32-14.3-32-32s14.3-32 32-32 32 14.3 32 32-14.3 32-32 32z"),
wh=ye("M384 121.9c0-6.3-2.5-12.4-7-16.9L279.1 7c-4.5-4.5-10.6-7-17-7H256v128h128zM571 308l-95.7-96.4c-10.1-10.1-27.4-3-27.4 11.3V288h-64v64h64v65.2c0 14.3 17.3 21.4 27.4 11.3L571 332c6.6-6.6 6.6-17.4 0-24zm-379 28v-32c0-8.8 7.2-16 16-16h176V160H248c-13.2 0-24-10.8-24-24V0H24C10.7 0 0 10.7 0 24v464c0 13.3 10.7 24 24 24h336c13.3 0 24-10.7 24-24V352H208c-8.8 0-16-7.2-16-16z",{width:576,height:512,mirror:!0}),oi=ye("M416 208H272V64c0-17.67-14.33-32-32-32h-32c-17.67 0-32 14.33-32 32v144H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h144v144c0 17.67 14.33 32 32 32h32c17.67 0 32-14.33 32-32V304h144c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",
{width:448,height:512}),Ej=ye("M416 208H32c-17.67 0-32 14.33-32 32v32c0 17.67 14.33 32 32 32h384c17.67 0 32-14.33 32-32v-32c0-17.67-14.33-32-32-32z",{width:448,height:512}),sk=ye("M173.898 439.404l-166.4-166.4c-9.997-9.997-9.997-26.206 0-36.204l36.203-36.204c9.997-9.998 26.207-9.998 36.204 0L192 312.69 432.095 72.596c9.997-9.997 26.207-9.997 36.204 0l36.203 36.204c9.997 9.997 9.997 26.206 0 36.204l-294.4 294.401c-9.998 9.997-26.207 9.997-36.204-.001z"),Sk=ye("M16 132h416c8.837 0 16-7.163 16-16V76c0-8.837-7.163-16-16-16H16C7.163 60 0 67.163 0 76v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16zm0 160h416c8.837 0 16-7.163 16-16v-40c0-8.837-7.163-16-16-16H16c-8.837 0-16 7.163-16 16v40c0 8.837 7.163 16 16 16z"),
nh=ye("M255.545 8c-66.269.119-126.438 26.233-170.86 68.685L48.971 40.971C33.851 25.851 8 36.559 8 57.941V192c0 13.255 10.745 24 24 24h134.059c21.382 0 32.09-25.851 16.971-40.971l-41.75-41.75c30.864-28.899 70.801-44.907 113.23-45.273 92.398-.798 170.283 73.977 169.484 169.442C423.236 348.009 349.816 424 256 424c-41.127 0-79.997-14.678-110.63-41.556-4.743-4.161-11.906-3.908-16.368.553L89.34 422.659c-4.872 4.872-4.631 12.815.482 17.433C133.798 479.813 192.074 504 256 504c136.966 0 247.999-111.033 248-247.998C504.001 119.193 392.354 7.755 255.545 8z",
{mirror:!0}),Fj=ye("M256.455 8c66.269.119 126.437 26.233 170.859 68.685l35.715-35.715C478.149 25.851 504 36.559 504 57.941V192c0 13.255-10.745 24-24 24H345.941c-21.382 0-32.09-25.851-16.971-40.971l41.75-41.75c-30.864-28.899-70.801-44.907-113.23-45.273-92.398-.798-170.283 73.977-169.484 169.442C88.764 348.009 162.184 424 256 424c41.127 0 79.997-14.678 110.629-41.556 4.743-4.161 11.906-3.908 16.368.553l39.662 39.662c4.872 4.872 4.631 12.815-.482 17.433C378.202 479.813 319.926 504 256 504 119.034 504 8.001 392.967 8 256.002 7.999 119.193 119.646 7.755 256.455 8z",
{mirror:!0}),hd=ye("M504 256c0 136.997-111.043 248-248 248S8 392.997 8 256C8 119.083 119.043 8 256 8s248 111.083 248 248zM262.655 90c-54.497 0-89.255 22.957-116.549 63.758-3.536 5.286-2.353 12.415 2.715 16.258l34.699 26.31c5.205 3.947 12.621 3.008 16.665-2.122 17.864-22.658 30.113-35.797 57.303-35.797 20.429 0 45.698 13.148 45.698 32.958 0 14.976-12.363 22.667-32.534 33.976C247.128 238.528 216 254.941 216 296v4c0 6.627 5.373 12 12 12h56c6.627 0 12-5.373 12-12v-1.333c0-28.462 83.186-29.647 83.186-106.667 0-58.002-60.165-102-116.531-102zM256 338c-25.365 0-46 20.635-46 46 0 25.364 20.635 46 46 46s46-20.636 46-46c0-25.365-20.635-46-46-46z",
{mirror:!0}),ee=(ye("M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7s-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81 1.66 0 3-1.34 3-3s-1.34-3-3-3-3 1.34-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9c-1.66 0-3 1.34-3 3s1.34 3 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.16c-.05.21-.08.43-.08.65 0 1.61 1.31 2.92 2.92 2.92 1.61 0 2.92-1.31 2.92-2.92s-1.31-2.92-2.92-2.92z",{width:24,height:24}),ye("M16 5l-1.42 1.42-1.59-1.59V16h-1.98V4.83L9.42 6.42 8 5l4-4 4 4zm4 5v11c0 1.1-.9 2-2 2H6c-1.11 0-2-.9-2-2V10c0-1.11.89-2 2-2h3v2H6v11h12V10h-3V8h3c1.1 0 2 .89 2 2z",
{width:24,height:24}),ye(Ha().createElement("path",{stroke:"currentColor",strokeWidth:"40",fill:"currentColor",d:"M148 560a318 318 0 0 0 522 110 316 316 0 0 0 0-450 316 316 0 0 0-450 0c-11 11-21 22-30 34v4h47c25 0 46 21 46 46s-21 45-46 45H90c-13 0-25-6-33-14-9-9-14-20-14-33V156c0-25 20-45 45-45s45 20 45 45v32l1 1a401 401 0 0 1 623 509l212 212a42 42 0 0 1-59 59L698 757A401 401 0 0 1 65 570a42 42 0 0 1 83-10z"}),{width:1024})),vd=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,
null,Ha().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H16v8H8v4.444C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ae(d),stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Nd=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,
null,Ha().createElement("path",{d:"M16 3.556C16 2.696 15.303 2 14.444 2H3.556C2.696 2 2 2.697 2 3.556v10.888C2 15.304 2.697 16 3.556 16h10.888c.86 0 1.556-.697 1.556-1.556V3.556z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M22 9.556C22 8.696 21.303 8 20.444 8H9.556C8.696 8 8 8.697 8 9.556v10.888C8 21.304 8.697 22 9.556 22h10.888c.86 0 1.556-.697 1.556-1.556V9.556z",fill:Ae(d),stroke:Ae(d),strokeWidth:"2"})),{width:24,mirror:!0})}),pi=Ha().memo(function(d){d=d.appearance;
return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M13 21a1 1 0 001 1h7a1 1 0 001-1v-7a1 1 0 00-1-1h-3v5h-5v3zM11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h3V6h5V3z",fill:Ae(d),stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Gf=Ha().memo(function(d){d=
d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M18 7.333C18 6.597 17.403 6 16.667 6H7.333C6.597 6 6 6.597 6 7.333v9.334C6 17.403 6.597 18 7.333 18h9.334c.736 0 1.333-.597 1.333-1.333V7.333z",fill:Ag(d),stroke:Ag(d),strokeLinejoin:"round",strokeWidth:"2"}),Ha().createElement("path",{d:"M11 3a1 1 0 00-1-1H3a1 1 0 00-1 1v7a1 1 0 001 1h8V3zM22 14a1 1 0 00-1-1h-7a1 1 0 00-1 1v7a1 1 0 001 1h8v-8z",fill:Ae(d),stroke:Ae(d),strokeLinejoin:"round",strokeWidth:"2"})),
{width:24,mirror:!0})}),Ih=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 2,5 H 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M 6,7 C 5.446,7 5,7.446 5,8 v 9.999992 c 0,0.554 0.446,1 1,1 h 3.0000001 c 0.554,0 0.9999999,-0.446 0.9999999,-1 V 8 C 10,7.446 9.5540001,7 9.0000001,7 Z m 9,0 c -0.554,0 -1,0.446 -1,1 v 5.999992 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 V 8 C 19,7.446 18.554,7 18,7 Z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),sg=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 2,19 H 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 6,16.999992 c -0.554,0 -1,-0.446 -1,-1 V 6 C 5,5.446 5.446,5 6,5 H 9.0000001 C 9.5540001,5 10,5.446 10,6 v 9.999992 c 0,0.554 -0.4459999,1 -0.9999999,1 z m 9,0 c -0.554,0 -1,-0.446 -1,-1 V 10 c 0,-0.554 0.446,-1 1,-1 h 3 c 0.554,0 1,0.446 1,1 v 5.999992 c 0,0.554 -0.446,1 -1,1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24,mirror:!0})}),Aj=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 5,2 V 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 7.000004,5.999996 c 0,-0.554 0.446,-1 1,-1 h 9.999992 c 0.554,0 1,0.446 1,1 v 3.0000001 c 0,0.554 -0.446,0.9999999 -1,0.9999999 H 8.000004 c -0.554,0 -1,-0.4459999 -1,-0.9999999 z m 0,9 c 0,-0.554 0.446,-1 1,-1 h 5.999992 c 0.554,0 1,0.446 1,1 v 3 c 0,0.554 -0.446,1 -1,1 H 8.000004 c -0.554,0 -1,-0.446 -1,-1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),jd=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 19,2 V 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"m 16.999996,5.999996 c 0,-0.554 -0.446,-1 -1,-1 H 6.000004 c -0.554,0 -1,0.446 -1,1 v 3.0000001 c 0,0.554 0.446,0.9999999 1,0.9999999 h 9.999992 c 0.554,0 1,-0.4459999 1,-0.9999999 z m 0,9 c 0,-0.554 -0.446,-1 -1,-1 h -5.999992 c -0.554,0 -1,0.446 -1,1 v 3 c 0,0.554 0.446,1 1,1 h 5.999992 c 0.554,0 1,-0.446 1,-1 z",
fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),qd=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M5 5V19Z",fill:"black"}),Ha().createElement("path",{d:"M19 5V19M5 5V19",stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),Qg=
Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M5 5L19 5M5 19H19",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeLinecap:"round"}),Ha().createElement("path",{d:"M15 9C15.554 9 16 9.446 16 10V14C16 14.554 15.554 15 15 15H9C8.446 15 8 14.554 8 14V10C8 9.446 8.446 9 9 9H15Z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"})),{width:24})}),dd=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",
{d:"m 5.000004,16.999996 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -10 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z m 9,-2 c 0,0.554 0.446,1 1,1 h 3 c 0.554,0 1,-0.446 1,-1 v -6 c 0,-0.554 -0.446,-1 -1,-1 h -3 c -0.554,0 -1,0.446 -1,1 z",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M 2,12 H 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeDasharray:"1, 2.8",strokeLinecap:"round"})),{width:24,mirror:!0})}),Tk=Ha().memo(function(d){d=d.appearance;
return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M 7 5 C 6.446 5 6 5.446 6 6 L 6 9 C 6 9.554 6.446 10 7 10 L 17 10 C 17.554 10 18 9.554 18 9 L 18 6 C 18 5.446 17.554 5 17 5 L 7 5 z M 9 14 C 8.446 14 8 14.446 8 15 L 8 18 C 8 18.554 8.446 19 9 19 L 15 19 C 15.554 19 16 18.554 16 18 L 16 15 C 16 14.446 15.554 14 15 14 L 9 14 z ",fill:Ag(d),stroke:Ag(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M 12,2 V 22",fill:Ae(d),stroke:Ae(d),strokeWidth:"2",strokeDasharray:"1, 2.8",
strokeLinecap:"round"})),{width:24})}),Kl=ye("M192 256c61.9 0 112-50.1 112-112S253.9 32 192 32 80 82.1 80 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C51.6 288 0 339.6 0 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zM480 256c53 0 96-43 96-96s-43-96-96-96-96 43-96 96 43 96 96 96zm48 32h-3.8c-13.9 4.8-28.6 8-44.2 8s-30.3-3.2-44.2-8H432c-20.4 0-39.2 5.9-55.7 15.4 24.4 26.3 39.7 61.2 39.7 99.8v38.4c0 2.2-.5 4.3-.6 6.4H592c26.5 0 48-21.5 48-48 0-61.9-50.1-112-112-112z",
{width:640,height:512,mirror:!0}),uj=(ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm115.7 272l-176 101c-15.8 8.8-35.7-2.5-35.7-21V152c0-18.4 19.8-29.8 35.7-21l176 107c16.4 9.2 16.4 32.9 0 42z"),ye("M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8zm96 328c0 8.8-7.2 16-16 16H176c-8.8 0-16-7.2-16-16V176c0-8.8 7.2-16 16-16h160c8.8 0 16 7.2 16 16v160z"),ye("M242.72 256l100.07-100.07c12.28-12.28 12.28-32.19 0-44.48l-22.24-22.24c-12.28-12.28-32.19-12.28-44.48 0L176 189.28 75.93 89.21c-12.28-12.28-32.19-12.28-44.48 0L9.21 111.45c-12.28 12.28-12.28 32.19 0 44.48L109.28 256 9.21 356.07c-12.28 12.28-12.28 32.19 0 44.48l22.24 22.24c12.28 12.28 32.2 12.28 44.48 0L176 322.72l100.07 100.07c12.28 12.28 32.2 12.28 44.48 0l22.24-22.24c12.28-12.28 12.28-32.19 0-44.48L242.72 256z",
{width:352,height:512})),mh=ye("M34.52 239.03L228.87 44.69c9.37-9.37 24.57-9.37 33.94 0l22.67 22.67c9.36 9.36 9.37 24.52.04 33.9L131.49 256l154.02 154.75c9.34 9.38 9.32 24.54-.04 33.9l-22.67 22.67c-9.37 9.37-24.57 9.37-33.94 0L34.52 272.97c-9.37-9.37-9.37-24.57 0-33.94z",{width:320,height:512,style:{marginLeft:"-0.2rem"},mirror:!0}),ug=ye("M464 0c26.51 0 48 21.49 48 48v288c0 26.51-21.49 48-48 48H176c-26.51 0-48-21.49-48-48V48c0-26.51 21.49-48 48-48h288M176 416c-44.112 0-80-35.888-80-80V128H48c-26.51 0-48 21.49-48 48v288c0 26.51 21.49 48 48 48h288c26.51 0 48-21.49 48-48v-48H176z",
{mirror:!0}),Zd=ye("M11.553 22.894a.998.998 0 00.894 0s3.037-1.516 5.465-4.097C19.616 16.987 21 14.663 21 12V5a1 1 0 00-.649-.936l-8-3a.998.998 0 00-.702 0l-8 3A1 1 0 003 5v7c0 2.663 1.384 4.987 3.088 6.797 2.428 2.581 5.465 4.097 5.465 4.097zm-1.303-8.481l6.644-6.644a.856.856 0 111.212 1.212l-7.25 7.25a.856.856 0 01-1.212 0l-3.75-3.75a.856.856 0 111.212-1.212l3.144 3.144z",{width:24}),uf=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",
{d:"M25 26H111V111H25",fill:Ae(d)}),Ha().createElement("path",{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M100 100H160V160H100",fill:Ae(d)}),Ha().createElement("path",
{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",
{x:"2.5",y:"149.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"2.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Ok=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement(Ha().Fragment,null,Ha().createElement("path",{d:"M25 26H111V111H25",fill:Ae(d)}),Ha().createElement("path",
{d:"M25 111C25 80.2068 25 49.4135 25 26M25 26C48.6174 26 72.2348 26 111 26H25ZM25 26C53.3671 26 81.7343 26 111 26H25ZM111 26C111 52.303 111 78.606 111 111V26ZM111 26C111 51.2947 111 76.5893 111 111V26ZM111 111C87.0792 111 63.1585 111 25 111H111ZM111 111C87.4646 111 63.9293 111 25 111H111ZM25 111C25 81.1514 25 51.3028 25 26V111Z",stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("path",{d:"M100 100H160V160H100",fill:Ae(d)}),Ha().createElement("path",{d:"M100 160C100 144.106 100 128.211 100 100M100 100C117.706 100 135.412 100 160 100H100ZM100 100C114.214 100 128.428 100 160 100H100ZM160 100C160 120.184 160 140.369 160 160V100ZM160 100C160 113.219 160 126.437 160 160V100ZM160 160C145.534 160 131.068 160 100 160H160ZM160 160C143.467 160 126.934 160 100 160H160ZM100 160C100 143.661 100 127.321 100 100V160Z",
stroke:Ae(d),strokeWidth:"2"}),Ha().createElement("rect",{x:"2.5",y:"2.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"78.5",y:"149.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"149.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"147.5",y:"78.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"105.5",
y:"2.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"}),Ha().createElement("rect",{x:"2.5",y:"102.5",width:"30",height:"30",fill:Jg(d),stroke:Ae(d),strokeWidth:"6"})),{width:182,height:182,mirror:!0})}),Uk=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{fillRule:"evenodd",clipRule:"evenodd",d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z",
fill:Ae(d)}),{width:40,height:20})}),ge=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("g",{fill:Ae(d),fillRule:"evenodd",clipRule:"evenodd"},Ha().createElement("path",{d:"M20.101 16H28.0934L36 8.95989V4H33.5779L20.101 16ZM30.5704 4L17.0935 16H9.10101L22.5779 4H30.5704ZM19.5704 4L6.09349 16H4V10.7475L11.5779 4H19.5704ZM8.57036 4H4V8.06952L8.57036 4ZM36 11.6378L31.101 16H36V11.6378ZM2 2V18H38V2H2Z"}),Ha().createElement("path",{d:"M14.0001 18L3.00006 4.00002L4.5727 2.76438L15.5727 16.7644L14.0001 18ZM25.0001 18L14.0001 4.00002L15.5727 2.76438L26.5727 16.7644L25.0001 18ZM36.0001 18L25.0001 4.00002L26.5727 2.76438L37.5727 16.7644L36.0001 18Z"})),
{width:40,height:20})}),pm=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M2 2H38V18H2V2Z",fill:Ae(d)}),{width:40,height:20})}),aj=Ha().memo(function(d){var x=d.appearance;d=d.strokeWidth;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(x),strokeWidth:d,fill:"none"}),{width:40,height:20})}),be=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),el=Ha().memo(function(d){d=
d.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(d),strokeWidth:2.5,strokeDasharray:"10, 8",fill:"none"}),{width:40,height:20})}),eg=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(d),strokeWidth:2.5,strokeDasharray:"4, 4",fill:"none"}),{width:40,height:20})}),Si=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M3.00098 16.1691C6.28774 13.9744 19.6399 2.8905 22.7215 3.00082C25.8041 3.11113 19.1158 15.5488 21.4962 16.8309C23.8757 18.1131 34.4155 11.7148 37.0001 10.6919",
stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),zm=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M3 17C6.68158 14.8752 16.1296 9.09849 22.0648 6.54922C28 3.99995 22.2896 13.3209 25 14C27.7104 14.6791 36.3757 9.6471 36.3757 9.6471M6.40706 15C13 11.1918 20.0468 1.51045 23.0234 3.0052C26 4.49995 20.457 12.8659 22.7285 16.4329C25 20 36.3757 13 36.3757 13",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),uk=Ha().memo(function(d){d=
d.appearance;return ye(Ha().createElement("path",{d:"M3 15.6468C6.93692 13.5378 22.5544 2.81528 26.6206 3.00242C30.6877 3.18956 25.6708 15.3346 27.4009 16.7705C29.1309 18.2055 35.4001 12.4762 37 11.6177M3.97143 10.4917C6.61158 9.24563 16.3706 2.61886 19.8104 3.01724C23.2522 3.41472 22.0773 12.2013 24.6181 12.8783C27.1598 13.5536 33.3179 8.04068 35.0571 7.07244",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),fl=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",
{d:"M10 17L10 5L35 5",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Vk=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M10 17V15C10 8 13 5 21 5L33.5 5",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20,mirror:!0})}),Pk=Ha().memo(function(d){d=d.appearance;return ye(Ha().createElement("path",{d:"M6 10H34",stroke:Ae(d),strokeWidth:2,fill:"none"}),{width:40,height:20})}),Jh=Ha().memo(function(d){var x=d.appearance;d=d.flip;d=void 0!==
d&&d;return ye(Ha().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":"",stroke:Ae(x),strokeWidth:2,fill:"none"},Ha().createElement("path",{d:"M34 10H6M34 10L27 5M34 10L27 15"}),Ha().createElement("path",{d:"M27.5 5L34.5 10L27.5 15"})),{width:40,height:20})}),Vm=Ha().memo(function(d){var x=d.appearance;d=d.flip;d=void 0!==d&&d;return ye(Ha().createElement("g",{stroke:Ae(x),fill:Ae(x),transform:d?"translate(40, 0) scale(-1, 1)":""},Ha().createElement("path",{d:"M32 10L6 10",strokeWidth:2}),
Ha().createElement("circle",{r:"4",transform:"matrix(-1 0 0 1 30 10)"})),{width:40,height:20})}),Hj=Ha().memo(function(d){var x=d.appearance;d=d.flip;d=void 0!==d&&d;return ye(Ha().createElement("g",{transform:d?"translate(40, 0) scale(-1, 1)":""},Ha().createElement("path",{d:"M34 10H5.99996M34 10L34 5M34 10L34 15",stroke:Ae(x),strokeWidth:2,fill:"none"})),{width:40,height:20})}),kg=[],re=function(d){return kg=kg.concat(d),d},sh=function(d,x){var z;return d.editingGroupId&&(x=ck(je(x),d.editingGroupId),
x.length)?Zc(Zc({},d),{},{selectedElementIds:(z={},z[x[0].id]=!0,z)}):d},Vg=re({name:"deleteSelectedElements",perform:function(d,x){if(x.editingLinearElement){var z=x.editingLinearElement,O=z.activePointIndex,da=z.startBindingElement,la=z.endBindingElement,za=dg.getElement(z.elementId);if(!za)return!1;if(null==O||-1===O||2>za.points.length)return d=d.filter(function(xa){return xa.id!==za.id}),{elements:d,appState:Zc(Zc({},sh(x,d)),{},{editingLinearElement:null}),commitToHistory:!1};z={startBindingElement:0===
O?null:da,endBindingElement:O===za.points.length-1?null:la};return dg.movePoint(za,O,"delete"),{elements:d,appState:Zc(Zc({},x),{},{editingLinearElement:Zc(Zc(Zc({},x.editingLinearElement),z),{},{activePointIndex:0<O?O-1:0})}),commitToHistory:!0}}z=function(xa,Ga){return{elements:xa.map(function(Sa){return Ga.selectedElementIds[Sa.id]?zg(Sa,{isDeleted:!0}):Sa}),appState:Zc(Zc({},Ga),{},{selectedElementIds:{}})}}(d,x);O=z.elements;z=z.appState;return tj(O,d.filter(function(xa){return x.selectedElementIds[xa.id]})),
{elements:O,appState:Zc(Zc({},z=sh(z,O)),{},{elementType:"selection",multiElement:null}),commitToHistory:lg(je(d),x)}},contextItemLabel:"labels.delete",keyTest:function(d){return"Backspace"===d.key||"Delete"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{type:"button",icon:Ri,title:Ka("labels.delete"),"aria-label":Ka("labels.delete"),onClick:function(){return O(null)},visible:lg(je(x),z)})}}),di=function(d,x){for(var z=0,O=x.length,da=
d.length;z<O;z++,da++)d[da]=x[z];return d},Tl=function(d,x){for(var z=[],O=[],da=null,la=-1;++la<d.length;)x.selectedElementIds[d[la].id]?(O.length&&(z=z.concat(O),O=[]),z.push(la),da=la+1):d[la].isDeleted&&da===la?(da=la+1,O.push(la)):O=[];return z},Ph=function(d,x,z,O){var da=x[z],la=function(za){return!za.isDeleted&&(!d.editingGroupId||za.groupIds.includes(d.editingGroupId))};z="left"===O?function(za,xa,Ga){void 0===Ga&&(Ga=za.length-1);0>Ga&&(Ga=za.length+Ga);for(Ga=Math.min(za.length-1,Math.max(Ga,
0))+1;-1<--Ga;)if(xa(za[Ga],Ga,za))return Ga;return-1}(x,la,Math.max(0,z-1)):function(za,xa,Ga){void 0===Ga&&(Ga=0);0>Ga&&(Ga=za.length+Ga);for(Ga=Math.min(za.length,Math.max(Ga,0))-1;++Ga<za.length;)if(xa(za[Ga],Ga,za))return Ga;return-1}(x,la,z+1);la=x[z];if(!la)return-1;if(d.editingGroupId){if((null==da?void 0:da.groupIds.join(""))===(null==la?void 0:la.groupIds.join("")))return z;if(null==la||!la.groupIds.includes(d.editingGroupId))return-1}if(!la.groupIds.length)return z;da=d.editingGroupId?
la.groupIds[la.groupIds.indexOf(d.editingGroupId)-1]:la.groupIds[la.groupIds.length-1];da=ck(x,da);return da.length?"left"===O?x.indexOf(da[0]):x.indexOf(da[da.length-1]):z},te=function(d,x,z){var O,da=Tl(x,d),la=(O=0,da.reduce(function(za,xa,Ga){return 0<Ga&&da[Ga-1]!==xa-1&&(O=++O),(za[O]||(za[O]=[])).push(xa),za},[]));return"right"===z&&(la=la.reverse()),la.forEach(function(za,xa){xa=za[0];za=za[za.length-1];var Ga="left"===z?xa:za,Sa=Ph(d,x,Ga,z);if(-1!==Sa&&Ga!==Sa){Ga="left"===z?x.slice(0,Sa):
x.slice(0,xa);var Ma=x.slice(xa,za+1);xa="left"===z?x.slice(Sa,xa):x.slice(za+1,Sa+1);za="left"===z?x.slice(za+1):x.slice(Sa+1);x=di("left"===z?di(di(di([],Ga),Ma),xa):di(di(di([],Ga),xa),Ma),za)}}),x},$g=function(d,x,z){var O=Tl(d,x),da=[],la=[];if("left"===z){if(x.editingGroupId){if(!(x=ck(d,x.editingGroupId)).length)return d;var za=d.indexOf(x[0])}else za=0;x=O[O.length-1]}else{if(x.editingGroupId){if(!(x=ck(d,x.editingGroupId)).length)return d;x=d.indexOf(x[x.length-1])}else x=d.length-1;za=O[0]}for(var xa=
za;xa<x+1;xa++)O.includes(xa)?da.push(d[xa]):la.push(d[xa]);O=d.slice(0,za);d=d.slice(x+1);return di("left"===z?di(di(di([],O),da),la):di(di(di([],O),la),da),d)},Am=re({name:"sendBackward",perform:function(d,x){return{elements:te(x,d.slice(),"left"),appState:x,commitToHistory:!0}},contextItemLabel:"labels.sendBackward",keyPriority:40,keyTest:function(d){return d[ef]&&!d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var x=d.updateData;d=d.appState;return Ha().createElement("button",
{type:"button",className:"zIndexButton",onClick:function(){return x(null)},title:"".concat(Ka("labels.sendBackward")," — ").concat($d("CtrlOrCmd+["))},Ha().createElement(Nd,{appearance:d.appearance}))}}),ul=re({name:"bringForward",perform:function(d,x){return{elements:te(x,d.slice(),"right"),appState:x,commitToHistory:!0}},contextItemLabel:"labels.bringForward",keyPriority:40,keyTest:function(d){return d[ef]&&!d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var x=d.updateData;d=d.appState;
return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return x(null)},title:"".concat(Ka("labels.bringForward")," — ").concat($d("CtrlOrCmd+]"))},Ha().createElement(vd,{appearance:d.appearance}))}}),u=re({name:"sendToBack",perform:function(d,x){return{elements:$g(d,x,"left"),appState:x,commitToHistory:!0}},contextItemLabel:"labels.sendToBack",keyTest:function(d){return Mg?d[ef]&&d.altKey&&"BracketLeft"===d.code:d[ef]&&d.shiftKey&&"BracketLeft"===d.code},PanelComponent:function(d){var x=
d.updateData;d=d.appState;return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(){return x(null)},title:"".concat(Ka("labels.sendToBack")," — ").concat($d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+["))},Ha().createElement(Gf,{appearance:d.appearance}))}}),N=re({name:"bringToFront",perform:function(d,x){return{elements:$g(d,x,"right"),appState:x,commitToHistory:!0}},contextItemLabel:"labels.bringToFront",keyTest:function(d){return Mg?d[ef]&&d.altKey&&"BracketRight"===
d.code:d[ef]&&d.shiftKey&&"BracketRight"===d.code},PanelComponent:function(d){var x=d.updateData;d=d.appState;return Ha().createElement("button",{type:"button",className:"zIndexButton",onClick:function(z){return x(null)},title:"".concat(Ka("labels.bringToFront")," — ").concat($d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]"))},Ha().createElement(pi,{appearance:d.appearance}))}}),ha=re({name:"selectAll",perform:function(d,x){return!x.editingLinearElement&&{appState:Wh(ld(ld({},x),{},{editingGroupId:null,
selectedElementIds:d.reduce(function(z,O){return O.isDeleted||(z[O.id]=!0),z},{})}),je(d)),commitToHistory:!0}},contextItemLabel:"labels.selectAll",keyTest:function(d){return d[ef]&&"a"===d.key}}),fa=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},sa=re({name:"duplicateSelection",perform:function(d,x){if(x.editingLinearElement){var z=x.editingLinearElement,O=z.activePointIndex;z=dg.getElement(z.elementId);if(!z||null===O)return!1;var da=z.points,la=da[O],za=da[O+
1];return nf(z,{points:fa(fa(fa([],da.slice(0,O+1)),[za?[(la[0]+za[0])/2,(la[1]+za[1])/2]:[la[0]+30,la[1]+30]]),da.slice(O+1))}),{appState:qe(qe({},x),{},{editingLinearElement:qe(qe({},x.editingLinearElement),{},{activePointIndex:O+1})}),elements:d,commitToHistory:!0}}return qe(qe({},Ia(d,x)),{},{commitToHistory:!0})},contextItemLabel:"labels.duplicateSelection",keyTest:function(d){return d[ef]&&"d"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,
{type:"button",icon:ug,title:"".concat(Ka("labels.duplicateSelection")," — ").concat($d("CtrlOrCmd+D")),"aria-label":Ka("labels.duplicateSelection"),onClick:function(){return O(null)},visible:lg(je(x),z)})}}),Ia=function(d,x){for(var z=new Map,O=[],da=[],la=new Map,za=function(kb){var qb=Yi(x.editingGroupId,z,kb,{x:kb.x+hc.k/2,y:kb.y+hc.k/2});return la.set(kb.id,qb.id),da.push(kb),O.push(qb),qb},xa=[],Ga=0;Ga<d.length;){var Sa=d[Ga];if(x.selectedElementIds[Sa.id]){if(Sa.groupIds.length){var Ma=Bh(x,
Sa);if(Ma){Sa=ck(d,Ma);xa.push.apply(xa,fa(fa([],Sa),Sa.map(function(kb){return za(kb)})));Ga+=Sa.length;continue}}xa.push(Sa,za(Sa))}else xa.push(Sa);Ga++}return Uj(xa,da,la),{elements:xa,appState:Wh(qe(qe({},x),{},{selectedGroupIds:{},selectedElementIds:O.reduce(function(kb,qb){return kb[qb.id]=!0,kb},{})}),je(xa))}},Ra=function(d){var x=d.options,z=d.value,O=d.onChange,da=d.group;return Ha().createElement("div",{className:"buttonList buttonListIcon"},x.map(function(la){return Ha().createElement("label",
{key:la.text,className:xc({active:z===la.value}),title:la.text},Ha().createElement("input",{type:"radio",name:da,onChange:function(){return O(la.value)},checked:z===la.value}),la.icon)}))},Ta=function(d){var x=d.options,z=d.value,O=d.onChange,da=d.group;return Ha().createElement("div",{className:"buttonList"},x.map(function(la){return Ha().createElement("label",{key:la.text,className:xc({active:z===la.value})},Ha().createElement("input",{type:"radio",name:da,onChange:function(){return O(la.value)},
checked:z===la.value}),la.text)}))},hb=(l(2816),function(d){var x=d.children,z=d.left,O=d.top,da=d.onCloseRequest;d=d.fitInViewport;var la=void 0!==d&&d,za=(0,kc.useRef)(null);return(0,kc.useLayoutEffect)(function(){if(la&&za.current){var xa=za.current,Ga=xa.getBoundingClientRect(),Sa=Ga.y,Ma=Ga.width,kb=Ga.height,qb=window.innerWidth;Ga.x+Ma>qb&&(xa.style.left="".concat(qb-Ma,"px"));Ga=window.innerHeight;Sa+kb>Ga&&(xa.style.top="".concat(Ga-kb,"px"))}},[la]),(0,kc.useEffect)(function(){if(da){var xa=
function(Ga){var Sa;null!==(Sa=za.current)&&void 0!==Sa&&Sa.contains(Ga.target)||(0,$f.unstable_batchedUpdates)(function(){return da(Ga)})};return document.addEventListener("pointerdown",xa,!1),function(){return document.removeEventListener("pointerdown",xa,!1)}}},[da]),Ha().createElement("div",{className:"popover",style:{top:O,left:z},ref:za},x)}),Fb=(l(5574),function(d){var x=(new Option).style;return x.color=d,!!x.color}),Hb=[["1","2","3","4","5"],["q","w","e","r","t"],["a","s","d","f","g"]].flat(),
wc=function(d){var x=d.colors,z=d.color,O=d.onChange,da=d.onClose,la=d.label,za=d.showInput,xa=void 0===za||za;d=d.type;var Ga=Ha().useRef(),Sa=Ha().useRef(),Ma=Ha().useRef(),kb=Ha().useRef();Ha().useEffect(function(){Sa.current?Sa.current.focus():kb.current?kb.current.focus():Ma.current&&Ma.current.focus()},[]);return Ha().createElement("div",{className:"color-picker color-picker-type-".concat(d),role:"dialog","aria-modal":"true","aria-label":Ka("labels.colorPicker"),onKeyDown:function(qb){if("Tab"===
qb.key){var tb,cc=document.activeElement;if(qb.shiftKey)cc===Ga.current&&(null===(tb=kb.current)||void 0===tb||tb.focus(),qb.preventDefault());else if(cc===kb.current){var Xb;null===(Xb=Ga.current)||void 0===Xb||Xb.focus();qb.preventDefault()}}else yg(qb.key)?(cc=document.activeElement,tb=J.rtl,-1!==(Xb=Array.prototype.indexOf.call(Ma.current.children,cc))&&(cc=Ma.current.children.length-(xa?1:0),Ma.current.children[qb.key===(tb?"ArrowLeft":"ArrowRight")?(Xb+1)%cc:qb.key===(tb?"ArrowRight":"ArrowLeft")?
(cc+Xb-1)%cc:"ArrowDown"===qb.key?(Xb+5)%cc:"ArrowUp"===qb.key?(cc+Xb-5)%cc:Xb].focus()),qb.preventDefault()):Hb.includes(qb.key.toLowerCase())&&!Eg(qb.target)?(Xb=Hb.indexOf(qb.key.toLowerCase()),Ma.current.children[Xb].focus(),qb.preventDefault()):"Escape"!==qb.key&&"Enter"!==qb.key||(qb.preventDefault(),da());qb.nativeEvent.stopImmediatePropagation()}},Ha().createElement("div",{className:"color-picker-triangle color-picker-triangle-shadow"}),Ha().createElement("div",{className:"color-picker-triangle"}),
Ha().createElement("div",{className:"color-picker-content",ref:function(qb){qb&&(Ma.current=qb)},tabIndex:0},x.map(function(qb,tb){return Ha().createElement("button",{className:"color-picker-swatch",onClick:function(cc){cc.currentTarget.focus();O(qb)},title:"".concat(qb," — ").concat(Hb[tb].toUpperCase()),"aria-label":qb,"aria-keyshortcuts":Hb[tb],style:{color:qb},key:qb,ref:function(cc){cc&&0===tb&&(Ga.current=cc);cc&&qb===z&&(Sa.current=cc)},onFocus:function(){O(qb)}},"transparent"===qb?Ha().createElement("div",
{className:"color-picker-transparent"}):void 0,Ha().createElement("span",{className:"color-picker-keybinding"},Hb[tb]))}),xa&&Ha().createElement(zc,{color:z,label:la,onChange:function(qb){O(qb)},ref:kb})))},zc=Ha().forwardRef(function(d,x){var z=d.color,O=d.onChange;d=d.label;var da=Ha().useState(z),la=da[0],za=da[1],xa=Ha().useRef(null);Ha().useEffect(function(){za(z)},[z]);Ha().useImperativeHandle(x,function(){return xa.current});var Ga=Ha().useCallback(function(Sa){Sa=Sa.toLowerCase();var Ma;(Ma=
"transparent"===Sa||Fb(Sa)?Sa:Fb("#".concat(Sa))?"#".concat(Sa):null)&&O(Ma);za(Sa)},[O]);return Ha().createElement("label",{className:"color-input-container"},Ha().createElement("div",{className:"color-picker-hash"},"#"),Ha().createElement("input",{spellCheck:!1,className:"color-picker-input","aria-label":d,onChange:function(Sa){return Ga(Sa.target.value)},value:(la||"").replace(/^#/,""),onBlur:function(){return za(z)},ref:xa}))}),mc=function(d){var x=d.type,z=d.color,O=d.onChange;d=d.label;var da=
Ha().useState(!1),la=da[0],za=da[1],xa=Ha().useRef(null);return Ha().createElement("div",null,Ha().createElement("div",{className:"color-picker-control-container"},Ha().createElement("button",{className:"color-picker-label-swatch","aria-label":d,style:z?{"--swatch-color":z}:void 0,onClick:function(){return za(!la)},ref:xa}),Ha().createElement(zc,{color:z,label:d,onChange:function(Ga){O(Ga)}})),Ha().createElement(Ha().Suspense,{fallback:""},la?Ha().createElement(hb,{onCloseRequest:function(Ga){return Ga.target!==
xa.current&&za(!1)}},Ha().createElement(wc,{colors:Ek[x],color:z||null,onChange:function(Ga){O(Ga)},onClose:function(){var Ga;za(!1);null===(Ga=xa.current)||void 0===Ga||Ga.focus()},label:d,showInput:!1,type:x})):null))},ed=l(6950),Ud=l.n(ed);l(7143);var Be=function(d,x,z){return d.map(function(O){var da;return x.selectedElementIds[O.id]||O.id===(null===(da=x.editingElement)||void 0===da?void 0:da.id)?z(O):O})},rg=function(d,x,z,O){var da,la,za=x.editingElement;d=je(d);return null!==(da=null!==(la=
za&&z(za))&&void 0!==la?la:lg(d,x)?function(xa,Ga,Sa){xa=Array.from(new Set(wf(xa,Ga).map(function(Ma){return Sa(Ma)})));return 1===xa.length?xa[0]:null}(d,x,z):O)&&void 0!==da?da:null},Ge=(re({name:"changeStrokeColor",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{strokeColor:z})}),appState:Ie(Ie({},x),{},{currentItemStrokeColor:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState;d=d.updateData;return Ha().createElement(Ha().Fragment,null,Ha().createElement("h3",
{"aria-hidden":"true"},Ka("labels.stroke")),Ha().createElement(mc,{type:"elementStroke",label:Ka("labels.stroke"),color:rg(x,z,function(O){return O.strokeColor},z.currentItemStrokeColor),onChange:d}))}}),re({name:"changeBackgroundColor",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{backgroundColor:z})}),appState:Ie(Ie({},x),{},{currentItemBackgroundColor:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState;d=d.updateData;return Ha().createElement(Ha().Fragment,
null,Ha().createElement("h3",{"aria-hidden":"true"},Ka("labels.background")),Ha().createElement(mc,{type:"elementBackground",label:Ka("labels.background"),color:rg(x,z,function(O){return O.backgroundColor},z.currentItemBackgroundColor),onChange:d}))}}),re({name:"changeFillStyle",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{fillStyle:z})}),appState:Ie(Ie({},x),{},{currentItemFillStyle:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;
return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.fill")),Ha().createElement(Ra,{options:[{value:"hachure",text:Ka("labels.hachure"),icon:Ha().createElement(Uk,{appearance:z.appearance})},{value:"cross-hatch",text:Ka("labels.crossHatch"),icon:Ha().createElement(ge,{appearance:z.appearance})},{value:"solid",text:Ka("labels.solid"),icon:Ha().createElement(pm,{appearance:z.appearance})}],group:"fill",value:rg(x,z,function(da){return da.fillStyle},z.currentItemFillStyle),
onChange:function(da){O(da)}}))}}),re({name:"changeStrokeWidth",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{strokeWidth:z})}),appState:Ie(Ie({},x),{},{currentItemStrokeWidth:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.strokeWidth")),Ha().createElement(Ra,{group:"stroke-width",options:[{value:1,text:Ka("labels.thin"),icon:Ha().createElement(aj,
{appearance:z.appearance,strokeWidth:2})},{value:2,text:Ka("labels.bold"),icon:Ha().createElement(aj,{appearance:z.appearance,strokeWidth:6})},{value:4,text:Ka("labels.extraBold"),icon:Ha().createElement(aj,{appearance:z.appearance,strokeWidth:10})}],value:rg(x,z,function(da){return da.strokeWidth},z.currentItemStrokeWidth),onChange:function(da){return O(da)}}))}}),re({name:"changeSloppiness",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{seed:Zj(),roughness:z})}),appState:Ie(Ie({},
x),{},{currentItemRoughness:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.sloppiness")),Ha().createElement(Ra,{group:"sloppiness",options:[{value:0,text:Ka("labels.architect"),icon:Ha().createElement(Si,{appearance:z.appearance})},{value:1,text:Ka("labels.artist"),icon:Ha().createElement(zm,{appearance:z.appearance})},{value:2,text:Ka("labels.cartoonist"),icon:Ha().createElement(uk,
{appearance:z.appearance})}],value:rg(x,z,function(da){return da.roughness},z.currentItemRoughness),onChange:function(da){return O(da)}}))}}),re({name:"changeStrokeStyle",perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{strokeStyle:z})}),appState:Ie(Ie({},x),{},{currentItemStrokeStyle:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.strokeStyle")),
Ha().createElement(Ra,{group:"strokeStyle",options:[{value:"solid",text:Ka("labels.strokeStyle_solid"),icon:Ha().createElement(be,{appearance:z.appearance})},{value:"dashed",text:Ka("labels.strokeStyle_dashed"),icon:Ha().createElement(el,{appearance:z.appearance})},{value:"dotted",text:Ka("labels.strokeStyle_dotted"),icon:Ha().createElement(eg,{appearance:z.appearance})}],value:rg(x,z,function(da){return da.strokeStyle},z.currentItemStrokeStyle),onChange:function(da){return O(da)}}))}}),re({name:"changeOpacity",
perform:function(d,x,z){return{elements:Be(d,x,function(O){return zg(O,{opacity:z})}),appState:Ie(Ie({},x),{},{currentItemOpacity:z}),commitToHistory:!0}},PanelComponent:function(d){var x,z=d.elements,O=d.appState,da=d.updateData;return Ha().createElement("label",{className:"control-label"},Ka("labels.opacity"),Ha().createElement("input",{type:"range",min:"0",max:"100",step:"10",onChange:function(la){return da(+la.target.value)},onWheel:function(la){la.stopPropagation();var za=+la.target.value;0>
la.deltaY&&100>za?da(za+10):0<la.deltaY&&0<za&&da(za-10)},value:null!==(x=rg(z,O,function(la){return la.opacity},O.currentItemOpacity))&&void 0!==x?x:void 0}))}}),re({name:"changeFontSize",perform:function(d,x,z){return{elements:Be(d,x,function(O){return fe(O)?(O=zg(O,{fontSize:z}),qk(O),O):O}),appState:Ie(Ie({},x),{},{currentItemFontSize:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",
null,Ka("labels.fontSize")),Ha().createElement(Ta,{group:"font-size",options:[{value:16,text:Ka("labels.small")},{value:20,text:Ka("labels.medium")},{value:28,text:Ka("labels.large")},{value:36,text:Ka("labels.veryLarge")}],value:rg(x,z,function(da){return fe(da)&&da.fontSize},z.currentItemFontSize||hc.n5),onChange:function(da){return O(da)}}))}}),re({name:"changeFontFamily",perform:function(d,x,z){return{elements:Be(d,x,function(O){return fe(O)?(O=zg(O,{fontFamily:z}),qk(O),O):O}),appState:Ie(Ie({},
x),{},{currentItemFontFamily:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;d=[{value:1,text:Ka("labels.handDrawn")},{value:2,text:Ka("labels.normal")},{value:3,text:Ka("labels.code")}];return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.fontFamily")),Ha().createElement(Ta,{group:"font-family",options:d,value:rg(x,z,function(da){return fe(da)&&da.fontFamily},z.currentItemFontFamily||hc.rk),onChange:function(da){return O(da)}}))}}),
re({name:"changeTextAlign",perform:function(d,x,z){return{elements:Be(d,x,function(O){return fe(O)?(O=zg(O,{textAlign:z}),qk(O),O):O}),appState:Ie(Ie({},x),{},{currentItemTextAlign:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.textAlign")),Ha().createElement(Ta,{group:"text-align",options:[{value:"left",text:Ka("labels.left")},{value:"center",text:Ka("labels.center")},
{value:"right",text:Ka("labels.right")}],value:rg(x,z,function(da){return fe(da)&&da.textAlign},z.currentItemTextAlign),onChange:function(da){return O(da)}}))}}),re({name:"changeSharpness",perform:function(d,x,z){var O=kk(je(d),x),da=O.length?O.every(function(la){return!Hg(la)}):!hj(x.elementType);O=O.length?O.every(Hg):hj(x.elementType);return{elements:Be(d,x,function(la){return zg(la,{strokeSharpness:z})}),appState:Ie(Ie({},x),{},{currentItemStrokeSharpness:da?z:x.currentItemStrokeSharpness,currentItemLinearStrokeSharpness:O?
z:x.currentItemLinearStrokeSharpness}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.edges")),Ha().createElement(Ra,{group:"edges",options:[{value:"sharp",text:Ka("labels.sharp"),icon:Ha().createElement(fl,{appearance:z.appearance})},{value:"round",text:Ka("labels.round"),icon:Ha().createElement(Vk,{appearance:z.appearance})}],value:rg(x,z,function(da){return da.strokeSharpness},
rk(z.elementType)&&(hj(z.elementType)?z.currentItemLinearStrokeSharpness:z.currentItemStrokeSharpness)||null),onChange:function(da){return O(da)}}))}}),re({name:"changeArrowhead",perform:function(d,x,z){var O;return{elements:Be(d,x,function(da){if(Hg(da)){var la=z.position,za=z.type;if("start"===la)return zg(da,{startArrowhead:za});if("end"===la)return zg(da,{endArrowhead:za})}return da}),appState:Ie(Ie({},x),{},(O={},O["start"===z.position?"currentItemStartArrowhead":"currentItemEndArrowhead"]=z.type,
O)),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;d=J.rtl;return Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.arrowheads")),Ha().createElement("div",{className:"iconSelectList"},Ha().createElement(ud,{label:"arrowhead_start",options:[{value:null,text:Ka("labels.arrowhead_none"),icon:Ha().createElement(Pk,{appearance:z.appearance}),keyBinding:"q"},{value:"arrow",text:Ka("labels.arrowhead_arrow"),icon:Ha().createElement(Jh,
{appearance:z.appearance,flip:!d}),keyBinding:"w"},{value:"bar",text:Ka("labels.arrowhead_bar"),icon:Ha().createElement(Hj,{appearance:z.appearance,flip:!d}),keyBinding:"e"},{value:"dot",text:Ka("labels.arrowhead_dot"),icon:Ha().createElement(Vm,{appearance:z.appearance,flip:!d}),keyBinding:"r"}],value:rg(x,z,function(da){return Hg(da)&&"arrow"===da.type?da.startArrowhead:z.currentItemStartArrowhead},z.currentItemStartArrowhead),onChange:function(da){return O({position:"start",type:da})}}),Ha().createElement(ud,
{label:"arrowhead_end",group:"arrowheads",options:[{value:null,text:Ka("labels.arrowhead_none"),keyBinding:"q",icon:Ha().createElement(Pk,{appearance:z.appearance})},{value:"arrow",text:Ka("labels.arrowhead_arrow"),keyBinding:"w",icon:Ha().createElement(Jh,{appearance:z.appearance,flip:d})},{value:"bar",text:Ka("labels.arrowhead_bar"),keyBinding:"e",icon:Ha().createElement(Hj,{appearance:z.appearance,flip:d})},{value:"dot",text:Ka("labels.arrowhead_dot"),keyBinding:"r",icon:Ha().createElement(Vm,
{appearance:z.appearance,flip:d})}],value:rg(x,z,function(da){return Hg(da)&&"arrow"===da.type?da.endArrowhead:z.currentItemEndArrowhead},z.currentItemEndArrowhead),onChange:function(da){return O({position:"end",type:da})}})))}}),l(2189)),Af=l.n(Ge),mg=Ha().createContext(!1),xg=function(){return window.matchMedia?window.matchMedia(Af().isMobileQuery):{matches:!1,addListener:function(){},removeListener:function(){}}},ng=function(d){d=d.children;var x=(0,kc.useRef)();x.current||(x.current=xg());var z=
(0,kc.useState)(x.current.matches),O=z[0],da=z[1];return(0,kc.useEffect)(function(){var la=function(){return da(x.current.matches)};return x.current.addListener(la),function(){return x.current.removeListener(la)}},[]),Ha().createElement(mg.Provider,{value:O},d)};re({name:"changeViewBackgroundColor",perform:function(d,x,z){return{appState:De(De({},x),{},{viewBackgroundColor:z}),commitToHistory:!0}},PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement("div",{style:{position:"relative"}},
Ha().createElement(mc,{label:Ka("labels.canvasBackground"),type:"canvasBackground",color:x.viewBackgroundColor,onChange:function(O){return z(O)}}))}});re({name:"clearCanvas",perform:function(d,x){return{elements:d.map(function(z){return zg(z,{isDeleted:!0})}),appState:De(De({},Fh()),{},{appearance:x.appearance,elementLocked:x.elementLocked,exportBackground:x.exportBackground,exportEmbedScene:x.exportEmbedScene,gridSize:x.gridSize,shouldAddWatermark:x.shouldAddWatermark,showStats:x.showStats,pasteDialog:x.pasteDialog}),
commitToHistory:!0}},PanelComponent:function(d){var x=d.updateData;return Ha().createElement(lf,{type:"button",icon:Ri,title:Ka("buttons.clearReset"),"aria-label":Ka("buttons.clearReset"),showAriaLabel:Qe(),onClick:function(){window.confirm(Ka("alerts.clearReset"))&&x(null)}})}});re({name:"zoomIn",perform:function(d,x){d=ci(Sj(x.zoom.value+hc.V4),x.zoom,{left:x.offsetLeft,top:x.offsetTop},{x:x.width/2,y:x.height/2});return{appState:De(De({},x),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var x=
d.updateData;return Ha().createElement(lf,{type:"button",icon:oi,title:"".concat(Ka("buttons.zoomIn")," — ").concat($d("CtrlOrCmd++")),"aria-label":Ka("buttons.zoomIn"),onClick:function(){x(null)}})},keyTest:function(d){return("Equal"===d.code||"NumpadAdd"===d.code)&&(d[ef]||d.shiftKey)}});re({name:"zoomOut",perform:function(d,x){d=ci(Sj(x.zoom.value-hc.V4),x.zoom,{left:x.offsetLeft,top:x.offsetTop},{x:x.width/2,y:x.height/2});return{appState:De(De({},x),{},{zoom:d}),commitToHistory:!1}},PanelComponent:function(d){var x=
d.updateData;return Ha().createElement(lf,{type:"button",icon:Ej,title:"".concat(Ka("buttons.zoomOut")," — ").concat($d("CtrlOrCmd+-")),"aria-label":Ka("buttons.zoomOut"),onClick:function(){x(null)}})},keyTest:function(d){return("Minus"===d.code||"NumpadSubtract"===d.code)&&(d[ef]||d.shiftKey)}});re({name:"resetZoom",perform:function(d,x){return{appState:De(De({},x),{},{zoom:ci(1,x.zoom,{left:x.offsetLeft,top:x.offsetTop},{x:x.width/2,y:x.height/2})}),commitToHistory:!1}},PanelComponent:function(d){var x=
d.updateData;return Ha().createElement(lf,{type:"button",icon:ee,title:Ka("buttons.resetZoom"),"aria-label":Ka("buttons.resetZoom"),onClick:function(){x(null)}})},keyTest:function(d){return("Digit0"===d.code||"Numpad0"===d.code)&&(d[ef]||d.shiftKey)}});var Ee=function(d,x,z){d=je(d);var O=wf(d,x);O=z&&0<O.length?Dg(O):Dg(d);z=ci(Math.min(Math.max(Math.floor(Math.min(x.width/(O[2]-O[0]),x.height/(O[3]-O[1]))/hc.V4)*hc.V4,hc.V4),1),x.zoom,{left:x.offsetLeft,top:x.offsetTop});d=(O[0]+O[2])/2;O=(O[1]+
O[3])/2;return{appState:De(De(De({},x),Xi({scenePoint:{x:d,y:O},viewportDimensions:{width:x.width,height:x.height},zoom:z})),{},{zoom:z}),commitToHistory:!1}};re({name:"zoomToSelection",perform:function(d,x){return Ee(d,x,!0)},keyTest:function(d){return"Digit2"===d.code&&d.shiftKey&&!d.altKey&&!d[ef]}});re({name:"zoomToFit",perform:function(d,x){return Ee(d,x,!1)},keyTest:function(d){return"Digit1"===d.code&&d.shiftKey&&!d.altKey&&!d[ef]}});var Sf,If,Mf=re({name:"finalize",perform:function(d,x,z,
O){var da,la;z=O.canvas;if(x.editingLinearElement){O=x.editingLinearElement;var za=O.startBindingElement,xa=O.endBindingElement,Ga=dg.getElement(O.elementId);if(Ga)return pg(Ga)&&Qf(Ga,za,xa),{elements:2>Ga.points.length||Rh(Ga)?d.filter(function(kb){return kb.id!==Ga.id}):void 0,appState:tg(tg({},x),{},{editingLinearElement:null}),commitToHistory:!0}}window.document.activeElement instanceof HTMLElement&&window.document.activeElement.blur();if(O=x.multiElement?x.multiElement:"draw"===(null===(la=
x.editingElement)||void 0===la?void 0:la.type)?x.editingElement:null){"draw"!==O.type&&"touch"!==x.lastPointerDownWith&&(la=O.points,(za=O.lastCommittedPoint)&&la[la.length-1]===za||nf(O,{points:O.points.slice(0,-1)}));Rh(O)&&(d=d.slice(0,-1));la=ei(O.points,x.zoom.value);if(("line"===O.type||"draw"===O.type)&&la){var Sa=O.points,Ma=Sa[0];nf(O,{points:Sa.map(function(kb,qb){return qb===Sa.length-1?[Ma[0],Ma[1]]:kb})})}pg(O)&&!la&&1<O.points.length&&(za=dg.getPointAtIndexGlobalCoordinates(O,-1),la=
za[0],za=za[1],jk(O,x,Ah.getScene(O),{x:la,y:za}));x.elementLocked||"draw"===x.elementType||(x.selectedElementIds[O.id]=!0)}return(x.elementLocked||"draw"===x.elementType)&&O||Ii(z),{elements:d,appState:tg(tg({},x),{},{elementType:(x.elementLocked||"draw"===x.elementType)&&O?x.elementType:"selection",draggingElement:null,multiElement:null,editingElement:null,startBoundElement:null,suggestedBindings:[],selectedElementIds:O&&!x.elementLocked&&"draw"!==x.elementType?tg(tg({},x.selectedElementIds),{},
(da={},da[O.id]=!0,da)):x.selectedElementIds}),commitToHistory:"draw"===x.elementType}},keyTest:function(d,x){return"Escape"===d.key&&(null!==x.editingLinearElement||!x.draggingElement&&null===x.multiElement)||("Escape"===d.key||"Enter"===d.key)&&null!==x.multiElement},PanelComponent:function(d){var x=d.appState;d=d.updateData;return Ha().createElement(lf,{type:"button",icon:sk,title:Ka("buttons.done"),"aria-label":Ka("buttons.done"),onClick:d,visible:null!=x.multiElement})}}),Wg="undefined"!=typeof h&&
null!==(Sf=h.env)&&void 0!==Sf&&Sf.REACT_APP_GOOGLE_ANALYTICS_ID&&"undefined"!=typeof window&&window.gtag?function(d,x,z,O){window.gtag("event",x,{event_category:d,event_label:z,value:O})}:("undefined"!=typeof h&&null!==(If=h.env)&&void 0!==If&&If.JEST_WORKER_ID,function(d,x,z,O){}),Ug=(l(8518),function(){var d=function(x,z){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var la in da)Object.prototype.hasOwnProperty.call(da,la)&&(O[la]=
da[la])})(x,z)};return function(x,z){function O(){this.constructor=x}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");d(x,z);x.prototype=null===z?Object.create(z):(O.prototype=z.prototype,new O)}}()),Di=function(d){function x(){for(var z=[],O=0;O<arguments.length;O++)z[O]=arguments[O];var da,la;O=this;return O=d.apply(this,z)||this,da=la=O,O.handleFocus=function(za){za=za.currentTarget;var xa=window.getSelection();if(xa){var Ga=
document.createRange();Ga.selectNodeContents(za);xa.removeAllRanges();xa.addRange(Ga)}},O.handleBlur=function(za){za=za.currentTarget.innerText.trim();za!==la.props.value&&la.props.onChange(za);(za=window.getSelection())&&za.removeAllRanges()},O.handleKeyDown=function(za){"Enter"!==za.key||(za.preventDefault(),za.nativeEvent.isComposing||229===za.keyCode)||za.currentTarget.blur()},O.makeEditable=function(za){if(za)try{za.contentEditable="plaintext-only"}catch(xa){za.contentEditable="true"}},da}return Ug(x,
d),x.prototype.render=function(){return Ha().createElement("span",{suppressContentEditableWarning:!0,ref:this.makeEditable,"data-type":"wysiwyg",className:"TextInput",role:"textbox","aria-label":this.props.label,onBlur:this.handleBlur,onKeyDown:this.handleKeyDown,onFocus:this.handleFocus},this.props.value)},x}(kc.Component),Gj=(l(2680),function(d){var x=d.children,z=d.label,O=d.position;O=void 0===O?"below":O;d=d.long;d=void 0!==d&&d;return Ha().createElement("div",{className:"Tooltip"},Ha().createElement("span",
{className:"above"===O?"Tooltip__label Tooltip__label--above":"Tooltip__label Tooltip__label--below",style:{width:d?"50ch":"10ch"}},z),x)}),hk=function(d){var x=d.title?d.title:"dark"===d.value?Ka("buttons.lightMode"):Ka("buttons.darkMode");return Ha().createElement("label",{className:"ToolIcon ToolIcon_type_floating ToolIcon_size_M",title:x},Ha().createElement("input",{className:"ToolIcon_type_checkbox ToolIcon_toggle_opaque",type:"checkbox",onChange:function(z){return d.onChange(z.target.checked?
"dark":"light")},checked:"dark"===d.value,"aria-label":x}),Ha().createElement("div",{className:"ToolIcon__icon"},"light"===d.value?$k.MOON:$k.SUN))},$k={SUN:Ha().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M256 160c-52.9 0-96 43.1-96 96s43.1 96 96 96 96-43.1 96-96-43.1-96-96-96zm246.4 80.5l-94.7-47.3 33.5-100.4c4.5-13.6-8.4-26.5-21.9-21.9l-100.4 33.5-47.4-94.8c-6.4-12.8-24.6-12.8-31 0l-47.3 94.7L92.7 70.8c-13.6-4.5-26.5 8.4-21.9 21.9l33.5 100.4-94.7 47.4c-12.8 6.4-12.8 24.6 0 31l94.7 47.3-33.5 100.5c-4.5 13.6 8.4 26.5 21.9 21.9l100.4-33.5 47.3 94.7c6.4 12.8 24.6 12.8 31 0l47.3-94.7 100.4 33.5c13.6 4.5 26.5-8.4 21.9-21.9l-33.5-100.4 94.7-47.3c13-6.5 13-24.7.2-31.1zm-155.9 106c-49.9 49.9-131.1 49.9-181 0-49.9-49.9-49.9-131.1 0-181 49.9-49.9 131.1-49.9 181 0 49.9 49.9 49.9 131.1 0 181z"})),
MOON:Ha().createElement("svg",{width:"512",height:"512",className:"rtl-mirror",viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M283.211 512c78.962 0 151.079-35.925 198.857-94.792 7.068-8.708-.639-21.43-11.562-19.35-124.203 23.654-238.262-71.576-238.262-196.954 0-72.222 38.662-138.635 101.498-174.394 9.686-5.512 7.25-20.197-3.756-22.23A258.156 258.156 0 0 0 283.211 0c-141.309 0-256 114.511-256 256 0 141.309 114.511 256 256 256z"}))};const xm="chooseFileSystemEntries"in self?
"chooseFileSystemEntries":"showOpenFilePicker"in self&&"showOpenFilePicker",ym=xm?"chooseFileSystemEntries"===xm?l.e(736).then(l.bind(l,9012)):l.e(736).then(l.bind(l,499)):l.e(736).then(l.bind(l,5034));xm?"chooseFileSystemEntries"===xm?l.e(736).then(l.bind(l,6980)):l.e(736).then(l.bind(l,868)):l.e(736).then(l.bind(l,3110));const tf=xm?"chooseFileSystemEntries"===xm?l.e(736).then(l.bind(l,1170)):l.e(736).then(l.bind(l,7814)):l.e(736).then(l.bind(l,4001));var gl,Ti=function(d,x){if(null!=x&&x.collaborators&&
(x=x.collaborators.get(d),null!=x&&x.color))return x.color;d=d.split("").reduce(function(O,da){return O+da.charCodeAt(0)},0);x=Ek.elementBackground.slice(1);var z=Ek.elementStroke.slice(1);return{background:x[d%x.length],stroke:z[d%z.length]}};!function(d){d.ACTIVE="active";d.AWAY="away";d.IDLE="idle"}(gl||(gl={}));var Gm=function(){var d=document.createElement("canvas").getContext("2d");return d?(d.fillStyle="#f00",d.textBaseline="top",d.font="32px Arial",d.fillText("\ud83d\ude00",0,0),0!==d.getImageData(12,
12,1,1).data[0]):!1}(),vl=function(d,x,z,O,da,la,za,xa,Ga){void 0===Ga&&(Ga=!1);d.translate(la,za);d.rotate(xa);Ga&&d.fillRect(x-la,z-za,O,da);d.strokeRect(x-la,z-za,O,da);d.rotate(-xa);d.translate(-la,-za)},Hm=function(d,x,z,O){d.beginPath();d.arc(x,z,O,0,2*Math.PI);d.fill();d.stroke()},kn=function(d,x,z,O,da,la,za,xa){var Ga=void 0===xa?{}:xa;xa=Ga.renderScrollbars;xa=void 0===xa||xa;var Sa=Ga.renderSelection,Ma=void 0===Sa||Sa;Sa=Ga.renderOptimizations;var kb=void 0!==Sa&&Sa;Ga=Ga.renderGrid;var qb=
void 0===Ga||Ga;if(!la)return{atLeastOneVisibleElement:!1};var tb=la.getContext("2d");tb.scale(O,O);var cc=la.width/O,Xb=la.height/O;(za.exportWithDarkMode&&(tb.filter=hc.Gi),"string"==typeof za.viewBackgroundColor)?(("transparent"===za.viewBackgroundColor||5===za.viewBackgroundColor.length||9===za.viewBackgroundColor.length||/(hsla|rgba)\(/.test(za.viewBackgroundColor))&&tb.clearRect(0,0,cc,Xb),Ga=tb.fillStyle,tb.fillStyle=za.viewBackgroundColor,tb.fillRect(0,0,cc,Xb),tb.fillStyle=Ga):tb.clearRect(0,
0,cc,Xb);Ga=za.zoom.translation.x;Sa=za.zoom.translation.y;tb.translate(Ga,Sa);tb.scale(za.zoom.value,za.zoom.value);qb&&x.gridSize&&function(Dd,ce,le,$e,Gh,$h){var Bj=Dd.strokeStyle;Dd.strokeStyle="rgba(0,0,0,0.1)";Dd.beginPath();for(var cj=le;cj<le+Gh+2*ce;cj+=ce)Dd.moveTo(cj,$e-ce),Dd.lineTo(cj,$e+$h+2*ce);for(cj=$e;cj<$e+$h+2*ce;cj+=ce)Dd.moveTo(le-ce,cj),Dd.lineTo(le+Gh+2*ce,cj);Dd.stroke();Dd.strokeStyle=Bj}(tb,x.gridSize,-Math.ceil(Ga/za.zoom.value/x.gridSize)*x.gridSize+za.scrollX%x.gridSize,
-Math.ceil(Sa/za.zoom.value/x.gridSize)*x.gridSize+za.scrollY%x.gridSize,cc/za.zoom.value,Xb/za.zoom.value);la=d.filter(function(Dd){var ce={zoom:za.zoom,offsetLeft:x.offsetLeft,offsetTop:x.offsetTop,scrollX:za.scrollX,scrollY:za.scrollY},le=si(Dd);Dd=le[0];var $e=le[1],Gh=le[2];le=le[3];var $h=vg({clientX:ce.offsetLeft,clientY:ce.offsetTop},ce);ce=vg({clientX:ce.offsetLeft+cc,clientY:ce.offsetTop+Xb},ce);return $h.x<=Gh&&$h.y<=le&&ce.x>=Dd&&ce.y>=$e});(la.forEach(function(Dd){on(Dd,da,tb,kb,za)}),
x.editingLinearElement)&&(qb=dg.getElement(x.editingLinearElement.elementId))&&function(Dd,ce,le,$e){Dd.translate(le.scrollX,le.scrollY);var Gh=Dd.strokeStyle,$h=Dd.lineWidth;Dd.lineWidth=1/le.zoom.value;dg.getPointsGlobalCoordinates($e).forEach(function(Bj,cj){var Vl;Dd.strokeStyle="red";Dd.setLineDash([]);Dd.fillStyle=(null===(Vl=ce.editingLinearElement)||void 0===Vl?void 0:Vl.activePointIndex)===cj?"rgba(255, 127, 127, 0.9)":"rgba(255, 255, 255, 0.9)";Hm(Dd,Bj[0],Bj[1],dg.POINT_HANDLE_SIZE/2/le.zoom.value)});
Dd.setLineDash([]);Dd.lineWidth=$h;Dd.translate(-le.scrollX,-le.scrollY);Dd.strokeStyle=Gh}(tb,x,za,qb);if(z&&on(z,da,tb,kb,za),x.isBindingEnabled&&x.suggestedBindings.filter(function(Dd){return null!=Dd}).forEach(function(Dd){var ce=tb.strokeStyle,le=tb.lineWidth,$e=Array.isArray(Dd)?fj:am;tb.translate(za.scrollX,za.scrollY);$e(tb,Dd);tb.strokeStyle=ce;tb.lineWidth=le;tb.translate(-za.scrollX,-za.scrollY)}),Ma&&!x.multiElement&&!x.editingLinearElement){var Ac=d.reduce(function(Dd,ce){var le=[];if(x.selectedElementIds[ce.id]&&
null==Bh(x,ce)&&le.push(Je.Sn),za.remoteSelectedElementIds[ce.id]&&le.push.apply(le,za.remoteSelectedElementIds[ce.id].map(function(Gh){return Ti(Gh,x).background})),le.length){var $e=jg(ce);Dd.push({angle:ce.angle,elementX1:$e[0],elementY1:$e[1],elementX2:$e[2],elementY2:$e[3],selectionColors:le})}return Dd},[]);z=function(Dd){Dd=ck(d,Dd);Dd=Dg(Dd);Ac.push({angle:0,elementX1:Dd[0],elementX2:Dd[2],elementY1:Dd[1],elementY2:Dd[3],selectionColors:[Je.Sn]})};Ma=0;for(qb=Li(x);Ma<qb.length;Ma++)z(qb[Ma]);
x.editingGroupId&&z(x.editingGroupId);Ac.forEach(function(Dd){var ce=Dd.angle,le=Dd.elementX1,$e=Dd.elementY1,Gh=Dd.selectionColors,$h=Dd.elementX2-le;Dd=Dd.elementY2-$e;var Bj=tb.getLineDash(),cj=tb.lineWidth,Vl=tb.lineDashOffset,un=tb.strokeStyle,fm=4/za.zoom.value,vn=8/za.zoom.value,Wm=4/za.zoom.value;tb.lineWidth=1/za.zoom.value;tb.translate(za.scrollX,za.scrollY);for(var fo=Gh.length,Xm=0;Xm<fo;++Xm)tb.strokeStyle=Gh[Xm],tb.setLineDash([vn,Wm+(vn+Wm)*(fo-1)]),tb.lineDashOffset=(vn+Wm)*Xm,vl(tb,
le-fm,$e-fm,$h+2*fm,Dd+2*fm,le+$h/2,$e+Dd/2,ce);tb.lineDashOffset=Vl;tb.strokeStyle=un;tb.lineWidth=cj;tb.setLineDash(Bj);tb.translate(-za.scrollX,-za.scrollY)});Ma=wf(d,x);if(tb.translate(za.scrollX,za.scrollY),1===Ma.length)tb.fillStyle=Je.ix,z=wj(Ma[0],za.zoom,"mouse"),x.viewModeEnabled||vk(tb,za,z,Ma[0].angle);else if(1<Ma.length&&!x.isRotating){z=4/za.zoom.value;tb.fillStyle=Je.ix;var gd=Dg(Ma);Ma=gd[0];qb=gd[1];var kd=gd[2];gd=gd[3];var xd=tb.getLineDash();tb.setLineDash([2/za.zoom.value]);
var ne=tb.lineWidth;tb.lineWidth=1/za.zoom.value;vl(tb,Ma-z,qb-z,kd-Ma+2*z,gd-qb+2*z,(Ma+kd)/2,(qb+gd)/2,0);tb.lineWidth=ne;tb.setLineDash(xd);z=Fk([Ma,qb,kd,gd],0,za.zoom,"mouse",Al);vk(tb,za,z,0)}tb.translate(-za.scrollX,-za.scrollY)}for(var me in tb.scale(1/za.zoom.value,1/za.zoom.value),tb.translate(-Ga,-Sa),za.remotePointerViewportCoords){Ga=za.remotePointerViewportCoords[me];kd=Ga.x;gd=Ga.y;kd-=x.offsetLeft;gd-=x.offsetTop;xd=0>kd||kd>cc-9||0>gd||gd>Xb-14;kd=Math.max(kd,0);kd=Math.min(kd,cc-
9);gd=Math.max(gd,0);gd=Math.min(gd,Xb-14);Ga=Ti(me,x);Sa=Ga.background;z=Ga.stroke;Ma=tb.strokeStyle;qb=(Ga=tb.fillStyle,tb.globalAlpha);tb.strokeStyle=z;tb.fillStyle=Sa;ne=za.remotePointerUserStates[me];(xd||ne===gl.AWAY)&&(tb.globalAlpha=.48);za.remotePointerButton&&"down"===za.remotePointerButton[me]&&(tb.beginPath(),tb.arc(kd,gd,15,0,2*Math.PI,!1),tb.lineWidth=3,tb.strokeStyle="#ffffff88",tb.stroke(),tb.closePath(),tb.beginPath(),tb.arc(kd,gd,15,0,2*Math.PI,!1),tb.lineWidth=1,tb.strokeStyle=
z,tb.stroke(),tb.closePath());tb.beginPath();tb.moveTo(kd,gd);tb.lineTo(kd+1,gd+14);tb.lineTo(kd+4,gd+9);tb.lineTo(kd+9,gd+10);tb.lineTo(kd,gd);tb.fill();tb.stroke();var Re=za.remotePointerUsernames[me],Ne="";ne===gl.AWAY?Ne=Gm?"⚫️":" (".concat(gl.AWAY,")"):ne===gl.IDLE?Ne=Gm?"\ud83d\udca4":" (".concat(gl.IDLE,")"):ne===gl.ACTIVE&&(Ne=Gm?"\ud83d\udfe2":"");ne="".concat(Re?"".concat(Re," "):"").concat(Ne);!xd&&ne&&(kd+=9,gd+=14,xd=tb.measureText(ne),Re=xd.actualBoundingBoxDescent+xd.actualBoundingBoxAscent,
tb.fillStyle=z,tb.fillRect(kd-1,gd-1,xd.width+8+2,Re+8+2),tb.fillStyle=Sa,tb.fillRect(kd,gd,xd.width+8,Re+8),tb.fillStyle=Je.ix,tb.fillText(ne,kd+4,gd+4+xd.actualBoundingBoxAscent));tb.strokeStyle=Ma;tb.fillStyle=Ga;tb.globalAlpha=qb;tb.closePath()}if(xa){var gf=function(Dd,ce,le,$e){var Gh=$e.scrollX,$h=$e.scrollY,Bj=$e.zoom;if(0===Dd.length)return{horizontal:null,vertical:null};$e=Dg(Dd);var cj=$e[0],Vl=$e[1];Dd=$e[2];$e=$e[3];var un=ce/Bj.value,fm=le/Bj.value,vn=ce-un,Wm=le-fm;Bj=parseInt(ag("sat"));
var fo=parseInt(ag("sab")),Xm=parseInt(ag("sal")),Vr=parseInt(ag("sar")),Ut=J.rtl;Gh=vn/2-Gh+Xm;$h=Wm/2-$h+Bj;un=Gh+un-Vr;fm=$h+fm-fo;cj=Math.min(cj,Gh);Vl=Math.min(Vl,$h);Dd=Math.max(Dd,un);$e=Math.max($e,fm);return{horizontal:Gh===cj&&un===Dd?null:{x:Math.max(Xm,4)+(Gh-cj)/(Dd-cj)*ce,y:le-6-Math.max(4,fo),width:(un-Gh)/(Dd-cj)*ce-Math.max(8,Xm+Vr),height:6},vertical:$h===Vl&&fm===$e?null:{x:Ut?Math.max(Xm,4):ce-6-Math.max(Vr,4),y:($h-Vl)/($e-Vl)*le+Math.max(Bj,4),width:6,height:(fm-$h)/($e-Vl)*
le-Math.max(8,Bj+fo)}}}(d,cc,Xb,za);Ga=tb.fillStyle;Ma=tb.strokeStyle;tb.fillStyle="rgba(0,0,0,0.3)";tb.strokeStyle="rgba(255,255,255,0.8)";[gf.horizontal,gf.vertical].forEach(function(Dd){if(Dd){var ce=Dd.x,le=Dd.y,$e=Dd.width;Dd=Dd.height;tb.beginPath();tb.moveTo(ce+3,le);tb.lineTo(ce+$e-3,le);tb.quadraticCurveTo(ce+$e,le,ce+$e,le+3);tb.lineTo(ce+$e,le+Dd-3);tb.quadraticCurveTo(ce+$e,le+Dd,ce+$e-3,le+Dd);tb.lineTo(ce+3,le+Dd);tb.quadraticCurveTo(ce,le+Dd,ce,le+Dd-3);tb.lineTo(ce,le+3);tb.quadraticCurveTo(ce,
le,ce+3,le);tb.closePath();tb.fill();tb.stroke()}});tb.fillStyle=Ga;tb.strokeStyle=Ma}return tb.scale(1/O,1/O),{atLeastOneVisibleElement:0<la.length,scrollBars:gf}},vk=function(d,x,z,O){Object.keys(z).forEach(function(da){var la=z[da];if(void 0!==la){var za=d.lineWidth;d.lineWidth=1/x.zoom.value;"rotation"===da?Hm(d,la[0]+la[2]/2,la[1]+la[3]/2,la[2]/2):vl(d,la[0],la[1],la[2],la[3],la[0]+la[2]/2,la[1]+la[3]/2,O,!0);d.lineWidth=za}})},am=function(d,x){var z=jg(x),O=z[0],da=z[1],la=z[2]-O;z=z[3]-da;
var za=Zi(x,la,z);d.strokeStyle="rgba(0,0,0,.05)";d.lineWidth=za-4;za=2+za/2;switch(x.type){case "rectangle":case "text":vl(d,O-za,da-za,la+2*za,z+2*za,O+la/2,da+z/2,x.angle);break;case "diamond":var xa=Math.hypot(la,z);!function(Ga,Sa,Ma,kb,qb,tb){Ga.translate(kb,qb);Ga.rotate(tb);Ga.beginPath();Ga.moveTo(0,Ma/2);Ga.lineTo(Sa/2,0);Ga.lineTo(0,-Ma/2);Ga.lineTo(-Sa/2,0);Ga.closePath();Ga.stroke();Ga.rotate(-tb);Ga.translate(-kb,-qb)}(d,la+za*xa/z*2,z+za*xa/la*2,O+la/2,da+z/2,x.angle);break;case "ellipse":!function(Ga,
Sa,Ma,kb,qb,tb){Ga.beginPath();Ga.ellipse(kb,qb,Sa/2,Ma/2,tb,0,2*Math.PI);Ga.stroke()}(d,la+2*za,z+2*za,O+la/2,da+z/2,x.angle)}},fj=function(d,x){var z=x[0],O=x[1];x=x[2];var da=Zi(x,x.width,x.height);d.strokeStyle="rgba(0,0,0,0)";d.fillStyle="rgba(0,0,0,.05)";("both"===O?[0,-1]:"start"===O?[0]:[-1]).forEach(function(la){la=dg.getPointAtIndexGlobalCoordinates(z,la);Hm(d,la[0],la[1],da)})},Ij=function(d,x,z,O){O=void 0===O?{}:O;var da=O.offsetX,la=void 0===da?0:da;O=O.offsetY;var za=void 0===O?0:O;
z&&d.forEach(function(xa){xa.isDeleted||function(Ga,Sa,Ma,kb,qb){var tb=jg(Ga),cc=tb[0],Xb=tb[1],Ac=(tb[2]-cc)/2-(Ga.x-cc),gd=(tb[3]-Xb)/2-(Ga.y-Xb),kd=180*Ga.angle/Math.PI;tb=Sa.generator;switch(Ga.type){case "selection":throw Error("Selection rendering is not supported for SVG");case "rectangle":case "diamond":case "ellipse":Yj(Ga,tb);tb=Sa.draw(wi.get(Ga));1!=(me=Ga.opacity/100)&&(tb.setAttribute("stroke-opacity","".concat(me)),tb.setAttribute("fill-opacity","".concat(me)));tb.setAttribute("transform",
"translate(".concat(kb||0," ").concat(qb||0,") rotate(").concat(kd," ").concat(Ac," ").concat(gd,")"));Ma.appendChild(tb);break;case "line":case "draw":case "arrow":Yj(Ga,tb);var xd=Ma.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g"),ne=Ga.opacity/100;wi.get(Ga).forEach(function(le){le=Sa.draw(le);1!==ne&&(le.setAttribute("stroke-opacity","".concat(ne)),le.setAttribute("fill-opacity","".concat(ne)));le.setAttribute("transform","translate(".concat(kb||0," ").concat(qb||0,") rotate(").concat(kd,
" ").concat(Ac," ").concat(gd,")"));"line"!==Ga.type&&"draw"!==Ga.type||!ei(Ga.points)||"transparent"===Ga.backgroundColor||le.setAttribute("fill-rule","evenodd");xd.appendChild(le)});Ma.appendChild(xd);break;default:if(!fe(Ga))throw Error("Unimplemented type ".concat(Ga.type));var me=Ga.opacity/100;tb=Ma.ownerDocument.createElementNS("http://www.w3.org/2000/svg","g");1!==me&&(tb.setAttribute("stroke-opacity","".concat(me)),tb.setAttribute("fill-opacity","".concat(me)));tb.setAttribute("transform",
"translate(".concat(kb||0," ").concat(qb||0,") rotate(").concat(kd," ").concat(Ac," ").concat(gd,")"));me=Ga.text.replace(/\r\n?/g,"\n").split("\n");cc=Ga.height/me.length;Xb=Ga.height-Ga.baseline;for(var Re="center"===Ga.textAlign?Ga.width/2:"right"===Ga.textAlign?Ga.width:0,Ne=zh.test(Ga.text)?"rtl":"ltr",gf="center"===Ga.textAlign?"middle":"right"===Ga.textAlign||"rtl"===Ne?"end":"start",Dd=0;Dd<me.length;Dd++){var ce=Ma.ownerDocument.createElementNS("http://www.w3.org/2000/svg","text");ce.textContent=
me[Dd];ce.setAttribute("x","".concat(Re));ce.setAttribute("y","".concat((Dd+1)*cc-Xb));ce.setAttribute("font-family","".concat(hc.ut[Ga.fontFamily],", ").concat(hc._D));ce.setAttribute("font-size","".concat(Ga.fontSize,"px"));ce.setAttribute("fill",Ga.strokeColor);ce.setAttribute("text-anchor",gf);ce.setAttribute("style","white-space: pre;");ce.setAttribute("direction",Ne);tb.appendChild(ce)}Ma.appendChild(tb)}}(xa,x,z,xa.x+la,xa.y+za)})},wl=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,
da++)d[da]=x[z];return d},vm=function(d,x,z,O){var da=z.exportBackground,la=z.exportPadding;la=void 0===la?10:la;var za=z.viewBackgroundColor,xa=z.scale,Ga=void 0===xa?1:xa;z=z.shouldAddWatermark;void 0===O&&(O=function(Ma,kb){var qb=document.createElement("canvas");return qb.width=Ma*Ga,qb.height=kb*Ga,{canvas:qb,scale:Ga}});d=Yn(d,z);var Sa=Jm(d,la,z);z=Sa[0];xa=Sa[1];Sa=O(Sa[2],Sa[3]);O=Sa.canvas;Sa=Sa.scale;return kn(d,x,null,void 0===Sa?Ga:Sa,Qh.canvas(O),O,{viewBackgroundColor:da?za:null,exportWithDarkMode:x.exportWithDarkMode,
scrollX:-z+la,scrollY:-xa+la,zoom:Fh().zoom,remotePointerViewportCoords:{},remoteSelectedElementIds:{},shouldCacheIgnoreZoom:!1,remotePointerUsernames:{},remotePointerUserStates:{}},{renderScrollbars:!1,renderSelection:!1,renderOptimizations:!1,renderGrid:!1}),O},Pl=function(d,x){var z=x.exportBackground,O=x.exportPadding;O=void 0===O?10:O;var da=x.viewBackgroundColor,la=x.exportWithDarkMode,za=x.scale;za=void 0===za?1:za;var xa=x.shouldAddWatermark;x=x.metadata;x=void 0===x?"":x;d=Yn(d,xa);var Ga=
Jm(d,O,xa);xa=Ga[0];var Sa=Ga[1],Ma=Ga[2],kb=Ga[3];Ga=document.createElementNS("http://www.w3.org/2000/svg","svg");if(Ga.setAttribute("version","1.1"),Ga.setAttribute("xmlns","http://www.w3.org/2000/svg"),Ga.setAttribute("viewBox","0 0 ".concat(Ma," ").concat(kb)),Ga.setAttribute("width","".concat(Ma*za)),Ga.setAttribute("height","".concat(kb*za)),la&&Ga.setAttribute("filter",hc.Gi),Ga.innerHTML="\n  ".concat("\x3c!-- svg-source:excalidraw --\x3e","\n  ").concat(x,'\n  \x3cdefs\x3e\n    \x3cstyle\x3e\n      @font-face {\n        font-family: "Virgil";\n        src: url("https://excalidraw.com/Virgil.woff2");\n      }\n      @font-face {\n        font-family: "Cascadia";\n        src: url("https://excalidraw.com/Cascadia.woff2");\n      }\n    \x3c/style\x3e\n  \x3c/defs\x3e\n  '),
z&&da)z=Ga.ownerDocument.createElementNS("http://www.w3.org/2000/svg","rect"),z.setAttribute("x","0"),z.setAttribute("y","0"),z.setAttribute("width","".concat(Ma)),z.setAttribute("height","".concat(kb)),z.setAttribute("fill",da),Ga.appendChild(z);z=Qh.svg(Ga);return Ij(d,z,Ga,{offsetX:-xa+O,offsetY:-Sa+O}),Ga},Yn=function(d,x){var z=wl([],d);x&&(x=Dg(d),d=x[2],x=x[3],z=wl([],z),d=Kj({text:Ka("labels.madeWithExcalidraw"),fontSize:16,fontFamily:hc.rk,textAlign:"right",verticalAlign:hc.hs,x:d,y:x+16,
strokeColor:Je.MA[5],backgroundColor:"transparent",fillStyle:"hachure",strokeWidth:1,strokeStyle:"solid",roughness:1,opacity:100,strokeSharpness:"sharp"}),z=wl(z,[d]));return z},Jm=function(d,x,z){d=Dg(d);var O=d[0],da=d[1];return[O,da,Math.abs(O-d[2])+2*x,Math.abs(da-d[3])+x+(z?0:x)]},Tj=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},Mi=function(d){return(d=/^[$€£¥₩]?([0-9,]+(\.[0-9]+)?)$/.exec(d))?parseFloat(d[1].replace(/,/g,"")):null},Hn=function(d,x){return d.slice(1).every(function(z){return null!==
Mi(z[x])})},In=function(d){var x=d[0].length;if(2<x)return{type:"NOT_SPREADSHEET",reason:"More than 2 columns"};if(1===x){if(!Hn(d,0))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};x=null===Mi(d[0][0]);var z=(x?d.slice(1):d).map(function(la){return Mi(la[0])});return 2>z.length?{type:"NOT_SPREADSHEET",reason:"Less than two rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:x?d[0][0]:null,labels:null,values:z}}}var O=Hn(d,0)?0:1;if(!Hn(d,O))return{type:"NOT_SPREADSHEET",reason:"Value is not numeric"};
var da=(O+1)%2;z=(x=null===Mi(d[0][O]))?d.slice(1):d;return 2>z.length?{type:"NOT_SPREADSHEET",reason:"Less than 2 rows"}:{type:"VALID_SPREADSHEET",spreadsheet:{title:x?d[0][O]:null,labels:z.map(function(la){return la[da]}),values:z.map(function(la){return Mi(la[O])})}}},Wk=Ek.elementBackground.slice(2,Ek.elementBackground.length),gj={fillStyle:"hachure",fontFamily:hc.rk,fontSize:hc.n5,opacity:100,roughness:1,strokeColor:Ek.elementStroke[0],strokeSharpness:"sharp",strokeStyle:"solid",strokeWidth:1,
verticalAlign:"middle"},Im=function(d){return{chartWidth:44*d.values.length+12,chartHeight:280}},Vn=function(d,x,z,O,da,la){var za=Im(d),xa=za.chartWidth,Ga=za.chartHeight;za=d.title?Kj(Te(Te({backgroundColor:da,groupIds:[O]},gj),{},{text:d.title,x:x+xa/2,y:z-256-24-hc.n5,strokeSharpness:"sharp",strokeStyle:"solid",textAlign:"center"})):null;la=la?Ol(Te(Te({backgroundColor:da,groupIds:[O]},gj),{},{type:"rectangle",x,y:z-Ga,width:xa,height:Ga,strokeColor:Ek.elementStroke[0],fillStyle:"solid",opacity:6})):
null;return Tj(Tj(Tj(Tj(Tj([],la?[la]:[]),za?[za]:[]),function(Sa,Ma,kb,qb,tb){var cc;return(null===(cc=Sa.labels)||void 0===cc?void 0:cc.map(function(Xb,Ac){return Kj(Te(Te({groupIds:[qb],backgroundColor:tb},gj),{},{text:8<Xb.length?"".concat(Xb.slice(0,5),"..."):Xb,x:Ma+44*Ac+24,y:kb+6,width:32,angle:5.87,fontSize:16,textAlign:"center",verticalAlign:"top"}))}))||[]}(d,x,z,O,da)),function(Sa,Ma,kb,qb,tb){var cc=Kj(Te(Te({groupIds:[qb],backgroundColor:tb},gj),{},{x:Ma-12,y:kb-12,text:"0",textAlign:"right"}));
return[cc,Kj(Te(Te({groupIds:[qb],backgroundColor:tb},gj),{},{x:Ma-12,y:kb-256-cc.height/2,text:Math.max.apply(Math,Sa.values).toLocaleString(),textAlign:"right"}))]}(d,x,z,O,da)),function(Sa,Ma,kb,qb,tb){var cc=Im(Sa);Sa=cc.chartWidth;cc=cc.chartHeight;return[We(Te(Te({backgroundColor:tb,groupIds:[qb]},gj),{},{type:"line",x:Ma,y:kb,startArrowhead:null,endArrowhead:null,width:Sa,points:[[0,0],[Sa,0]]})),We(Te(Te({backgroundColor:tb,groupIds:[qb]},gj),{},{type:"line",x:Ma,y:kb,startArrowhead:null,
endArrowhead:null,height:cc,points:[[0,0],[0,-cc]]})),We(Te(Te({backgroundColor:tb,groupIds:[qb]},gj),{},{type:"line",x:Ma,y:kb-256-12,startArrowhead:null,endArrowhead:null,strokeStyle:"dotted",width:Sa,opacity:50,points:[[0,0],[Sa,0]]}))]}(d,x,z,O,da))},Wn=function(d,x,z,O){return"line"===d?function(da,la,za){for(var xa=Math.max.apply(Math,da.values),Ga=xi(),Sa=Wk[Math.floor(Math.random()*Wk.length)],Ma=0,kb=[],qb=0,tb=da.values;qb<tb.length;qb++)kb.push([44*Ma,-tb[qb]/xa*256]),Ma++;Ma=Math.max.apply(Math,
kb.map(function(Xb){return Xb[0]}));qb=Math.max.apply(Math,kb.map(function(Xb){return Xb[1]}));tb=Math.min.apply(Math,kb.map(function(Xb){return Xb[0]}));var cc=Math.min.apply(Math,kb.map(function(Xb){return Xb[1]}));kb=We(Te(Te({backgroundColor:Sa,groupIds:[Ga]},gj),{},{type:"line",x:la+12+16,y:za-12,startArrowhead:null,endArrowhead:null,height:qb-cc,width:Ma-tb,strokeWidth:2,points:kb}));Ma=da.values.map(function(Xb,Ac){Ac=44*Ac+6;Xb=-Xb/xa*256+6;return Ol(Te(Te({backgroundColor:Sa,groupIds:[Ga]},
gj),{},{fillStyle:"solid",strokeWidth:2,type:"ellipse",x:la+Ac+16,y:za+Xb-24,width:12,height:12}))});qb=da.values.map(function(Xb,Ac){Ac=44*Ac+6;Xb=Xb/xa*256+18;return We(Te(Te({backgroundColor:Sa,groupIds:[Ga]},gj),{},{type:"line",x:la+Ac+16+6,y:za-Xb,startArrowhead:null,endArrowhead:null,height:Xb,strokeStyle:"dotted",opacity:50,points:[[0,0],[0,Xb]]}))});return Tj(Tj(Tj(Tj([],Vn(da,la,za,Ga,Sa,"production"===hc.Vi.DEVELOPMENT)),[kb]),qb),Ma)}(x,z,O):function(da,la,za){var xa=Math.max.apply(Math,
da.values),Ga=xi(),Sa=Wk[Math.floor(Math.random()*Wk.length)],Ma=da.values.map(function(kb,qb){kb=kb/xa*256;return Ol(Te(Te({backgroundColor:Sa,groupIds:[Ga]},gj),{},{type:"rectangle",x:la+44*qb+12,y:za-kb-12,width:32,height:kb}))});return Tj(Tj([],Ma),Vn(da,la,za,Ga,Sa,"production"===hc.Vi.DEVELOPMENT))}(x,z,O)},Xn=function(){var d=function(x,z){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var la in da)Object.prototype.hasOwnProperty.call(da,
la)&&(O[la]=da[la])})(x,z)};return function(x,z){function O(){this.constructor=x}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");d(x,z);x.prototype=null===z?Object.create(z):(O.prototype=z.prototype,new O)}}(),rn=function(d){function x(z,O){void 0===z&&(z="Couldn't export canvas.");void 0===O&&(O="CANVAS_ERROR");var da=d.call(this)||this;return da.name=O,da.message=z,da}return Xn(x,d),x}(Error),Nj=function(d,x){var z,O,da,la,
za,xa,Ga,Sa;d={type:d.type,version:d.version||1,versionNonce:null!==(z=d.versionNonce)&&void 0!==z?z:0,isDeleted:null!==(O=d.isDeleted)&&void 0!==O&&O,id:d.id||xi(),fillStyle:d.fillStyle||"hachure",strokeWidth:d.strokeWidth||1,strokeStyle:null!==(da=d.strokeStyle)&&void 0!==da?da:"solid",roughness:null!==(la=d.roughness)&&void 0!==la?la:1,opacity:null==d.opacity?100:d.opacity,angle:d.angle||0,x:d.x||0,y:d.y||0,strokeColor:d.strokeColor,backgroundColor:d.backgroundColor,width:d.width||0,height:d.height||
0,seed:null!==(za=d.seed)&&void 0!==za?za:1,groupIds:null!==(xa=d.groupIds)&&void 0!==xa?xa:[],strokeSharpness:null!==(Ga=d.strokeSharpness)&&void 0!==Ga?Ga:hj(d.type)?"round":"sharp",boundElementIds:null!==(Sa=d.boundElementIds)&&void 0!==Sa?Sa:[]};return ze(ze(ze({},d),Ml(d)),x)},wk=function(d){return(d||[]).reduce(function(x,z){if("selection"!==z.type&&!Rh(z)){a:{var O;switch(z.type){case "text":var da=z.fontSize,la=z.fontFamily;if("font"in z){da=z.font.split(" ");la=da[1];da=parseInt(da[0],10);
b:{for(var za=0,xa=Object.entries(hc.ut);za<xa.length;za++){var Ga=xa[za],Sa=Ga[0];if(Ga[1].includes(la)){la=parseInt(Sa);break b}}la=hc.rk}}z=Nj(z,{fontSize:da,fontFamily:la,text:null!==(O=z.text)&&void 0!==O?O:"",baseline:z.baseline,textAlign:z.textAlign||hc.Hg,verticalAlign:z.verticalAlign||hc.hs});break a;case "draw":case "line":case "arrow":O=z.startArrowhead;O=void 0===O?null:O;da=z.endArrowhead;da=void 0===da?"arrow"===z.type?"arrow":null:da;z=Nj(z,{startBinding:z.startBinding,endBinding:z.endBinding,
points:!Array.isArray(z.points)||2>z.points.length?[[0,0],[z.width,z.height]]:z.points,lastCommittedPoint:null,startArrowhead:O,endArrowhead:da});break a;case "ellipse":case "rectangle":case "diamond":z=Nj(z,{});break a}z=void 0}z&&x.push(z)}return x},[])},ln=function(d,x){d=d||{};for(var z=Fh(),O={},da=0,la=Object.entries(z);da<la.length;da++){var za=la[da],xa=za[0];za=za[1];var Ga=d[xa],Sa=x?x[xa]:void 0;O[xa]=void 0!==Ga?Ga:void 0!==Sa?Sa:za}return ze(ze({},O),{},{offsetLeft:d.offsetLeft||0,offsetTop:d.offsetTop||
0,zoom:"number"==typeof d.zoom?{value:d.zoom,translation:z.zoom.translation}:d.zoom||z.zoom})},mn=function(d,x){return{elements:wk(null==d?void 0:d.elements),appState:ln(null==d?void 0:d.appState,x||null)}},tn=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=
[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=
x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},mj=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},rh=function(){function d(){}return d.importLibrary=function(x){return Rc()(function(){var z,
O,da,la;return tn(this,function(za){switch(za.label){case 0:return[4,qp(x)];case 1:return(z=za.sent())&&z.library?(O=function(xa,Ga){return!xa.find(function(Sa){return Sa.length===Ga.length&&Sa.every(function(Ma,kb){return Ma.id===Ga[kb].id&&Ma.versionNonce===Ga[kb].versionNonce})})},[4,d.loadLibrary()]):[2];case 2:return da=za.sent(),la=z.library.reduce(function(xa,Ga){Ga=je(wk(Ga));return O(da,Ga)&&xa.push(Ga),xa},[]),d.saveLibrary(mj(mj([],da),la)),[2]}})})()},d}();rh.libraryCache=null;rh.resetLibrary=
function(){rh.libraryCache=null;localStorage.removeItem(hc.I.LOCAL_STORAGE_LIBRARY)};rh.loadLibrary=function(){return new Promise(function(){var d=Rc()(function(x){var z,O;return tn(this,function(da){if(rh.libraryCache)return[2,x(JSON.parse(JSON.stringify(rh.libraryCache)))];try{if(!(z=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY)))return[2,x([])];O=JSON.parse(z).map(function(la){return wk(la)});rh.libraryCache=JSON.parse(JSON.stringify(O));x(O)}catch(la){console.error(la),x([])}return[2]})});
return function(x){return d.apply(this,arguments)}}())};rh.saveLibrary=function(d){var x=rh.libraryCache;try{var z=JSON.stringify(d);rh.libraryCache=JSON.parse(z);localStorage.setItem(hc.I.LOCAL_STORAGE_LIBRARY,z)}catch(O){rh.libraryCache=x,console.error(O)}};var qm=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=
la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);
else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},rm=function(d,x){return JSON.stringify({type:"excalidraw",version:2,source:window.location.origin,elements:Ef(d),
appState:vi(x,"export")},null,2)},bm=function(){var d=Rc()(function(x,z){var O;return qm(this,function(da){switch(da.label){case 0:return O=rm(x,z),[4,Sg(new Blob([O],{type:"application/json"}),{fileName:z.name,description:"Excalidraw file",extensions:[".excalidraw"]},z.fileHandle)];case 1:return[2,{fileHandle:da.sent()}]}})});return function(x,z){return d.apply(this,arguments)}}(),nn=function(){var d=Rc()(function(x){var z;return qm(this,function(O){switch(O.label){case 0:return[4,Rg({description:"Excalidraw files",
extensions:[".json",".excalidraw",".png",".svg"],mimeTypes:["application/json","image/png","image/svg+xml"]})];case 1:return z=O.sent(),[2,Om(z,x)]}})});return function(x){return d.apply(this,arguments)}}(),sm=function(){var d=Rc()(function(){var x,z;return qm(this,function(O){switch(O.label){case 0:return[4,rh.loadLibrary()];case 1:return x=O.sent(),z=JSON.stringify({type:"excalidrawlib",version:1,library:x},null,2),"library.excalidrawlib",[4,Sg(new Blob([z],{type:hc.LO.excalidrawlib}),{fileName:"library.excalidrawlib",
description:"Excalidraw library file",extensions:[".excalidrawlib"]})];case 2:return O.sent(),[2]}})});return function(){return d.apply(this,arguments)}}(),pp=function(){var d=Rc()(function(){var x;return qm(this,function(z){switch(z.label){case 0:return[4,Rg({description:"Excalidraw library files",extensions:[".json",".excalidrawlib"],mimeTypes:["application/json"]})];case 1:return x=z.sent(),rh.importLibrary(x),[2]}})});return function(){return d.apply(this,arguments)}}(),Km=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");
for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=
Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),
za},Cn=function(){var d=Rc()(function(x){var z;return Km(this,function(O){switch(O.label){case 0:if("image/png"!==x.type)return[3,6];O.label=1;case 1:return O.trys.push([1,4,,5]),[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))];case 2:return[4,O.sent().decodePngMetadata(x)];case 3:return[2,O.sent()];case 4:throw"INVALID"===O.sent().message?Error(Ka("alerts.imageDoesNotContainScene")):Error(Ka("alerts.cannotRestoreFromImage"));case 5:return[3,15];case 6:return"text"in Blob?[4,x.text()]:[3,8];
case 7:return z=O.sent(),[3,10];case 8:return[4,new Promise(function(da){var la=new FileReader;la.readAsText(x,"utf8");la.onloadend=function(){la.readyState===FileReader.DONE&&da(la.result)}})];case 9:z=O.sent(),O.label=10;case 10:if("image/svg+xml"!==x.type)return[3,15];O.label=11;case 11:return O.trys.push([11,14,,15]),[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))];case 12:return[4,O.sent().decodeSvgMetadata({svg:z})];case 13:return[2,O.sent()];case 14:throw"INVALID"===O.sent().message?
Error(Ka("alerts.imageDoesNotContainScene")):Error(Ka("alerts.cannotRestoreFromImage"));case 15:return[2,z]}})});return function(x){return d.apply(this,arguments)}}(),Om=function(){var d=Rc()(function(x,z){var O,da;return Km(this,function(la){switch(la.label){case 0:return[4,Cn(x)];case 1:O=la.sent();try{var za=da=JSON.parse(O);if("excalidraw"!==(null==za?void 0:za.type)||za.elements&&(!Array.isArray(za.elements)||za.appState&&"object"!=typeof za.appState))throw Error(Ka("alerts.couldNotLoadInvalidFile"));
var xa=Ef(da.elements||[]),Ga=null==z?void 0:z.appearance,Sa;if(Sa=x.handle){var Ma=["application/json",hc.LO.excalidraw],kb=Ma.includes;a:{if("string"==typeof x)var qb=x;else{if(x.type){var tb=x.type;break a}qb=x.name||""}tb=/\.(excalidraw|json)$/.test(qb)?"application/json":/\.png$/.test(qb)?"image/png":/\.jpe?g$/.test(qb)?"image/jpeg":/\.svg$/.test(qb)?"image/svg+xml":""}Sa=kb.call(Ma,tb)}return[2,mn({elements:xa,appState:Cb(Cb({appearance:Ga,fileHandle:Sa?x.handle:null},vi(da.appState||{},"export")),
z?mi(da.elements||[],z):{})},z)]}catch(cc){throw console.error(cc.message),Error(Ka("alerts.couldNotLoadInvalidFile"));}}})});return function(x,z){return d.apply(this,arguments)}}(),qp=function(){var d=Rc()(function(x){var z,O;return Km(this,function(da){switch(da.label){case 0:return[4,Cn(x)];case 1:if(z=da.sent(),"excalidrawlib"!==(O=JSON.parse(z)).type)throw Error(Ka("alerts.couldNotLoadInvalidFile"));return[2,O]}})});return function(x){return d.apply(this,arguments)}}(),Lm=function(){var d=Rc()(function(x){return Km(this,
function(z){return[2,new Promise(function(O,da){try{x.toBlob(function(la){if(!la)return da(new rn(Ka("canvasError.canvasTooBig"),"CANVAS_POSSIBLY_TOO_BIG"));O(la)})}catch(la){da(la)}})]})});return function(x){return d.apply(this,arguments)}}(),Vj=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;
switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();
xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},Nm="",Mm=!1,Uh="clipboard"in navigator&&"readText"in navigator.clipboard,Wj="clipboard"in navigator&&"writeText"in navigator.clipboard,
Dk="clipboard"in navigator&&"write"in navigator.clipboard&&"ClipboardItem"in window&&"toBlob"in HTMLCanvasElement.prototype,Ck=function(){var d=Rc()(function(x,z){var O,da,la;return Vj(this,function(za){switch(za.label){case 0:O={type:"excalidraw/elements",created:Date.now(),elements:wf(x,z)},Nm=da=JSON.stringify(O),za.label=1;case 1:return za.trys.push([1,3,,4]),Mm=!1,[4,Kb(da)];case 2:return za.sent(),[3,4];case 3:return la=za.sent(),Mm=!0,console.error(la),[3,4];case 4:return[2]}})});return function(x,
z){return d.apply(this,arguments)}}(),U=function(){if(!Nm)return{};try{return JSON.parse(Nm)}catch(d){return console.error(d),{}}},na=function(d){d=function(x){var z=x.trim().split("\n").map(function(da){return da.trim().split("\t")});if(z.length&&2!==z[0].length&&(z=x.trim().split("\n").map(function(da){return da.trim().split(",")})),0===z.length)return{type:"NOT_SPREADSHEET",reason:"No values"};var O=z[0].length;if(!z.every(function(da){return da.length===O}))return{type:"NOT_SPREADSHEET",reason:"All rows don't have same number of columns"};
x=In(z);return"VALID_SPREADSHEET"!==x.type&&(z=In(function(da){for(var la=[],za=0;za<da[0].length;za++){for(var xa=[],Ga=0;Ga<da.length;Ga++)xa.push(da[Ga][za]);la.push(xa)}return la}(z)),"VALID_SPREADSHEET"===z.type)?z:x}(d);return"VALID_SPREADSHEET"===d.type?{spreadsheet:d.spreadsheet}:null},Ea=function(){var d=Rc()(function(x){var z,O,da;return Vj(this,function(la){switch(la.label){case 0:return la.trys.push([0,5,,6]),x?(O=null===(z=x.clipboardData)||void 0===z?void 0:z.getData("text/plain").trim(),
[3,4]):[3,1];case 1:return(da=Uh)?[4,navigator.clipboard.readText()]:[3,3];case 2:da=la.sent(),la.label=3;case 3:O=da,la.label=4;case 4:return[2,O||""];case 5:return la.sent(),[2,""];case 6:return[2]}})});return function(x){return d.apply(this,arguments)}}(),eb=function(){var d=Rc()(function(x){var z,O,da,la;return Vj(this,function(za){switch(za.label){case 0:return[4,Ea(x)];case 1:if(!(z=za.sent())||z.includes("\x3c!-- svg-source:excalidraw --\x3e"))return[2,U()];if(O=na(z))return[2,O];da=U();try{return la=
JSON.parse(z),"excalidraw/elements"===(null==(xa=la)?void 0:xa.type)&&(null==da||!da.created||da.created<la.created)?[2,{elements:la.elements}]:[2,da]}catch(Ga){return[2,Mm&&da.elements?da:{text:z}]}}var xa})});return function(x){return d.apply(this,arguments)}}(),yb=function(){var d=Rc()(function(x){var z;return Vj(this,function(O){switch(O.label){case 0:return[4,Lm(x)];case 1:return z=O.sent(),[4,navigator.clipboard.write([new window.ClipboardItem({"image/png":z})])];case 2:return O.sent(),[2]}})});
return function(x){return d.apply(this,arguments)}}(),Kb=function(){var d=Rc()(function(x){var z,O;return Vj(this,function(da){switch(da.label){case 0:if(z=!1,!Wj)return[3,4];da.label=1;case 1:return da.trys.push([1,3,,4]),[4,navigator.clipboard.writeText(x||"")];case 2:return da.sent(),z=!0,[3,4];case 3:return O=da.sent(),console.error(O),[3,4];case 4:if(da=!z){var la=x||" ",za="rtl"===document.documentElement.getAttribute("dir");da=document.createElement("textarea");da.style.border="0";da.style.padding=
"0";da.style.margin="0";da.style.position="absolute";da.style[za?"right":"left"]="-9999px";da.style.top="".concat(window.pageYOffset||document.documentElement.scrollTop,"px");da.style.fontSize="12pt";da.setAttribute("readonly","");da.value=la;document.body.appendChild(da);la=!1;try{da.select(),da.setSelectionRange(0,da.value.length),la=document.execCommand("copy")}catch(xa){console.error(xa)}da=!(da.remove(),la)}if(da)throw Error("couldn't copy");return[2]}})});return function(x){return d.apply(this,
arguments)}}(),pc=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=
xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},
trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},Bc=function(){var d=Rc()(function(x,z,O,da,la){var za,xa,Ga,Sa,Ma,kb,qb,tb,cc,Xb=la.exportBackground,Ac=la.exportPadding,gd=void 0===Ac?10:Ac,kd=la.viewBackgroundColor,xd=la.name;Ac=la.scale;var ne=void 0===Ac?1:Ac,me=la.shouldAddWatermark;return pc(this,function(Re){switch(Re.label){case 0:if(0===z.length)throw Error(Ka("alerts.cannotExportEmptyCanvas"));return"svg"!==
x&&"clipboard-svg"!==x?[3,7]:(xa=Pl,Ga=[z],Sa={exportBackground:Xb,exportWithDarkMode:O.exportWithDarkMode,viewBackgroundColor:kd,exportPadding:gd,scale:ne,shouldAddWatermark:me},O.exportEmbedScene&&"svg"===x?[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))]:[3,3]);case 1:return[4,Re.sent().encodeSvgMetadata({text:rm(z,O)})];case 2:return Ma=Re.sent(),[3,4];case 3:Ma=void 0,Re.label=4;case 4:return za=xa.apply(void 0,Ga.concat([(Sa.metadata=Ma,Sa)])),"svg"!==x?[3,6]:[4,Sg(new Blob([za.outerHTML],
{type:"image/svg+xml"}),{fileName:"".concat(xd,".svg"),extensions:[".svg"]})];case 5:return Re.sent(),[2];case 6:if("clipboard-svg"===x)return Kb(za.outerHTML),[2];Re.label=7;case 7:return(kb=vm(z,O,{exportBackground:Xb,viewBackgroundColor:kd,exportPadding:gd,scale:ne,shouldAddWatermark:me})).style.display="none",document.body.appendChild(kb),"png"!==x?[3,13]:(qb="".concat(xd,".png"),[4,Lm(kb)]);case 8:return tb=Re.sent(),O.exportEmbedScene?[4,Promise.all([l.e(736),l.e(9)]).then(l.bind(l,8527))]:
[3,11];case 9:return[4,Re.sent().encodePngMetadata({blob:tb,metadata:rm(z,O)})];case 10:tb=Re.sent(),Re.label=11;case 11:return[4,Sg(tb,{fileName:qb,extensions:[".png"]})];case 12:return Re.sent(),[3,17];case 13:if("clipboard"!==x)return[3,17];Re.label=14;case 14:return Re.trys.push([14,16,,17]),[4,yb(kb)];case 15:return Re.sent(),[3,17];case 16:if("CANVAS_POSSIBLY_TOO_BIG"===(cc=Re.sent()).name)throw cc;throw Error(Ka("alerts.couldNotCopyToClipboard"));case 17:return kb!==da&&kb.remove(),[2]}})});
return function(x,z,O,da,la){return d.apply(this,arguments)}}(),Oc=function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;
case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,
da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},bd,pd,Wd;re({name:"changeProjectName",perform:function(d,x,z){return Wg("change","title"),{appState:Xa(Xa({},x),{},{name:z}),commitToHistory:!1}},PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement(Di,{label:Ka("labels.fileTitle"),value:x.name||"Unnamed",onChange:function(O){return z(O)}})}});
re({name:"changeExportBackground",perform:function(d,x,z){return{appState:Xa(Xa({},x),{},{exportBackground:z}),commitToHistory:!1}},PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:x.exportBackground,onChange:function(O){return z(O.target.checked)}})," ",Ka("labels.withBackground"))}});re({name:"changeExportEmbedScene",perform:function(d,x,z){return{appState:Xa(Xa({},x),{},{exportEmbedScene:z}),commitToHistory:!1}},
PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement("label",{style:{display:"flex"}},Ha().createElement("input",{type:"checkbox",checked:x.exportEmbedScene,onChange:function(O){return z(O.target.checked)}})," ",Ka("labels.exportEmbedScene"),Ha().createElement(Gj,{label:Ka("labels.exportEmbedScene_details"),position:"above",long:!0},Ha().createElement("div",{className:"TooltipIcon"},hd)))}});re({name:"changeShouldAddWatermark",perform:function(d,x,z){return{appState:Xa(Xa({},
x),{},{shouldAddWatermark:z}),commitToHistory:!1}},PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:x.shouldAddWatermark,onChange:function(O){return z(O.target.checked)}})," ",Ka("labels.addWatermark"))}});re({name:"saveScene",perform:(bd=Rc()(function(d,x,z){var O,da,la;return Oc(this,function(za){switch(za.label){case 0:O=!!x.fileHandle,za.label=1;case 1:return za.trys.push([1,3,,4]),[4,bm(d,x)];
case 2:return da=za.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},x),{},{fileHandle:da,toastMessage:O?da.name?Ka("toast.fileSavedToFilename").replace("{filename}",'"'.concat(da.name,'"')):Ka("toast.fileSaved"):null})}];case 3:return"AbortError"!==(null==(la=za.sent())?void 0:la.name)&&console.error(la),[2,{commitToHistory:!1}];case 4:return[2]}})}),function(d,x,z){return bd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d[ef]&&!d.shiftKey},PanelComponent:function(d){var x=
d.updateData;return Ha().createElement(lf,{type:"button",icon:He,title:Ka("buttons.save"),"aria-label":Ka("buttons.save"),showAriaLabel:Qe(),onClick:function(){return x(null)}})}});re({name:"saveAsScene",perform:(pd=Rc()(function(d,x,z){var O,da;return Oc(this,function(la){switch(la.label){case 0:return la.trys.push([0,2,,3]),[4,bm(d,Xa(Xa({},x),{},{fileHandle:null}))];case 1:return O=la.sent().fileHandle,[2,{commitToHistory:!1,appState:Xa(Xa({},x),{},{fileHandle:O})}];case 2:return"AbortError"!==
(null==(da=la.sent())?void 0:da.name)&&console.error(da),[2,{commitToHistory:!1}];case 3:return[2]}})}),function(d,x,z){return pd.apply(this,arguments)}),keyTest:function(d){return"s"===d.key&&d.shiftKey&&d[ef]},PanelComponent:function(d){var x=d.updateData;return Ha().createElement(lf,{type:"button",icon:Fm,title:Ka("buttons.saveAs"),"aria-label":Ka("buttons.saveAs"),showAriaLabel:Qe(),hidden:!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window),onClick:function(){return x(null)}})}});
re({name:"loadScene",perform:(Wd=Rc()(function(d,x){var z,O,da,la;return Oc(this,function(za){switch(za.label){case 0:return za.trys.push([0,2,,3]),[4,nn(x)];case 1:return z=za.sent(),O=z.elements,da=z.appState,[2,{elements:O,appState:da,commitToHistory:!0}];case 2:return"AbortError"===(null==(la=za.sent())?void 0:la.name)?[2,!1]:[2,{elements:d,appState:Xa(Xa({},x),{},{errorMessage:la.message}),commitToHistory:!1}];case 3:return[2]}})}),function(d,x){return Wd.apply(this,arguments)}),keyTest:function(d){return d[ef]&&
"o"===d.key},PanelComponent:function(d){var x=d.updateData;d.appState;return Ha().createElement(lf,{type:"button",icon:om,title:Ka("buttons.load"),"aria-label":Ka("buttons.load"),showAriaLabel:Qe(),onClick:x})}});re({name:"exportWithDarkMode",perform:function(d,x,z){return{appState:Xa(Xa({},x),{},{exportWithDarkMode:z}),commitToHistory:!1}},PanelComponent:function(d){var x=d.appState,z=d.updateData;return Ha().createElement("div",{style:{display:"flex",justifyContent:"flex-end",marginTop:"-45px",
marginBottom:"10px"}},Ha().createElement(hk,{value:x.exportWithDarkMode?"dark":"light",onChange:function(O){z("dark"===O)},title:Ka("labels.toggleExportColorScheme")}))}});var ie="{}",sf=re({name:"copyStyles",perform:function(d,x){d=d.find(function(z){return x.selectedElementIds[z.id]});return d&&(ie=JSON.stringify(d)),{appState:vb(vb({},x),{},{toastMessage:Ka("toast.copyStyles")}),commitToHistory:!1}},contextItemLabel:"labels.copyStyles",keyTest:function(d){return d[ef]&&d.altKey&&"KeyC"===d.code}}),
mf=re({name:"pasteStyles",perform:function(d,x){var z=JSON.parse(ie);return"text"!==(null==z?void 0:z.type)&&"diamond"!==(null==z?void 0:z.type)&&"rectangle"!==(null==z?void 0:z.type)&&"ellipse"!==(null==z?void 0:z.type)&&"arrow"!==(null==z?void 0:z.type)&&"draw"!==(null==z?void 0:z.type)&&"line"!==(null==z?void 0:z.type)?{elements:d,commitToHistory:!1}:{elements:d.map(function(O){return x.selectedElementIds[O.id]?(O=zg(O,{backgroundColor:null==z?void 0:z.backgroundColor,strokeWidth:null==z?void 0:
z.strokeWidth,strokeColor:null==z?void 0:z.strokeColor,strokeStyle:null==z?void 0:z.strokeStyle,fillStyle:null==z?void 0:z.fillStyle,opacity:null==z?void 0:z.opacity,roughness:null==z?void 0:z.roughness}),fe(O)&&(nf(O,{fontSize:(null==z?void 0:z.fontSize)||hc.n5,fontFamily:(null==z?void 0:z.fontFamily)||hc.rk,textAlign:(null==z?void 0:z.textAlign)||hc.Hg}),qk(O)),O):O}),commitToHistory:!0}},contextItemLabel:"labels.pasteStyles",keyTest:function(d){return d[ef]&&d.altKey&&"KeyV"===d.code}}),gi=function(d){return Ha().createElement("label",
{title:"".concat(d.title," — ?"),className:"help-icon"},Ha().createElement("div",{onClick:d.onClick},hd))};re({name:"toggleCanvasMenu",perform:function(d,x){return{appState:rc(rc({},x),{},{openMenu:"canvas"===x.openMenu?null:"canvas"}),commitToHistory:!1}},PanelComponent:function(d){var x=d.appState;d=d.updateData;return Ha().createElement(lf,{type:"button",icon:Sk,"aria-label":Ka("buttons.menu"),onClick:d,selected:"canvas"===x.openMenu})}});re({name:"toggleEditMenu",perform:function(d,x){return{appState:rc(rc({},
x),{},{openMenu:"shape"===x.openMenu?null:"shape"}),commitToHistory:!1}},PanelComponent:function(d){var x=d.elements,z=d.appState;d=d.updateData;return Ha().createElement(lf,{visible:th(z,je(x)),type:"button",icon:Oh,"aria-label":Ka("buttons.edit"),onClick:d,selected:"shape"===z.openMenu})}});re({name:"toggleFullScreen",perform:function(){return yh()||document.documentElement.requestFullscreen(),yh()&&document.exitFullscreen(),{commitToHistory:!1}},keyTest:function(d){return"KeyF"===d.code&&!d[ef]}});
re({name:"toggleShortcuts",perform:function(d,x){return{appState:rc(rc({},x),{},{showHelpDialog:!x.showHelpDialog}),commitToHistory:!1}},PanelComponent:function(d){d=d.updateData;return Ha().createElement(gi,{title:Ka("helpDialog.title"),onClick:d})},keyTest:function(d){return"?"===d.key}});var Zk=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},ak=function(d,x){d=wf(je(d),x);return 2<=d.length&&!function(z){if(2<=z.length)for(var O=function(xa){if(z.reduce(function(Ga,
Sa){return Ga&&Sa.groupIds.includes(xa)},!0))return{value:!0}},da=0,la=z[0].groupIds;da<la.length;da++){var za=O(la[da]);if("object"==typeof za)return za.value}return!1}(d)},cg=re({name:"group",perform:function(d,x){var z=wf(je(d),x);if(2>z.length)return{appState:x,elements:d,commitToHistory:!1};var O=Li(x);if(1===O.length&&(O=new Set(ck(d,O[0]).map(function(za){return za.id})),z=new Set(z.map(function(za){return za.id})),(new Set(Zk(Zk([],Array.from(O)),Array.from(z)))).size===O.size))return{appState:x,
elements:d,commitToHistory:!1};var da=xi();O=d.map(function(za){if(x.selectedElementIds[za.id]){var xa=x.editingGroupId;var Ga=zl([],za.groupIds);xa=xa?Ga.indexOf(xa):-1;Ga=(Ga.splice(-1<xa?xa:Ga.length,0,da),Ga);za=zg(za,{groupIds:Ga})}return za});d=ck(O,da);var la=O.lastIndexOf(d[d.length-1]);z=O.slice(la+1);O=O.slice(0,la).filter(function(za){return!za.groupIds.includes(da)});d=Zk(Zk(Zk([],O),d),z);return{appState:bk(da,Nc(Nc({},x),{},{selectedGroupIds:{}}),je(d)),elements:d,commitToHistory:!0}},
contextItemLabel:"labels.group",contextItemPredicate:function(d,x){return ak(d,x)},keyTest:function(d){return!d.shiftKey&&d[ef]&&"KeyG"===d.code},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!ak(x,z),type:"button",icon:Ha().createElement(uf,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.group")," — ").concat($d("CtrlOrCmd+G")),"aria-label":Ka("labels.group"),visible:lg(je(x),z)})}}),yi=re({name:"ungroup",
perform:function(d,x){if(0===Li(x).length)return{appState:x,elements:d,commitToHistory:!1};d=d.map(function(z){var O=function(da,la){return da.filter(function(za){return!la[za]})}(z.groupIds,x.selectedGroupIds);return O.length===z.groupIds.length?z:zg(z,{groupIds:O})});return{appState:Wh(Nc(Nc({},x),{},{selectedGroupIds:{}}),je(d)),elements:d,commitToHistory:!0}},keyTest:function(d){return d.shiftKey&&d[ef]&&"KeyG"===d.code},contextItemLabel:"labels.ungroup",contextItemPredicate:function(d,x){return 0<
Li(x).length},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{type:"button",hidden:0===Li(z).length,icon:Ha().createElement(Ok,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.ungroup")," — ").concat($d("CtrlOrCmd+Shift+G")),"aria-label":Ka("labels.ungroup"),visible:lg(je(x),z)})}}),Kk=(l(1395),function(d){var x=d.children,z=d.color,O=d.border;d=d.onClick;return Ha().createElement("div",{className:"Avatar",
style:{background:z,border:"1px solid ".concat(O)},onClick:d},x)});re({name:"goToCollaborator",perform:function(d,x,z){return z?{appState:$c($c($c({},x),Xi({scenePoint:z,viewportDimensions:{width:x.width,height:x.height},zoom:x.zoom})),{},{openMenu:"canvas"===x.openMenu?null:x.openMenu}),commitToHistory:!1}:{appState:x,commitToHistory:!1}},PanelComponent:function(d){var x=d.appState,z=d.updateData;d=d.id;if(!d)return null;var O=x.collaborators.get(d);if(!O)return null;d=Ti(d,x);x=d.background;d=d.stroke;
var da=function(la){if(!la)return"?";la=la.trim().split(" ");return 2>la.length?la[0].substring(0,2).toUpperCase():(la[0][0]+la[la.length-1][0]).toUpperCase()}(O.username);return Ha().createElement(Kk,{color:x,border:d,onClick:function(){return z(O.pointer)}},da)}});var Qm=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},Oo=re({name:"addToLibrary",perform:function(d,x){var z=wf(je(d),x);return rh.loadLibrary().then(function(O){rh.saveLibrary(Qm(Qm([],O),[z.map(Lj)]))}),
!1},contextItemLabel:"labels.addToLibrary"}),Fn=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},ao=function(d){var x=new Map;return d.forEach(function(z){var O=0===z.groupIds.length?z.id:z.groupIds[z.groupIds.length-1],da=x.get(O)||[];x.set(O,Fn(Fn([],da),[z]))}),Array.from(x.values())},Df=function(d,x,z){var O,da,la,za=z.axis;z=z.position;d=Xj(d);var xa="x"===za?["minX","maxX"]:["minY","maxY"],Ga=xa[0];xa=xa[1];return tc(tc({},{x:0,y:0}),{},"start"===z?((O={})[za]=
x[Ga]-d[Ga],O):"end"===z?((da={})[za]=x[xa]-d[xa],da):((la={})[za]=(x[Ga]+x[xa])/2-(d[Ga]+d[xa])/2,la))},Xj=function(d){d=Dg(d);return{minX:d[0],minY:d[1],maxX:d[2],maxY:d[3]}},Zh=function(d,x){return 1<wf(je(d),x).length},Ki=function(d,x,z){x=function(da,la){var za=ao(da),xa=Xj(da);return za.flatMap(function(Ga){var Sa=Df(Ga,xa,la);return Ga.map(function(Ma){return zg(Ma,{x:Ma.x+Sa.x,y:Ma.y+Sa.y})})})}(wf(je(d),x),z);var O=$i(x);return d.map(function(da){return O[da.id]||da})},sn=(re({name:"alignTop",
perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"start",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[ef]&&d.shiftKey&&"ArrowUp"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(Ih,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.alignTop")," — ").concat($d("CtrlOrCmd+Shift+Up")),"aria-label":Ka("labels.alignTop"),
visible:lg(je(x),z)})}}),re({name:"alignBottom",perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"end",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d[ef]&&d.shiftKey&&"ArrowDown"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(sg,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.alignBottom")," — ").concat($d("CtrlOrCmd+Shift+Down")),
"aria-label":Ka("labels.alignBottom"),visible:lg(je(x),z)})}}),re({name:"alignLeft",perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"start",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[ef]&&d.shiftKey&&"ArrowLeft"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(Aj,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.alignLeft"),
" — ").concat($d("CtrlOrCmd+Shift+Left")),"aria-label":Ka("labels.alignLeft"),visible:lg(je(x),z)})}}),re({name:"alignRight",perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"end",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d[ef]&&d.shiftKey&&"ArrowRight"===d.key},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(jd,{appearance:z.appearance}),onClick:function(){return O(null)},
title:"".concat(Ka("labels.alignRight")," — ").concat($d("CtrlOrCmd+Shift+Right")),"aria-label":Ka("labels.alignRight"),visible:lg(je(x),z)})}}),re({name:"alignVerticallyCentered",perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"center",axis:"y"}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(dd,{appearance:z.appearance}),onClick:function(){return O(null)},
title:Ka("labels.centerVertically"),"aria-label":Ka("labels.centerVertically"),visible:lg(je(x),z)})}}),re({name:"alignHorizontallyCentered",perform:function(d,x){return{appState:x,elements:Ki(d,x,{position:"center",axis:"x"}),commitToHistory:!0}},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!Zh(x,z),type:"button",icon:Ha().createElement(Tk,{appearance:z.appearance}),onClick:function(){return O(null)},title:Ka("labels.centerHorizontally"),
"aria-label":Ka("labels.centerHorizontally"),visible:lg(je(x),z)})}}),function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d}),jq=function(d){var x=new Map;return d.forEach(function(z){var O=0===z.groupIds.length?z.id:z.groupIds[z.groupIds.length-1],da=x.get(O)||[];x.set(O,sn(sn([],da),[z]))}),Array.from(x.values())},xj=function(d){var x=Dg(d);d=x[0];var z=x[1],O=x[2];x=x[3];return{minX:d,minY:z,maxX:O,maxY:x,width:O-d,height:x-z,midX:(d+O)/2,midY:(z+x)/2}},No=function(d,
x){return 1<wf(je(d),x).length},Dn=function(d,x,z){x=function(da,la){var za="x"===la.axis?["minX","midX","maxX","width"]:["minY","midY","maxY","height"],xa=za[0],Ga=za[1],Sa=za[2],Ma=za[3],kb=xj(da);da=jq(da).map(function(xd){return[xd,xj(xd)]}).sort(function(xd,ne){return xd[1][Ga]-ne[1][Ga]});for(var qb=za=0;qb<da.length;qb++)za+=da[qb][1][Ma];var tb=(kb[Ma]-za)/(da.length-1);if(0>tb){var cc=da.findIndex(function(xd){return xd[1][xa]===kb[xa]}),Xb=da.findIndex(function(xd){return xd[1][Sa]===kb[Sa]}),
Ac=(da[Xb][1][Ga]-da[cc][1][Ga])/(da.length-1),gd=da[cc][1][Ga];return da.flatMap(function(xd,ne){var me=xd[0];xd=xd[1];var Re={x:0,y:0};return ne!==cc&&ne!==Xb&&(gd+=Ac,Re[la.axis]=gd-xd[Ga]),me.map(function(Ne){return zg(Ne,{x:Ne.x+Re.x,y:Ne.y+Re.y})})})}var kd=kb[xa];return da.flatMap(function(xd){var ne=xd[0];xd=xd[1];var me={x:0,y:0};return me[la.axis]=kd-xd[xa],kd+=tb,kd+=xd[Ma],ne.map(function(Re){return zg(Re,{x:Re.x+me.x,y:Re.y+me.y})})})}(wf(je(d),x),z);var O=$i(x);return d.map(function(da){return O[da.id]||
da})},Zn=(re({name:"distributeHorizontally",perform:function(d,x){return{appState:x,elements:Dn(d,x,{space:"between",axis:"x"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyH"===d.code},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!No(x,z),type:"button",icon:Ha().createElement(qd,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.distributeHorizontally")," — ").concat($d("Alt+H")),
"aria-label":Ka("labels.distributeHorizontally"),visible:lg(je(x),z)})}}),re({name:"distributeVertically",perform:function(d,x){return{appState:x,elements:Dn(d,x,{space:"between",axis:"y"}),commitToHistory:!0}},keyTest:function(d){return d.altKey&&"KeyV"===d.code},PanelComponent:function(d){var x=d.elements,z=d.appState,O=d.updateData;return Ha().createElement(lf,{hidden:!No(x,z),type:"button",icon:Ha().createElement(Qg,{appearance:z.appearance}),onClick:function(){return O(null)},title:"".concat(Ka("labels.distributeVertically"),
" — ").concat($d("Alt+V")),"aria-label":Ka("labels.distributeVertically"),visible:lg(je(x),z)})}}),function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;
da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,
done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za}),pn=re({name:"copy",perform:function(d,x){return Ck(je(d),x),{commitToHistory:!1}},contextItemLabel:"labels.copy"}),iq=re({name:"cut",perform:function(d,x,z,O){return pn.perform(d,x,z,O),Vg.perform(d,x,z,O)},contextItemLabel:"labels.cut",keyTest:function(d){return d[ef]&&
"KeyX"===d.code}}),up=re({name:"copyAsSvg",perform:function(){var d=Rc()(function(x,z,O,da){var la,za;return Zn(this,function(xa){switch(xa.label){case 0:if(!da.canvas)return[2,{commitToHistory:!1}];la=wf(je(x),z);xa.label=1;case 1:return xa.trys.push([1,3,,4]),[4,Bc("clipboard-svg",la.length?la:je(x),z,da.canvas,z)];case 2:return xa.sent(),[2,{commitToHistory:!1}];case 3:return za=xa.sent(),console.error(za),[2,{appState:ae(ae({},z),{},{errorMessage:za.message}),commitToHistory:!1}];case 4:return[2]}})});
return function(x,z,O,da){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsSvg"}),tp=re({name:"copyAsPng",perform:function(){var d=Rc()(function(x,z,O,da){var la,za;return Zn(this,function(xa){switch(xa.label){case 0:if(!da.canvas)return[2,{commitToHistory:!1}];la=wf(je(x),z);xa.label=1;case 1:return xa.trys.push([1,3,,4]),[4,Bc("clipboard",la.length?la:je(x),z,da.canvas,z)];case 2:return xa.sent(),[2,{appState:ae(ae({},z),{},{toastMessage:Ka("toast.copyToClipboardAsPng",{exportSelection:la.length?
Ka("toast.selection"):Ka("toast.canvas"),exportColorScheme:z.exportWithDarkMode?Ka("buttons.darkMode"):Ka("buttons.lightMode")})}),commitToHistory:!1}];case 3:return za=xa.sent(),console.error(za),[2,{appState:ae(ae({},z),{},{errorMessage:za.message}),commitToHistory:!1}];case 4:return[2]}})});return function(x,z,O,da){return d.apply(this,arguments)}}(),contextItemLabel:"labels.copyAsPng",keyTest:function(d){return"KeyC"===d.code&&d.altKey&&d.shiftKey}}),rp=re({name:"gridMode",perform:function(d,
x){return Wg("view","mode","grid"),{appState:we(we({},x),{},{gridSize:this.checked(x)?null:hc.k}),commitToHistory:!1}},checked:function(d){return null!==d.gridSize},contextItemLabel:"labels.showGrid",keyTest:function(d){return d[ef]&&"Quote"===d.code}}),se=re({name:"zenMode",perform:function(d,x){return Wg("view","mode","zen"),{appState:jc(jc({},x),{},{zenModeEnabled:!this.checked(x)}),commitToHistory:!1}},checked:function(d){return d.zenModeEnabled},contextItemLabel:"buttons.zenMode",keyTest:function(d){return!d[ef]&&
d.altKey&&"KeyZ"===d.code}}),$n=re({name:"stats",perform:function(d,x){return{appState:lc(lc({},x),{},{showStats:!this.checked(x)}),commitToHistory:!1}},checked:function(d){return d.showStats},contextItemLabel:"stats.title"}),sp=function(d,x,z){if(!(x.multiElement||x.resizingElement||x.editingElement||x.draggingElement)){z=z();if(null===z)return{commitToHistory:!1};var O=$i(d),da=z.elements,la=$i(da);d=d.filter(function(za){return!la.hasOwnProperty(za.id)});da=da.map(function(za){return zg(O[za.id]||
za,za)}).concat(d.map(function(za){return zg(za,{isDeleted:!0})}));return tj(da,d),{elements:da,appState:Bd(Bd({},x),z.appState),commitToHistory:!1,syncHistory:!0}}return{commitToHistory:!1}},um=function(){function d(x,z,O,da){var la=this;this.actions={};this.renderAction=function(za,xa){if(la.actions[za]&&"PanelComponent"in la.actions[za]){var Ga=la.actions[za];za=Ga.PanelComponent;return Ha().createElement(za,{elements:la.getElementsIncludingDeleted(),appState:la.getAppState(),updateData:function(Sa){la.updater(Ga.perform(la.getElementsIncludingDeleted(),
la.getAppState(),Sa,la.app))},id:xa})}return null};this.updater=function(za){if(!(za&&"then"in za))return x(za);za.then(function(xa){return x(xa)})};this.getAppState=z;this.getElementsIncludingDeleted=O;this.app=da}return d.prototype.registerAction=function(x){this.actions[x.name]=x},d.prototype.registerAll=function(x){var z=this;x.forEach(function(O){return z.registerAction(O)})},d.prototype.handleKeyDown=function(x){var z=this,O=Object.values(this.actions).sort(function(da,la){return(la.keyPriority||
0)-(da.keyPriority||0)}).filter(function(da){return da.keyTest&&da.keyTest(x,z.getAppState(),z.getElementsIncludingDeleted())});return 0!==O.length&&!(this.getAppState().viewModeEnabled&&!Object.values(hc.EH).includes(O[0].name))&&(x.preventDefault(),this.updater(O[0].perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app)),!0)},d.prototype.executeAction=function(x){this.updater(x.perform(this.getElementsIncludingDeleted(),this.getAppState(),null,this.app))},d}(),Tm=function(d){d=
Array.from(d.values());return{x:co(d,function(x){return x.x})/d.length,y:co(d,function(x){return x.y})/d.length}},bo=function(d){var x=d[0];d=d[1];return Math.hypot(x.x-d.x,x.y-d.y)},co=function(d,x){return d.reduce(function(z,O){return z+x(O)},0)},Po,kq=function(){function d(){var x=this;this.elementCache=new Map;this.recording=!0;this.stateHistory=[];this.redoStack=[];this.lastEntry=null;this.generateEntry=function(z,O){return x.dehydrateHistoryEntry({appState:{selectedElementIds:z.selectedElementIds,
viewBackgroundColor:z.viewBackgroundColor,editingLinearElement:z.editingLinearElement,editingGroupId:z.editingGroupId,name:z.name},elements:O.reduce(function(da,la){if(Hg(la)&&z.multiElement&&z.multiElement.id===la.id){if(z.multiElement&&z.multiElement.id===la.id&&2>la.points.length)return da;da.push(Oe(Oe({},la),{},{points:la.lastCommittedPoint!==la.points[la.points.length-1]?la.points.slice(0,-1):la.points}))}else da.push(la);return da},[])})}}return d.prototype.hydrateHistoryEntry=function(x){var z=
x.elements,O=this;return{appState:JSON.parse(x.appState),elements:z.map(function(da){var la,za=null===(la=O.elementCache.get(da.id))||void 0===la?void 0:la.get(da.versionNonce);if(!za)throw Error("Element not found: ".concat(da.id,":").concat(da.versionNonce));return za})}},d.prototype.dehydrateHistoryEntry=function(x){var z=x.elements,O=this;return{appState:JSON.stringify(x.appState),elements:z.map(function(da){O.elementCache.has(da.id)||O.elementCache.set(da.id,new Map);var la=O.elementCache.get(da.id);
return la.has(da.versionNonce)||la.set(da.versionNonce,Lj(da)),{id:da.id,versionNonce:da.versionNonce}})}},d.prototype.getSnapshotForTest=function(){var x=this;return{recording:this.recording,stateHistory:this.stateHistory.map(function(z){return x.hydrateHistoryEntry(z)}),redoStack:this.redoStack.map(function(z){return x.hydrateHistoryEntry(z)})}},d.prototype.clear=function(){this.stateHistory.length=0;this.redoStack.length=0;this.lastEntry=null;this.elementCache.clear()},d.prototype.shouldCreateEntry=
function(x){var z,O=this.lastEntry;if(!O||x.elements.length!==O.elements.length)return!0;for(var da=x.elements.length-1;-1<da;da--){var la=x.elements[da],za=O.elements[da];if(!la||!za||la.id!==za.id||la.versionNonce!==za.versionNonce)return!0}for(z in x.appState){var xa,Ga;if(("editingLinearElement"!==z||(null===(xa=x.appState[z])||void 0===xa?void 0:xa.elementId)!==(null===(Ga=O.appState[z])||void 0===Ga?void 0:Ga.elementId))&&"selectedElementIds"!==z&&x.appState[z]!==O.appState[z])return!0}return!1},
d.prototype.pushEntry=function(x,z){x=this.generateEntry(x,z);(z=this.hydrateHistoryEntry(x))&&this.shouldCreateEntry(z)&&(this.stateHistory.push(x),this.lastEntry=z,this.clearRedoStack())},d.prototype.clearRedoStack=function(){this.redoStack.splice(0,this.redoStack.length)},d.prototype.redoOnce=function(){if(0===this.redoStack.length)return null;var x=this.redoStack.pop();return void 0!==x?(this.stateHistory.push(x),this.hydrateHistoryEntry(x)):null},d.prototype.undoOnce=function(){if(1===this.stateHistory.length)return null;
var x=this.stateHistory.pop(),z=this.stateHistory[this.stateHistory.length-1];return void 0!==x?(this.redoStack.push(x),this.hydrateHistoryEntry(z)):null},d.prototype.setCurrentState=function(x,z){this.lastEntry=this.hydrateHistoryEntry(this.generateEntry(x,z))},d.prototype.resumeRecording=function(){this.recording=!0},d.prototype.record=function(x,z){this.recording&&(this.pushEntry(x,z),this.recording=!1)},d}(),wm=[{icon:Ha().createElement("svg",{viewBox:"0 0 320 512",className:""},Ha().createElement("path",
{d:"M302.189 329.126H196.105l55.831 135.993c3.889 9.428-.555 19.999-9.444 23.999l-49.165 21.427c-9.165 4-19.443-.571-23.332-9.714l-53.053-129.136-86.664 89.138C18.729 472.71 0 463.554 0 447.977V18.299C0 1.899 19.921-6.096 30.277 5.443l284.412 292.542c11.472 11.179 3.007 31.141-12.5 31.141z"})),value:"selection",key:["v","s"]},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512"},Ha().createElement("path",{d:"M400 32H48C21.5 32 0 53.5 0 80v352c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48V80c0-26.5-21.5-48-48-48z"})),
value:"rectangle",key:"r"},{icon:Ha().createElement("svg",{viewBox:"0 0 223.646 223.646"},Ha().createElement("path",{d:"M111.823 0L16.622 111.823 111.823 223.646 207.025 111.823z"})),value:"diamond",key:"d"},{icon:Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{d:"M256 8C119 8 8 119 8 256s111 248 248 248 248-111 248-248S393 8 256 8z"})),value:"ellipse",key:"e"},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512",className:"rtl-mirror"},Ha().createElement("path",{d:"M313.941 216H12c-6.627 0-12 5.373-12 12v56c0 6.627 5.373 12 12 12h301.941v46.059c0 21.382 25.851 32.09 40.971 16.971l86.059-86.059c9.373-9.373 9.373-24.569 0-33.941l-86.059-86.059c-15.119-15.119-40.971-4.411-40.971 16.971V216z"})),
value:"arrow",key:"a"},{icon:Ha().createElement("svg",{viewBox:"0 0 6 6"},Ha().createElement("line",{x1:"0",y1:"3",x2:"6",y2:"3",stroke:"currentColor",strokeLinecap:"round"})),value:"line",key:["p","l"]},{icon:Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{fill:"currentColor",d:"M290.74 93.24l128.02 128.02-277.99 277.99-114.14 12.6C11.35 513.54-1.56 500.62.14 485.34l12.7-114.22 277.9-277.88zm207.2-19.06l-60.11-60.11c-18.75-18.75-49.16-18.75-67.91 0l-56.55 56.55 128.02 128.02 56.55-56.55c18.75-18.76 18.75-49.16 0-67.91z"})),
value:"draw",key:"x"},{icon:Ha().createElement("svg",{viewBox:"0 0 448 512"},Ha().createElement("path",{d:"M432 416h-23.41L277.88 53.69A32 32 0 0 0 247.58 32h-47.16a32 32 0 0 0-30.3 21.69L39.41 416H16a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16h-19.58l23.3-64h152.56l23.3 64H304a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h128a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zM176.85 272L224 142.51 271.15 272z"})),value:"text",key:"t"}],Mo=(l(4518),{cut:[$d("CtrlOrCmd+X")],copy:[$d("CtrlOrCmd+C")],
paste:[$d("CtrlOrCmd+V")],copyStyles:[$d("CtrlOrCmd+Alt+C")],pasteStyles:[$d("CtrlOrCmd+Alt+V")],selectAll:[$d("CtrlOrCmd+A")],deleteSelectedElements:[$d("Del")],duplicateSelection:[$d("CtrlOrCmd+D"),$d("Alt+".concat(Ka("helpDialog.drag")))],sendBackward:[$d("CtrlOrCmd+[")],bringForward:[$d("CtrlOrCmd+]")],sendToBack:[$d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")],bringToFront:[$d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")],copyAsPng:[$d("Shift+Alt+C")],copyAsSvg:[],group:[$d("CtrlOrCmd+G")],ungroup:[$d("CtrlOrCmd+Shift+G")],
gridMode:[$d("CtrlOrCmd+'")],zenMode:[$d("Alt+Z")],stats:[],addToLibrary:[],viewMode:[$d("Alt+R")]}),hq=function(d){var x,z=d.options,O=d.onCloseRequest,da=d.top,la=d.left,za=d.actionManager,xa=d.appState;d=!(null===(x=document.querySelector(".excalidraw"))||void 0===x||!x.classList.contains("Appearance_dark"));return Ha().createElement("div",{className:xc("excalidraw",{"Appearance_dark Appearance_dark-background-none":d})},Ha().createElement(hb,{onCloseRequest:O,top:da,left:la,fitInViewport:!0},
Ha().createElement("ul",{className:"context-menu",onContextMenu:function(Ga){return Ga.preventDefault()}},z.map(function(Ga,Sa){var Ma;if("separator"===Ga)return Ha().createElement("hr",{key:Sa,className:"context-menu-option-separator"});var kb,qb=Ga.name,tb=Ga.contextItemLabel?Ka(Ga.contextItemLabel):"";return Ha().createElement("li",{key:Sa,"data-testid":qb,onClick:O},Ha().createElement("button",{className:xc("context-menu-option",{dangerous:"deleteSelectedElements"===qb,checkmark:null===(Ma=Ga.checked)||
void 0===Ma?void 0:Ma.call(Ga,xa)}),onClick:function(){return za.executeAction(Ga)}},Ha().createElement("div",{className:"context-menu-option__label"},tb),Ha().createElement("kbd",{className:"context-menu-option__shortcut"},qb?(kb=Mo[qb])&&0<kb.length?kb[0]:"":"")))}))))},Lo=function(){if(Po)return Po;var d=document.createElement("div");return document.body.appendChild(d),Po=d},Rm=function(){(0,$f.unmountComponentAtNode)(Lo())};const En=function(d){var x=[];d.options.forEach(function(z){z&&x.push(z)});
x.length&&(0,$f.render)(Ha().createElement(hq,{top:d.top,left:d.left,options:x,onCloseRequest:Rm,actionManager:d.actionManager,appState:d.appState}),Lo())};l(1575);const al=function(d){var x=d.children,z=d.gap,O=d.align,da=d.justifyContent,la=d.className;d=d.style;return Ha().createElement("div",{className:xc("Stack Stack_horizontal",la),style:Wc({"--gap":z,alignItems:O,justifyContent:da},d)},x)},bl=function(d){var x=d.children,z=d.gap,O=d.align,da=d.justifyContent;d=d.className;return Ha().createElement("div",
{className:xc("Stack Stack_vertical",d),style:{"--gap":z,justifyItems:O,justifyContent:da}},x)};var Yq=function(d){var x=d.appState,z=d.renderAction,O=d.elementType;d=kk(je(d.elements),x);x=!!x.editingElement;var da=Qe(),la="rtl"===document.documentElement.getAttribute("dir"),za=Oj(O)||d.some(function(Ga){return Oj(Ga.type)&&(Sa=Ga.backgroundColor,Ma=5===Sa.length&&"0"===Sa.substr(4,1),kb=9===Sa.length&&"00"===Sa.substr(7,2),!(Ma||kb||Sa===Ek.elementBackground[0]));var Sa,Ma,kb}),xa=Oj(O)||d.some(function(Ga){return Oj(Ga.type)});
return Ha().createElement("div",{className:"panelColumn"},z("changeStrokeColor"),xa&&z("changeBackgroundColor"),za&&z("changeFillStyle"),(Wf(O)||d.some(function(Ga){return Wf(Ga.type)}))&&Ha().createElement(Ha().Fragment,null,z("changeStrokeWidth"),z("changeStrokeStyle"),z("changeSloppiness")),(rk(O)||d.some(function(Ga){return rk(Ga.type)}))&&Ha().createElement(Ha().Fragment,null,z("changeSharpness")),("text"===O||d.some(function(Ga){return"text"===Ga.type}))&&Ha().createElement(Ha().Fragment,null,
z("changeFontSize"),z("changeFontFamily"),z("changeTextAlign")),("arrow"===O||d.some(function(Ga){return"arrow"===Ga.type}))&&Ha().createElement(Ha().Fragment,null,z("changeArrowhead")),z("changeOpacity"),Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.layers")),Ha().createElement("div",{className:"buttonList"},z("sendToBack"),z("sendBackward"),z("bringToFront"),z("bringForward"))),1<d.length&&Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.align")),
Ha().createElement("div",{className:"buttonList"},la?Ha().createElement(Ha().Fragment,null,z("alignRight"),z("alignHorizontallyCentered"),z("alignLeft")):Ha().createElement(Ha().Fragment,null,z("alignLeft"),z("alignHorizontallyCentered"),z("alignRight")),2<d.length&&z("distributeHorizontally"),Ha().createElement("div",{className:"iconRow"},z("alignTop"),z("alignVerticallyCentered"),z("alignBottom"),2<d.length&&z("distributeVertically")))),!da&&!x&&0<d.length&&Ha().createElement("fieldset",null,Ha().createElement("legend",
null,Ka("labels.actions")),Ha().createElement("div",{className:"buttonList"},z("duplicateSelection"),z("deleteSelectedElements"),z("group"),z("ungroup"))))},Tr=Ha().createElement("svg",{viewBox:"0 0 512 512"},Ha().createElement("path",{d:"M296 32h192c13.255 0 24 10.745 24 24v160c0 13.255-10.745 24-24 24H296c-13.255 0-24-10.745-24-24V56c0-13.255 10.745-24 24-24zm-80 0H24C10.745 32 0 42.745 0 56v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V56c0-13.255-10.745-24-24-24zM0 296v160c0 13.255 10.745 24 24 24h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H24c-13.255 0-24 10.745-24 24zm296 184h192c13.255 0 24-10.745 24-24V296c0-13.255-10.745-24-24-24H296c-13.255 0-24 10.745-24 24v160c0 13.255 10.745 24 24 24z"})),
gq=function(d){var x=d.canvas,z=d.elementType,O=d.setAppState,da=d.isLibraryOpen;return Ha().createElement(Ha().Fragment,null,wm.map(function(la,za){var xa=la.value,Ga=la.icon,Sa=la.key;la=Ka("toolBar.".concat(xa));Sa="".concat(kj("string"==typeof Sa?Sa:Sa[0])," ").concat(Ka("helpDialog.or")," ").concat(za+1);return Ha().createElement(lf,{className:"Shape",key:xa,type:"radio",icon:Ga,checked:z===xa,name:"editor-current-shape",title:"".concat(kj(la)," — ").concat(Sa),keyBindingLabel:"".concat(za+1),
"aria-label":kj(la),"aria-keyshortcuts":Sa,"data-testid":xa,onChange:function(){O({elementType:xa,multiElement:null,selectedElementIds:{}});ui(x,xa);O({})}})}),Ha().createElement(lf,{className:"Shape ToolIcon_type_button__library",type:"button",icon:Tr,name:"editor-library",keyBindingLabel:"9","aria-keyshortcuts":"9",title:"".concat(kj(Ka("toolBar.library"))," — 9"),"aria-label":kj(Ka("toolBar.library")),onClick:function(){O({isLibraryOpen:!da})}}))},Sr=function(d){var x=d.renderAction;d=d.zoom;return Ha().createElement(bl,
{gap:1},Ha().createElement(al,{gap:1,align:"center"},x("zoomIn"),x("zoomOut"),x("resetZoom"),Ha().createElement("div",{style:{marginInlineStart:4}},(100*d.value).toFixed(0),"%")))},Xq=function(d){var x=d.appState,z=d.setAppState;d=d.actionManager;return Ha().createElement("div",{style:{display:"flex"}},d.renderAction("changeViewBackgroundColor"),Ha().createElement("div",{style:{marginInlineStart:"0.25rem"}},Ha().createElement(hk,{value:x.appearance,onChange:function(O){z({appearance:O})}})))};l(3211);
const Zq=function(d){var x=d.isCollaborating,z=d.collaboratorCount;d=d.onClick;return Ha().createElement(Ha().Fragment,null,Ha().createElement(lf,{className:xc("CollabButton",{"is-collaborating":x}),onClick:d,icon:Kl,type:"button",title:Ka("labels.liveCollaboration"),"aria-label":Ka("labels.liveCollaboration"),showAriaLabel:Qe()},0<z&&Ha().createElement("div",{className:"CollabButton-collaborators"},z)))};l(3040);l(7428);var hl=Ha().forwardRef(function(d,x){var z=d.children,O=d.padding,da=d.className;
d=d.style;return Ha().createElement("div",{className:xc("Island",da),style:xb({"--padding":O},d),ref:x},z)}),Ur=(l(205),function(d){var x=vp();return x?(0,$f.createPortal)(Ha().createElement("div",{className:xc("Modal",d.className),role:"dialog","aria-modal":"true",onKeyDown:function(z){"Escape"===z.key&&(z.nativeEvent.stopImmediatePropagation(),d.onCloseRequest())},"aria-labelledby":d.labelledBy},Ha().createElement("div",{className:"Modal__background",onClick:d.onCloseRequest}),Ha().createElement("div",
{className:"Modal__content",style:{"--max-width":"".concat(d.maxWidth,"px")}},d.children)),x):null}),vp=function(){var d=(0,kc.useState)(null),x=d[0],z=d[1];return(0,kc.useLayoutEffect)(function(){var O,da=!(null===(O=document.querySelector(".excalidraw"))||void 0===O||!O.classList.contains("Appearance_dark")),la=document.createElement("div");return la.classList.add("excalidraw","excalidraw-modal-container"),da&&(la.classList.add("Appearance_dark"),la.classList.add("Appearance_dark-background-none")),
document.body.appendChild(la),z(la),function(){document.body.removeChild(la)}},[]),x},M=function(d){var x=function(){var da=(0,kc.useState)(null),la=da[1];return[da[0],(0,kc.useCallback)(function(za){return la(za)},[])]}(),z=x[0];x=x[1];(0,kc.useEffect)(function(){if(z){var da=O(z);0<da.length&&!1!==d.autofocus&&(da[1]||da[0]).focus();var la=function(za){if("Tab"===za.key){var xa=O(z),Ga=document.activeElement,Sa=xa.findIndex(function(Ma){return Ma===Ga});0===Sa&&za.shiftKey?(xa[xa.length-1].focus(),
za.preventDefault()):Sa!==xa.length-1||za.shiftKey||(xa[0].focus(),za.preventDefault())}};return z.addEventListener("keydown",la),function(){return z.removeEventListener("keydown",la)}}},[z,d.autofocus]);var O=function(da){return(da=da.querySelectorAll("button, a, input, select, textarea, div[tabindex]"))?Array.from(da):[]};return Ha().createElement(Ur,{className:xc("Dialog",d.className),labelledBy:"dialog-title",maxWidth:d.small?550:800,onCloseRequest:d.onCloseRequest},Ha().createElement(hl,{ref:x},
Ha().createElement("h2",{id:"dialog-title",className:"Dialog__title"},Ha().createElement("span",{className:"Dialog__titleContent"},d.title),Ha().createElement("button",{className:"Modal__close",onClick:d.onCloseRequest,"aria-label":Ka("buttons.close")},Qe()?mh:uj)),Ha().createElement("div",{className:"Dialog__content"},d.children)))},W=function(d){var x=d.message,z=d.onClose,O=(0,kc.useState)(!!x);d=O[0];var da=O[1];O=Ha().useCallback(function(){da(!1);z&&z()},[z]);return Ha().createElement(Ha().Fragment,
null,d&&Ha().createElement(M,{small:!0,onCloseRequest:O,title:Ka("errorDialog.title")},Ha().createElement("div",null,x.split("\n").map(function(la){return Ha().createElement(Ha().Fragment,null,la,Ha().createElement("br",null))}))))},qa=(l(8623),[1,2,3]),La=qa.includes(devicePixelRatio)?devicePixelRatio:1,bb="filter"in document.createElement("canvas").getContext("2d"),ub=function(){return Ha().createElement("div",null,Ha().createElement("h3",null,Ka("canvasError.cannotShowPreview")),Ha().createElement("p",
null,Ha().createElement("span",null,Ka("canvasError.canvasTooBig"))),Ha().createElement("em",null,"(",Ka("canvasError.canvasTooBigTip"),")"))},Jb=function(d,x){(0,$f.unmountComponentAtNode)(x);x.innerHTML="";d instanceof HTMLCanvasElement?x.appendChild(d):(0,$f.render)(Ha().createElement(ub,null),x)},bc=function(d){var x=d.elements,z=d.appState,O=d.exportPadding,da=void 0===O?10:O;O=d.actionManager;var la=d.onExportToPng,za=d.onExportToSvg,xa=d.onExportToClipboard,Ga=d.onExportToBackend,Sa=lg(x,z);
d=(0,kc.useState)(La);var Ma=d[0],kb=d[1];d=(0,kc.useState)(Sa);var qb=d[0],tb=d[1],cc=(0,kc.useRef)(null),Xb=z.exportBackground,Ac=z.viewBackgroundColor,gd=z.shouldAddWatermark,kd=qb?wf(x,z):x;return(0,kc.useEffect)(function(){tb(Sa)},[Sa]),(0,kc.useEffect)(function(){var xd=cc.current;if(xd)try{var ne=vm(kd,z,{exportBackground:Xb,viewBackgroundColor:Ac,exportPadding:da,scale:Ma,shouldAddWatermark:gd});Lm(ne).then(function(){Jb(ne,xd)}).catch(function(me){console.error(me);Jb(new rn,xd)})}catch(me){console.error(me),
Jb(new rn,xd)}},[z,kd,Xb,da,Ac,Ma,gd]),Ha().createElement("div",{className:"ExportDialog"},Ha().createElement("div",{className:"ExportDialog__preview",ref:cc}),bb&&O.renderAction("exportWithDarkMode"),Ha().createElement(bl,{gap:2,align:"center"},Ha().createElement("div",{className:"ExportDialog__actions"},Ha().createElement(al,{gap:2},Ha().createElement(lf,{type:"button",label:"PNG",title:Ka("buttons.exportToPng"),"aria-label":Ka("buttons.exportToPng"),onClick:function(){return la(kd,Ma)}}),Ha().createElement(lf,
{type:"button",label:"SVG",title:Ka("buttons.exportToSvg"),"aria-label":Ka("buttons.exportToSvg"),onClick:function(){return za(kd,Ma)}}),Dk&&Ha().createElement(lf,{type:"button",icon:tk,title:Ka("buttons.copyPngToClipboard"),"aria-label":Ka("buttons.copyPngToClipboard"),onClick:function(){return xa(kd,Ma)}}),Ga&&Ha().createElement(lf,{type:"button",icon:tl,title:Ka("buttons.getShareableLink"),"aria-label":Ka("buttons.getShareableLink"),onClick:function(){return Ga(kd)}})),Ha().createElement("div",
{className:"ExportDialog__name"},O.renderAction("changeProjectName")),Ha().createElement(al,{gap:2},qa.map(function(xd){var ne=function(Re,Ne,gf,Dd){Re=Yn(Re,gf);Ne=Jm(Re,Ne,gf).map(function(ce){return Math.trunc(ce*Dd)});return[Ne[2],Ne[3]]}(kd,da,gd,xd),me=ne[0];ne=ne[1];me="".concat(Ka("buttons.scale")," ").concat(xd,"x (").concat(me,"x").concat(ne,")");return Ha().createElement(lf,{key:xd,size:"s",type:"radio",icon:"".concat(xd,"x"),name:"export-canvas-scale",title:me,"aria-label":me,id:"export-canvas-scale",
checked:xd===Ma,onChange:function(){return kb(xd)}})}))),O.renderAction("changeExportBackground"),Sa&&Ha().createElement("div",null,Ha().createElement("label",null,Ha().createElement("input",{type:"checkbox",checked:qb,onChange:function(xd){return tb(xd.currentTarget.checked)}})," ",Ka("labels.onlySelected"))),O.renderAction("changeExportEmbedScene"),O.renderAction("changeShouldAddWatermark")))},Cc=function(d){var x=d.elements,z=d.appState,O=d.exportPadding;O=void 0===O?10:O;var da=d.actionManager,
la=d.onExportToPng,za=d.onExportToSvg,xa=d.onExportToClipboard;d=d.onExportToBackend;var Ga=(0,kc.useState)(!1),Sa=Ga[0],Ma=Ga[1],kb=(0,kc.useRef)(null);Ga=Ha().useCallback(function(){var qb;Ma(!1);null===(qb=kb.current)||void 0===qb||qb.focus()},[]);return Ha().createElement(Ha().Fragment,null,Ha().createElement(lf,{onClick:function(){Ma(!0)},icon:wh,type:"button","aria-label":Ka("buttons.export"),showAriaLabel:Qe(),title:Ka("buttons.export"),ref:kb}),Sa&&Ha().createElement(M,{onCloseRequest:Ga,
title:Ka("buttons.export")},Ha().createElement(bc,{elements:x,appState:z,exportPadding:O,actionManager:da,onExportToPng:la,onExportToSvg:za,onExportToClipboard:xa,onExportToBackend:d,onCloseRequest:Ga})))},fd=(l(4193),function(d){var x=d.children,z=d.side;d=d.className;return Ha().createElement("div",{className:xc("FixedSideContainer","FixedSideContainer_side_".concat(z),d)},x)}),ve=Ha().memo(function(d){d=d.appearance;return Ha().createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"40",
height:"40",viewBox:"0 0 250 250",className:"github-corner rtl-mirror"},Ha().createElement("a",{href:"https://github.com/excalidraw/excalidraw",target:"_blank",rel:"noopener noreferrer","aria-label":"GitHub repository"},Ha().createElement("path",{d:"M0 0l115 115h15l12 27 108 108V0z",fill:"light"===d?Je.MA[6]:Je.MA[8]}),Ha().createElement("path",{className:"octo-arm",d:"M128 109c-15-9-9-19-9-19 3-7 2-11 2-11-1-7 3-2 3-2 4 5 2 11 2 11-3 10 5 15 9 16",style:{transformOrigin:"130px 106px"},fill:"light"===
d?Je.ix:Je.Sn}),Ha().createElement("path",{className:"octo-body",d:"M115 115s4 2 5 0l14-14c3-2 6-3 8-3-8-11-15-24 2-41 5-5 10-7 16-7 1-2 3-7 12-11 0 0 5 3 7 16 4 2 8 5 12 9s7 8 9 12c14 3 17 7 17 7-4 8-9 11-11 11 0 6-2 11-7 16-16 16-30 10-41 2 0 3-1 7-5 11l-12 11c-1 1 1 5 1 5z",fill:"light"===d?Je.ix:Je.Sn})))}),Bf=(l(9705),function(d){return(d=function(x){var z=x.appState,O=x.elements,da=z.elementType;x=z.isResizing;var la=z.isRotating,za=z.lastPointerDownWith,xa=null!==z.multiElement;if("arrow"===
da||"line"===da)return Ka(xa?"hints.linearElementMulti":"hints.linearElement");if("draw"===da)return Ka("hints.freeDraw");if("text"===da)return Ka("hints.text");O=wf(O,z);return x&&"mouse"===za&&1===O.length?(z=O[0],Hg(z)&&2===z.points.length?Ka("hints.lockAngle"):Ka("hints.resize")):la&&"mouse"===za?Ka("hints.rotate"):1===O.length&&Hg(O[0])?z.editingLinearElement?z.editingLinearElement.activePointIndex?Ka("hints.lineEditor_pointSelected"):Ka("hints.lineEditor_nothingSelected"):Ka("hints.lineEditor_info"):
null}({appState:d.appState,elements:d.elements}))?(d=$d(d),Ha().createElement("div",{className:"HintViewer"},Ha().createElement("span",null,d))):null}),Kd=(l(8465),l(8680),Ha().createElement("svg",{viewBox:"0 0 1792 1792"},Ha().createElement("path",{fill:"currentColor",d:"M1600 736v192q0 40-28 68t-68 28h-416v416q0 40-28 68t-68 28h-192q-40 0-68-28t-28-68v-416h-416q-40 0-68-28t-28-68v-192q0-40 28-68t68-28h416v-416q0-40 28-68t68-28h192q40 0 68 28t28 68v416h416q40 0 68 28t28 68z"}))),Ue=function(d){var x=
d.elements,z=d.pendingElements,O=d.onRemoveFromLibrary;d=d.onClick;var da=(0,kc.useRef)(null);(0,kc.useEffect)(function(){var Sa=x||z;if(Sa){var Ma=Pl(Sa,{exportBackground:!1,viewBackgroundColor:Je.ix,shouldAddWatermark:!1});Sa=0;for(var kb=da.current.children;Sa<kb.length;Sa++){var qb=kb[Sa];"svg"===qb.tagName&&da.current.removeChild(qb)}da.current.appendChild(Ma);var tb=da.current;return function(){tb.removeChild(Ma)}}},[x,z]);var la=(0,kc.useState)(!1),za=la[0],xa=la[1];la=Qe();var Ga=(za||la)&&
z&&Ha().createElement("div",{className:"library-unit__adder"},Kd);return Ha().createElement("div",{className:xc("library-unit",{"library-unit__active":x||z}),onMouseEnter:function(){return xa(!0)},onMouseLeave:function(){return xa(!1)}},Ha().createElement("div",{className:xc("library-unit__dragger",{"library-unit__pulse":!!z}),ref:da,draggable:!!x,onClick:x||z?d:void 0,onDragStart:function(Sa){xa(!1);Sa.dataTransfer.setData(hc.LO.excalidrawlib,JSON.stringify(x))}}),Ga,x&&(za||la)&&Ha().createElement("button",
{className:"library-unit__removeFromLibrary","aria-label":Ka("labels.removeFromLibrary"),onClick:O},uj))},Cf=Ha().createElement("svg",{width:"1792",height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg"},Ha().createElement("path",{d:"M640 768h512v-192q0-106-75-181t-181-75-181 75-75 181v192zm832 96v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h32v-192q0-184 132-316t316-132 316 132 132 316v192h32q40 0 68 28t28 68z"})),qf=Ha().createElement("svg",{width:"1792",
height:"1792",viewBox:"0 0 1792 1792",xmlns:"http://www.w3.org/2000/svg",className:"unlocked-icon rtl-mirror"},Ha().createElement("path",{d:"M1728 576v256q0 26-19 45t-45 19h-64q-26 0-45-19t-19-45v-256q0-106-75-181t-181-75-181 75-75 181v192h96q40 0 68 28t28 68v576q0 40-28 68t-68 28h-960q-40 0-68-28t-28-68v-576q0-40 28-68t68-28h672v-192q0-185 131.5-316.5t316.5-131.5 316.5 131.5 131.5 316.5z"})),Tc=function(d){return Ha().createElement("label",{className:xc("ToolIcon ToolIcon__lock ToolIcon_type_floating zen-mode-visibility",
"ToolIcon_size_".concat(d.size||"m"),{"zen-mode-visibility--hidden":d.zenModeEnabled}),title:"".concat(d.title," — Q")},Ha().createElement("input",{className:"ToolIcon_type_checkbox",type:"checkbox",name:d.name,id:d.id,onChange:d.onChange,checked:d.checked,"aria-label":d.title}),Ha().createElement("div",{className:"ToolIcon__icon"},d.checked?Cf:qf))},Hc=function(d){var x=d.heading,z=d.children;d=Vh()(d,["heading","children"]);var O=Ha().createElement("h2",{className:"visually-hidden",id:"".concat(x,
"-title")},Ka("headings.".concat(x)));return Ha().createElement("section",Ud()({},d,{"aria-labelledby":"".concat(x,"-title")}),"function"==typeof z?z(O):Ha().createElement(Ha().Fragment,null,O,z))},Sc=(l(3142),function(d){var x=d.children,z=d.className;d=d.mobile;return Ha().createElement("div",{className:xc("UserList",z,{UserList_mobile:d})},x)}),zd=function(d){var x=d.appState,z=d.elements,O=d.libraryMenu,da=d.actionManager,la=d.exportButton,za=d.setAppState,xa=d.onCollabButtonClick,Ga=d.onLockToggle,
Sa=d.canvas,Ma=d.isCollaborating,kb=d.renderCustomFooter;d=d.viewModeEnabled;return Ha().createElement(Ha().Fragment,null,!d&&Ha().createElement(fd,{side:"top",className:"App-top-bar"},Ha().createElement(Hc,{heading:"shapes"},function(qb){return Ha().createElement(bl,{gap:4,align:"center"},Ha().createElement(al,{gap:1},Ha().createElement(hl,{padding:1},qb,Ha().createElement(al,{gap:1},Ha().createElement(gq,{canvas:Sa,elementType:x.elementType,setAppState:za,isLibraryOpen:x.isLibraryOpen}))),Ha().createElement(Tc,
{checked:x.elementLocked,onChange:Ga,title:Ka("toolBar.lock")})),O)}),Ha().createElement(Bf,{appState:x,elements:z})),Ha().createElement("div",{className:"App-bottom-bar",style:{marginBottom:14,marginLeft:14,marginRight:14}},Ha().createElement(hl,{padding:0},"canvas"===x.openMenu?Ha().createElement(Hc,{className:"App-mobile-menu",heading:"canvasActions"},Ha().createElement("div",{className:"panelColumn"},Ha().createElement(bl,{gap:4},d?Ha().createElement(Ha().Fragment,null,da.renderAction("saveScene"),
da.renderAction("saveAsScene"),la):Ha().createElement(Ha().Fragment,null,da.renderAction("loadScene"),da.renderAction("saveScene"),da.renderAction("saveAsScene"),la,da.renderAction("clearCanvas"),xa&&Ha().createElement(Zq,{isCollaborating:Ma,collaboratorCount:x.collaborators.size,onClick:xa}),Ha().createElement(Xq,{actionManager:da,appState:x,setAppState:za})),null==kb?void 0:kb(!0),0<x.collaborators.size&&Ha().createElement("fieldset",null,Ha().createElement("legend",null,Ka("labels.collaborators")),
Ha().createElement(Sc,{mobile:!0},Array.from(x.collaborators).filter(function(qb){qb[0];return 0!==Object.keys(qb[1]).length}).map(function(qb){var tb=qb[0];qb[1];return Ha().createElement(Ha().Fragment,{key:tb},da.renderAction("goToCollaborator",tb))})))))):"shape"===x.openMenu&&!d&&th(x,z)?Ha().createElement(Hc,{className:"App-mobile-menu",heading:"selectedShapeActions"},Ha().createElement(Yq,{appState:x,elements:z,renderAction:da.renderAction,elementType:x.elementType})):null,Ha().createElement("footer",
{className:"App-toolbar"},d?Ha().createElement("div",{className:"App-toolbar-content"},da.renderAction("toggleCanvasMenu")):Ha().createElement("div",{className:"App-toolbar-content"},da.renderAction("toggleCanvasMenu"),da.renderAction("toggleEditMenu"),da.renderAction("undo"),da.renderAction("redo"),da.renderAction(x.multiElement?"finalize":"duplicateSelection"),da.renderAction("deleteSelectedElements")),x.scrolledOutside&&!x.openMenu&&Ha().createElement("button",{className:"scroll-back-to-content",
onClick:function(){za(function(qb){for(var tb=1;tb<arguments.length;tb++){var cc=null!=arguments[tb]?arguments[tb]:{};tb%2?yd(Object(cc),!0).forEach(function(Xb){Qc()(qb,Xb,cc[Xb])}):Object.getOwnPropertyDescriptors?Object.defineProperties(qb,Object.getOwnPropertyDescriptors(cc)):yd(Object(cc)).forEach(function(Xb){Object.defineProperty(qb,Xb,Object.getOwnPropertyDescriptor(cc,Xb))})}return qb}({},mi(z,x)))}},Ka("buttons.scrollBackToContent"))))))},Gd=(l(8416),function(d){var x=(0,kc.useRef)(null),
z=(0,kc.useState)(null),O=z[0],da=z[1];return(0,kc.useLayoutEffect)(function(){if(d.spreadsheet){var la=Wn(d.chartType,d.spreadsheet,0,0);da(la);var za=Pl(la,{exportBackground:!1,viewBackgroundColor:Je.ix,shouldAddWatermark:!1}),xa=x.current;return xa.appendChild(za),d.selected&&xa.parentNode.focus(),function(){xa.removeChild(za)}}},[d.spreadsheet,d.chartType,d.selected]),Ha().createElement("button",{className:"ChartPreview",onClick:function(){O&&d.onClick(d.chartType,O)}},Ha().createElement("div",
{ref:x}))}),Jf=function(d){var x=d.setAppState,z=d.appState,O=d.onClose,da=d.onInsertChart;d=Ha().useCallback(function(){O&&O()},[O]);var la=function(za,xa){da(xa);Wg("magic","chart",za);x({currentChartType:za,pasteDialog:{shown:!1,data:null}})};return Ha().createElement(M,{small:!0,onCloseRequest:d,title:Ka("labels.pasteCharts"),className:"PasteChartDialog",autofocus:!1},Ha().createElement("div",{className:"container"},Ha().createElement(Gd,{chartType:"bar",spreadsheet:z.pasteDialog.data,selected:"bar"===
z.currentChartType,onClick:la}),Ha().createElement(Gd,{chartType:"line",spreadsheet:z.pasteDialog.data,selected:"line"===z.currentChartType,onClick:la})))},Ke=(l(341),function(){return Ha().createElement("div",{className:"HelpDialog--header"},Ha().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw#documentation",target:"_blank",rel:"noopener noreferrer"},Ka("helpDialog.documentation")),Ha().createElement("a",{className:"HelpDialog--btn",href:"https://blog.excalidraw.com",
target:"_blank",rel:"noopener noreferrer"},Ka("helpDialog.blog")),Ha().createElement("a",{className:"HelpDialog--btn",href:"https://github.com/excalidraw/excalidraw/issues",target:"_blank",rel:"noopener noreferrer"},Ka("helpDialog.github")))}),Kf=function(d){return Ha().createElement(Ha().Fragment,null,Ha().createElement("h3",null,d.title),d.children)},og=function(d){return Ha().createElement("div",{style:{display:"flex",flexDirection:"row",flexWrap:"wrap",justifyContent:"space-between"}},d.children)},
Of=function(d){return Ha().createElement("div",{style:{width:"49%"}},d.children)},tm=function(d){return Ha().createElement("div",{className:"HelpDialog--island"},Ha().createElement("h3",{className:"HelpDialog--island-title"},d.caption),d.children)},vf=function(d){return Ha().createElement("div",{className:"HelpDialog--shortcut"},Ha().createElement("div",{style:{display:"flex",margin:"0",padding:"4px 8px",alignItems:"center"}},Ha().createElement("div",{style:{lineHeight:1.4}},d.label),Ha().createElement("div",
{style:{display:"flex",flex:"0 0 auto",justifyContent:"flex-end",marginInlineStart:"auto",minWidth:"30%"}},d.shortcuts.map(function(x,z){return Ha().createElement(Ha().Fragment,{key:z},Ha().createElement(au,null,x),d.isOr&&z!==d.shortcuts.length-1&&Ka("helpDialog.or"))}))))};vf.defaultProps={isOr:!0};var au=function(d){return Ha().createElement("kbd",Ud()({className:"HelpDialog--key"},d))},bu=function(d){var x=d.onClose;d=Ha().useCallback(function(){x&&x()},[x]);return Ha().createElement(Ha().Fragment,
null,Ha().createElement(M,{onCloseRequest:d,title:Ka("helpDialog.title"),className:"HelpDialog"},Ha().createElement(Ke,null),Ha().createElement(Kf,{title:Ka("helpDialog.shortcuts")},Ha().createElement(og,null,Ha().createElement(Of,null,Ha().createElement(tm,{caption:Ka("helpDialog.shapes")},Ha().createElement(vf,{label:Ka("toolBar.selection"),shortcuts:["V","1"]}),Ha().createElement(vf,{label:Ka("toolBar.rectangle"),shortcuts:["R","2"]}),Ha().createElement(vf,{label:Ka("toolBar.diamond"),shortcuts:["D",
"3"]}),Ha().createElement(vf,{label:Ka("toolBar.ellipse"),shortcuts:["E","4"]}),Ha().createElement(vf,{label:Ka("toolBar.arrow"),shortcuts:["A","5"]}),Ha().createElement(vf,{label:Ka("toolBar.line"),shortcuts:["P","6"]}),Ha().createElement(vf,{label:Ka("toolBar.draw"),shortcuts:["Shift+P","7"]}),Ha().createElement(vf,{label:Ka("toolBar.text"),shortcuts:["T","8"]}),Ha().createElement(vf,{label:Ka("helpDialog.textNewLine"),shortcuts:[$d("Enter"),$d("Shift+Enter")]}),Ha().createElement(vf,{label:Ka("helpDialog.textFinish"),
shortcuts:[$d("Esc"),$d("CtrlOrCmd+Enter")]}),Ha().createElement(vf,{label:Ka("helpDialog.curvedArrow"),shortcuts:["A",Ka("helpDialog.click"),Ka("helpDialog.click"),Ka("helpDialog.click")],isOr:!1}),Ha().createElement(vf,{label:Ka("helpDialog.curvedLine"),shortcuts:["L",Ka("helpDialog.click"),Ka("helpDialog.click"),Ka("helpDialog.click")],isOr:!1}),Ha().createElement(vf,{label:Ka("toolBar.lock"),shortcuts:["Q"]}),Ha().createElement(vf,{label:Ka("helpDialog.preventBinding"),shortcuts:[$d("CtrlOrCmd")]})),
Ha().createElement(tm,{caption:Ka("helpDialog.view")},Ha().createElement(vf,{label:Ka("buttons.zoomIn"),shortcuts:[$d("CtrlOrCmd++")]}),Ha().createElement(vf,{label:Ka("buttons.zoomOut"),shortcuts:[$d("CtrlOrCmd+-")]}),Ha().createElement(vf,{label:Ka("buttons.resetZoom"),shortcuts:[$d("CtrlOrCmd+0")]}),Ha().createElement(vf,{label:Ka("helpDialog.zoomToFit"),shortcuts:["Shift+1"]}),Ha().createElement(vf,{label:Ka("helpDialog.zoomToSelection"),shortcuts:["Shift+2"]}),Ha().createElement(vf,{label:Ka("buttons.fullScreen"),
shortcuts:["F"]}),Ha().createElement(vf,{label:Ka("buttons.zenMode"),shortcuts:[$d("Alt+Z")]}),Ha().createElement(vf,{label:Ka("labels.showGrid"),shortcuts:[$d("CtrlOrCmd+'")]}),Ha().createElement(vf,{label:Ka("labels.viewMode"),shortcuts:[$d("Alt+R")]}))),Ha().createElement(Of,null,Ha().createElement(tm,{caption:Ka("helpDialog.editor")},Ha().createElement(vf,{label:Ka("labels.selectAll"),shortcuts:[$d("CtrlOrCmd+A")]}),Ha().createElement(vf,{label:Ka("labels.multiSelect"),shortcuts:[$d("Shift+".concat(Ka("helpDialog.click")))]}),
Ha().createElement(vf,{label:Ka("labels.moveCanvas"),shortcuts:[$d("Space+".concat(Ka("helpDialog.drag"))),$d("Wheel+".concat(Ka("helpDialog.drag")))],isOr:!0}),Ha().createElement(vf,{label:Ka("labels.cut"),shortcuts:[$d("CtrlOrCmd+X")]}),Ha().createElement(vf,{label:Ka("labels.copy"),shortcuts:[$d("CtrlOrCmd+C")]}),Ha().createElement(vf,{label:Ka("labels.paste"),shortcuts:[$d("CtrlOrCmd+V")]}),Ha().createElement(vf,{label:Ka("labels.copyAsPng"),shortcuts:[$d("Shift+Alt+C")]}),Ha().createElement(vf,
{label:Ka("labels.copyStyles"),shortcuts:[$d("CtrlOrCmd+Alt+C")]}),Ha().createElement(vf,{label:Ka("labels.pasteStyles"),shortcuts:[$d("CtrlOrCmd+Alt+V")]}),Ha().createElement(vf,{label:Ka("labels.delete"),shortcuts:[$d("Del")]}),Ha().createElement(vf,{label:Ka("labels.sendToBack"),shortcuts:[$d(Mg?"CtrlOrCmd+Alt+[":"CtrlOrCmd+Shift+[")]}),Ha().createElement(vf,{label:Ka("labels.bringToFront"),shortcuts:[$d(Mg?"CtrlOrCmd+Alt+]":"CtrlOrCmd+Shift+]")]}),Ha().createElement(vf,{label:Ka("labels.sendBackward"),
shortcuts:[$d("CtrlOrCmd+[")]}),Ha().createElement(vf,{label:Ka("labels.bringForward"),shortcuts:[$d("CtrlOrCmd+]")]}),Ha().createElement(vf,{label:Ka("labels.alignTop"),shortcuts:[$d("CtrlOrCmd+Shift+Up")]}),Ha().createElement(vf,{label:Ka("labels.alignBottom"),shortcuts:[$d("CtrlOrCmd+Shift+Down")]}),Ha().createElement(vf,{label:Ka("labels.alignLeft"),shortcuts:[$d("CtrlOrCmd+Shift+Left")]}),Ha().createElement(vf,{label:Ka("labels.alignRight"),shortcuts:[$d("CtrlOrCmd+Shift+Right")]}),Ha().createElement(vf,
{label:Ka("labels.duplicateSelection"),shortcuts:[$d("CtrlOrCmd+D"),$d("Alt+".concat(Ka("helpDialog.drag")))]}),Ha().createElement(vf,{label:Ka("buttons.undo"),shortcuts:[$d("CtrlOrCmd+Z")]}),Ha().createElement(vf,{label:Ka("buttons.redo"),shortcuts:Jj?[$d("CtrlOrCmd+Y"),$d("CtrlOrCmd+Shift+Z")]:[$d("CtrlOrCmd+Shift+Z")]}),Ha().createElement(vf,{label:Ka("labels.group"),shortcuts:[$d("CtrlOrCmd+G")]}),Ha().createElement(vf,{label:Ka("labels.ungroup"),shortcuts:[$d("CtrlOrCmd+Shift+G")]})))))))},Xr=
function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,
(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},
trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},Ss=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},$t=function(d){var x=d.library,z=d.onRemoveFromLibrary,O=d.onAddToLibrary,da=d.onInsertShape,la=d.pendingElements,za=d.setAppState,xa=d.setLibraryItems;d=Qe()?4:6;var Ga=Math.max(1,Math.ceil((x.length+(0<la.length?1:0))/d)),Sa=[],Ma=!1;Sa.push(Ha().createElement("div",{className:"layer-ui__library-header"},
Ha().createElement(lf,{key:"import",type:"button",title:Ka("buttons.load"),"aria-label":Ka("buttons.load"),icon:om,onClick:function(){pp().then(function(){za({isLibraryOpen:!1})}).catch(Gk).catch(function(Ac){za({errorMessage:Ac.message})})}}),Ha().createElement(lf,{key:"export",type:"button",title:Ka("buttons.export"),"aria-label":Ka("buttons.export"),icon:wh,onClick:function(){sm().catch(Gk).catch(function(Ac){za({errorMessage:Ac.message})})}}),Ha().createElement(lf,{key:"reset",type:"button",title:Ka("buttons.resetLibrary"),
"aria-label":Ka("buttons.resetLibrary"),icon:Ri,onClick:function(){window.confirm(Ka("alerts.resetLibrary"))&&(rh.resetLibrary(),xa([]))}}),Ha().createElement("a",{href:"https://libraries.excalidraw.com",target:"_excalidraw_libraries"},Ka("labels.libraries"))));for(var kb=0;kb<Ga;kb++){for(var qb=d*kb,tb=[],cc=0;cc<d;cc++){var Xb=0<la.length&&!Ma&&qb+cc>=x.length;Ma=Ma||Xb;tb.push(Ha().createElement(bl,{key:cc},Ha().createElement(Ue,{elements:x[qb+cc],pendingElements:Xb?la:void 0,onRemoveFromLibrary:z.bind(null,
qb+cc),onClick:Xb?O.bind(null,la):da.bind(null,x[qb+cc])})))}Sa.push(Ha().createElement(al,{align:"center",gap:1,key:kb},tb))}return Ha().createElement(bl,{align:"start",gap:1,className:"layer-ui__library-items"},Sa)},Yt=function(d){var x=d.onClickOutside,z=d.onInsertShape,O=d.pendingElements,da=d.onAddToLibrary;d=d.setAppState;var la=(0,kc.useRef)(null);!function(tb,cc){(0,kc.useEffect)(function(){var Xb=function(Ac){tb.current&&(Ac.target instanceof Element&&(tb.current.contains(Ac.target)||!document.body.contains(Ac.target))||
cc(Ac))};return document.addEventListener("pointerdown",Xb,!1),function(){document.removeEventListener("pointerdown",Xb)}},[tb,cc])}(la,function(tb){tb.target.closest(".ToolIcon_type_button__library")||x(tb)});var za=(0,kc.useState)([]),xa=za[0],Ga=za[1],Sa=(0,kc.useState)("preloading");za=Sa[0];var Ma=Sa[1],kb=(0,kc.useRef)(null);(0,kc.useEffect)(function(){return Promise.race([new Promise(function(tb){kb.current=setTimeout(function(){tb("loading")},100)}),rh.loadLibrary().then(function(tb){Ga(tb);
Ma("ready")})]).then(function(tb){"loading"===tb&&Ma("loading")}),function(){clearTimeout(kb.current)}},[]);Sa=(0,kc.useCallback)(function(){var tb=Rc()(function(cc){var Xb,Ac;return Xr(this,function(gd){switch(gd.label){case 0:return[4,rh.loadLibrary()];case 1:return Xb=gd.sent(),Ac=Xb.filter(function(kd,xd){return xd!==cc}),rh.saveLibrary(Ac),Ga(Ac),[2]}})});return function(cc){return tb.apply(this,arguments)}}(),[]);var qb=(0,kc.useCallback)(function(){var tb=Rc()(function(cc){var Xb,Ac;return Xr(this,
function(gd){switch(gd.label){case 0:return[4,rh.loadLibrary()];case 1:return Xb=gd.sent(),Ac=Ss(Ss([],Xb),[cc]),da(),rh.saveLibrary(Ac),Ga(Ac),[2]}})});return function(cc){return tb.apply(this,arguments)}}(),[da]);return"preloading"===za?null:Ha().createElement(hl,{padding:1,ref:la,className:"layer-ui__library"},"loading"===za?Ha().createElement("div",{className:"layer-ui__library-message"},Ka("labels.libraryLoadingMessage")):Ha().createElement($t,{library:xa,onRemoveFromLibrary:Sa,onAddToLibrary:qb,
onInsertShape:z,pendingElements:O,setAppState:d,setLibraryItems:Ga}))};const Zt=Ha().memo(function(d){var x,z=d.actionManager,O=d.appState,da=d.setAppState,la=d.canvas,za=d.elements,xa=d.onCollabButtonClick,Ga=d.onLockToggle,Sa=d.onInsertElements,Ma=d.zenModeEnabled,kb=d.showExitZenModeBtn,qb=d.toggleZenMode,tb=d.isCollaborating,cc=d.onExportToBackend,Xb=d.renderCustomFooter;d=d.viewModeEnabled;var Ac=Qe(),gd=function(){var me=function(Re){return function(){var Ne=Rc()(function(gf,Dd){return Xr(this,
function(ce){switch(ce.label){case 0:return la?[4,Bc(Re,gf,O,la,{exportBackground:O.exportBackground,name:O.name,viewBackgroundColor:O.viewBackgroundColor,scale:Dd,shouldAddWatermark:O.shouldAddWatermark}).catch(Gk).catch(function(le){console.error(le);da({errorMessage:le.message})})]:[3,2];case 1:ce.sent(),ce.label=2;case 2:return[2]}})});return function(gf,Dd){return Ne.apply(this,arguments)}}()};return Ha().createElement(Cc,{elements:za,appState:O,actionManager:z,onExportToPng:me("png"),onExportToSvg:me("svg"),
onExportToClipboard:me("clipboard"),onExportToBackend:cc?function(Re){cc&&cc(Re,O,la)}:void 0})},kd=(0,kc.useCallback)(function(me){da({isLibraryOpen:!1})},[da]),xd=(0,kc.useCallback)(function(){da({selectedElementIds:{},selectedGroupIds:{}})},[da]),ne=O.isLibraryOpen?Ha().createElement(Yt,{pendingElements:wf(za,O),onClickOutside:kd,onInsertShape:Sa,onAddToLibrary:xd,setAppState:da}):null;Sa=Ha().createElement(Ha().Fragment,null,O.isLoading&&Ha().createElement(sb,null),O.errorMessage&&Ha().createElement(W,
{message:O.errorMessage,onClose:function(){return da({errorMessage:null})}}),O.showHelpDialog&&Ha().createElement(bu,{onClose:function(){return da({showHelpDialog:!1})}}),O.pasteDialog.shown&&Ha().createElement(Jf,{setAppState:da,appState:O,onInsertChart:Sa,onClose:function(){return da({pasteDialog:{shown:!1,data:null}})}}));return Ac?Ha().createElement(Ha().Fragment,null,Sa,Ha().createElement(zd,{appState:O,elements:za,actionManager:z,libraryMenu:ne,exportButton:gd(),setAppState:da,onCollabButtonClick:xa,
onLockToggle:Ga,canvas:la,isCollaborating:tb,renderCustomFooter:Xb,viewModeEnabled:d})):Ha().createElement("div",{className:xc("layer-ui__wrapper",{"disable-pointerEvents":O.draggingElement||O.resizingElement||O.editingElement&&!fe(O.editingElement)})},Sa,(x=th(O,za),Ha().createElement(fd,{side:"top"},Ha().createElement("div",{className:"App-menu App-menu_top"},Ha().createElement(bl,{gap:4,className:xc({"disable-pointerEvents":Ma})},d?Ha().createElement(Hc,{heading:"canvasActions",className:xc("zen-mode-transition",
{"transition-left":Ma})},Ha().createElement(hl,{padding:2,style:{zIndex:1}},Ha().createElement(bl,{gap:4},Ha().createElement(al,{gap:1,justifyContent:"space-between"},z.renderAction("saveScene"),z.renderAction("saveAsScene"),gd())))):Ha().createElement(Hc,{heading:"canvasActions",className:xc("zen-mode-transition",{"transition-left":Ma})},Ha().createElement(hl,{padding:2,style:{zIndex:1}},Ha().createElement(bl,{gap:4},Ha().createElement(al,{gap:1,justifyContent:"space-between"},z.renderAction("loadScene"),
z.renderAction("saveScene"),z.renderAction("saveAsScene"),gd(),z.renderAction("clearCanvas"),xa&&Ha().createElement(Zq,{isCollaborating:tb,collaboratorCount:O.collaborators.size,onClick:xa})),Ha().createElement(Xq,{actionManager:z,appState:O,setAppState:da})))),x&&Ha().createElement(Hc,{heading:"selectedShapeActions",className:xc("zen-mode-transition",{"transition-left":Ma})},Ha().createElement(hl,{className:hc.$C.SHAPE_ACTIONS_MENU,padding:2,style:{maxHeight:"".concat(O.height-200,"px")}},Ha().createElement(Yq,
{appState:O,elements:za,renderAction:z.renderAction,elementType:O.elementType})))),!d&&Ha().createElement(Hc,{heading:"shapes"},function(me){return Ha().createElement(bl,{gap:4,align:"start"},Ha().createElement(al,{gap:1},Ha().createElement(hl,{padding:1,className:xc({"zen-mode":Ma})},Ha().createElement(Bf,{appState:O,elements:za}),me,Ha().createElement(al,{gap:1},Ha().createElement(gq,{canvas:la,elementType:O.elementType,setAppState:da,isLibraryOpen:O.isLibraryOpen}))),Ha().createElement(Tc,{zenModeEnabled:Ma,
checked:O.elementLocked,onChange:Ga,title:Ka("toolBar.lock")})),ne)}),Ha().createElement(Sc,{className:xc("zen-mode-transition",{"transition-right":Ma})},0<O.collaborators.size&&Array.from(O.collaborators).filter(function(me){me[0];return 0!==Object.keys(me[1]).length}).map(function(me){var Re=me[0];me=me[1];return Ha().createElement(Gj,{label:me.username||"Unknown user",key:Re},z.renderAction("goToCollaborator",Re))}))))),Ha().createElement("div",{className:xc("App-menu App-menu_bottom zen-mode-transition",
{"App-menu_bottom--transition-left":Ma})},Ha().createElement(bl,{gap:2},Ha().createElement(Hc,{heading:"canvasActions"},Ha().createElement(hl,{padding:1},Ha().createElement(Sr,{renderAction:z.renderAction,zoom:O.zoom})),Ha().createElement("a",{className:xc("encrypted-icon tooltip zen-mode-visibility",{"zen-mode-visibility--hidden":Ma}),href:"https://blog.excalidraw.com/end-to-end-encryption/",target:"_blank",rel:"noopener noreferrer"},Ha().createElement(Gj,{label:Ka("encrypted.tooltip"),position:"above",
long:!0},Zd))))),Ha().createElement("aside",{className:xc("layer-ui__wrapper__github-corner zen-mode-transition",{"transition-right":Ma})},Ha().createElement(ve,{appearance:O.appearance})),Ha().createElement("footer",{role:"contentinfo",className:"layer-ui__wrapper__footer"},Ha().createElement("div",{className:xc("zen-mode-transition",{"transition-right disable-pointerEvents":Ma})},null==Xb?void 0:Xb(!1),z.renderAction("toggleShortcuts")),Ha().createElement("button",{className:xc("disable-zen-mode",
{"disable-zen-mode--visible":kb}),onClick:qb},Ka("buttons.exitZenMode"))),O.scrolledOutside&&Ha().createElement("button",{className:"scroll-back-to-content",onClick:function(){da(function(me){for(var Re=1;Re<arguments.length;Re++){var Ne=null!=arguments[Re]?arguments[Re]:{};Re%2?ff(Object(Ne),!0).forEach(function(gf){Qc()(me,gf,Ne[gf])}):Object.getOwnPropertyDescriptors?Object.defineProperties(me,Object.getOwnPropertyDescriptors(Ne)):ff(Object(Ne)).forEach(function(gf){Object.defineProperty(me,gf,
Object.getOwnPropertyDescriptor(Ne,gf))})}return me}({},mi(za,O)))}},Ka("buttons.scrollBackToContent")))},function(d,x){var z=function(la){la.suggestedBindings;la.startBoundElement;return Vh()(la,["suggestedBindings","startBoundElement"])},O=z(d.appState),da=z(x.appState);z=Object.keys(O);return d.renderCustomFooter===x.renderCustomFooter&&d.langCode===x.langCode&&d.elements===x.elements&&z.every(function(la){return O[la]===da[la]})});var Rs=function(){try{var d=localStorage.getItem("excalidraw");
return d?JSON.stringify(d).length:0}catch(x){return console.error(x),0}},cu=(l(7287),function(d,x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];
Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,
Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za}),Ts=ti(function(d){var x=Rs();try{var z=localStorage.getItem("excalidraw-state"),O=localStorage.getItem("excalidraw-collab"),da=localStorage.getItem(hc.I.LOCAL_STORAGE_LIBRARY);var la=(z?JSON.stringify(z).length:0)+(O?JSON.stringify(O).length:0)+(da?JSON.stringify(da).length:0)+
Rs()}catch(za){la=(console.error(za),0)}d({scene:x,total:la})},500),eu=function(d){var x=Qe(),z=(0,kc.useState)({scene:0,total:0}),O=z[0],da=z[1];(0,kc.useEffect)(function(){Ts(function(Sa){da(Sa)})});(0,kc.useEffect)(function(){return function(){return Ts.cancel()}},[]);z=Dg(d.elements);var la=kk(d.elements,d.appState),za=Dg(la);if(x&&d.appState.openMenu)return null;var xa,Ga;x=Lf();return x!==hc.eQ?(Ga=x.slice(0,16).replace("T"," "),xa=x.slice(21)):Ga=Ka("stats.versionNotAvailable"),Ha().createElement("div",
{className:"Stats"},Ha().createElement(hl,{padding:2},Ha().createElement("div",{className:"close",onClick:d.onClose},uj),Ha().createElement("h3",null,Ka("stats.title")),Ha().createElement("table",null,Ha().createElement("tbody",null,Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},Ka("stats.scene"))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.elements")),Ha().createElement("td",null,d.elements.length)),Ha().createElement("tr",null,Ha().createElement("td",null,
Ka("stats.width")),Ha().createElement("td",null,Math.round(z[2])-Math.round(z[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.height")),Ha().createElement("td",null,Math.round(z[3])-Math.round(z[1]))),Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},Ka("stats.storage"))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.scene")),Ha().createElement("td",null,xl(O.scene,1))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.total")),
Ha().createElement("td",null,xl(O.total,1))),1===la.length&&Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},Ka("stats.element"))),1<la.length&&Ha().createElement(Ha().Fragment,null,Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},Ka("stats.selected"))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.elements")),Ha().createElement("td",null,la.length))),0<la.length&&Ha().createElement(Ha().Fragment,null,Ha().createElement("tr",null,Ha().createElement("td",
null,"x"),Ha().createElement("td",null,Math.round(1===la.length?la[0].x:za[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,"y"),Ha().createElement("td",null,Math.round(1===la.length?la[0].y:za[1]))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.width")),Ha().createElement("td",null,Math.round(1===la.length?la[0].width:za[2]-za[0]))),Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.height")),Ha().createElement("td",null,Math.round(1===la.length?
la[0].height:za[3]-za[1])))),1===la.length&&Ha().createElement("tr",null,Ha().createElement("td",null,Ka("stats.angle")),Ha().createElement("td",null,"".concat(Math.round(180*la[0].angle/Math.PI),"°"))),Ha().createElement("tr",null,Ha().createElement("th",{colSpan:2},Ka("stats.version"))),Ha().createElement("tr",null,Ha().createElement("td",{colSpan:2,style:{textAlign:"center",cursor:"pointer"},onClick:Rc()(function(){return cu(this,function(Sa){switch(Sa.label){case 0:return Sa.trys.push([0,2,,3]),
[4,Kb(Lf())];case 1:return Sa.sent(),d.setAppState({toastMessage:Ka("toast.copyToClipboard")}),[3,3];case 2:return Sa.sent(),[3,3];case 3:return[2]}})}),title:Ka("stats.versionCopy")},Ga,Ha().createElement("br",null),xa))))))},fu=(l(5849),function(d){var x=d.message,z=d.clearToast,O=(0,kc.useRef)(0),da=(0,kc.useCallback)(function(){return O.current=window.setTimeout(function(){return z()},hc.Lg)},[z]);return(0,kc.useEffect)(function(){return da(),function(){return clearTimeout(O.current)}},[da,x]),
Ha().createElement("div",{className:"Toast",onMouseEnter:function(){return clearTimeout(null==O?void 0:O.current)},onMouseLeave:da},Ha().createElement("p",{className:"Toast__message"},x))}),Us=re({name:"viewMode",perform:function(d,x){return Wg("view","mode","view"),{appState:Tf(Tf({},x),{},{viewModeEnabled:!this.checked(x),selectedElementIds:{}}),commitToHistory:!1}},checked:function(d){return d.viewModeEnabled},contextItemLabel:"labels.viewMode",keyTest:function(d){return!d[ef]&&d.altKey&&"KeyR"===
d.code}}),gu=function(){var d=function(x,z){return(d=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(O,da){O.__proto__=da}||function(O,da){for(var la in da)Object.prototype.hasOwnProperty.call(da,la)&&(O[la]=da[la])})(x,z)};return function(x,z){function O(){this.constructor=x}if("function"!=typeof z&&null!==z)throw new TypeError("Class extends value "+String(z)+" is not a constructor or null");d(x,z);x.prototype=null===z?Object.create(z):(O.prototype=z.prototype,new O)}}(),dp=function(d,
x){function z(Ga){return function(Sa){return function(Ma){if(O)throw new TypeError("Generator is already executing.");for(;xa;)try{if(O=1,da&&(la=2&Ma[0]?da.return:Ma[0]?da.throw||((la=da.return)&&la.call(da),0):da.next)&&!(la=la.call(da,Ma[1])).done)return la;switch(da=0,la&&(Ma=[2&Ma[0],la.value]),Ma[0]){case 0:case 1:la=Ma;break;case 4:return xa.label++,{value:Ma[1],done:!1};case 5:xa.label++;da=Ma[1];Ma=[0];continue;case 7:Ma=xa.ops.pop();xa.trys.pop();continue;default:if(!(la=xa.trys,(la=0<la.length&&
la[la.length-1])||6!==Ma[0]&&2!==Ma[0])){xa=0;continue}if(3===Ma[0]&&(!la||Ma[1]>la[0]&&Ma[1]<la[3]))xa.label=Ma[1];else if(6===Ma[0]&&xa.label<la[1])xa.label=la[1],la=Ma;else if(la&&xa.label<la[2])xa.label=la[2],xa.ops.push(Ma);else{la[2]&&xa.ops.pop();xa.trys.pop();continue}}Ma=x.call(d,xa)}catch(kb){Ma=[6,kb],da=0}finally{O=la=0}if(5&Ma[0])throw Ma[1];return{value:Ma[0]?Ma[1]:void 0,done:!0}}([Ga,Sa])}}var O,da,la,za,xa={label:0,sent:function(){if(1&la[0])throw la[1];return la[1]},trys:[],ops:[]};
return za={next:z(0),throw:z(1),return:z(2)},"function"==typeof Symbol&&(za[Symbol.iterator]=function(){return this}),za},jh=function(d,x){for(var z=0,O=x.length,da=d.length;z<O;z++,da++)d[da]=x[z];return d},nk=new kq,wq=!1,Zr=0,Jp=0,Kp=0,ep=!1,xq=!1,$r=!1,Yr={horizontal:null,vertical:null},go=0,lq=!1,ho=null,Bl=new Map,wp=null,ar=null,zp=null,Wr=function(d){function x(z){var O=this;var da=O=d.call(this,z)||this;Vt.call(O);var la,za,xa,Ga=Fh(),Sa=z.width,Ma=void 0===Sa?window.innerWidth:Sa;Sa=z.height;
var kb=void 0===Sa?window.innerHeight:Sa,qb=z.offsetLeft,tb=z.offsetTop;Sa=z.excalidrawRef;var cc=z.viewModeEnabled;cc=void 0!==cc&&cc;var Xb=z.zenModeEnabled;Xb=void 0!==Xb&&Xb;z=z.gridModeEnabled;z=void 0!==z&&z;if(O.state=Wa(Wa(Wa({},Ga),{},{isLoading:!0,width:Ma,height:kb},O.getCanvasOffsets({offsetLeft:qb,offsetTop:tb})),{},{viewModeEnabled:cc,zenModeEnabled:Xb,gridSize:z?hc.k:null}),Sa){var Ac;Ga="current"in Sa&&(null===(Ac=Sa.current)||void 0===Ac?void 0:Ac.readyPromise)||((xa=new Promise(function(gd,
kd){la=gd;za=kd})).resolve=la,xa.reject=za,xa);xa={ready:!0,readyPromise:Ga,updateScene:O.updateScene,resetScene:O.resetScene,getSceneElementsIncludingDeleted:O.getSceneElementsIncludingDeleted,history:{clear:O.resetHistory},setScrollToCenter:O.setScrollToCenter,getSceneElements:O.getSceneElements,getAppState:function(){return da.state}};"function"==typeof Sa?Sa(xa):Sa.current=xa;Ga.resolve(xa)}return O.scene=new Ah,O.actionManager=new um(O.syncActionResult,function(){return da.state},function(){return da.scene.getElementsIncludingDeleted()},
O),O.actionManager.registerAll(kg),O.actionManager.registerAction({name:"undo",perform:function(gd,kd){return sp(gd,kd,function(){return nk.undoOnce()})},keyTest:function(gd){return gd[ef]&&"z"===gd.key.toLowerCase()&&!gd.shiftKey},PanelComponent:function(gd){gd=gd.updateData;return Ha().createElement(lf,{type:"button",icon:nh,"aria-label":Ka("buttons.undo"),onClick:gd})},commitToHistory:function(){return!1}}),O.actionManager.registerAction(function(gd){return{name:"redo",perform:function(kd,xd){return sp(kd,
xd,function(){return gd.redoOnce()})},keyTest:function(kd){return kd[ef]&&kd.shiftKey&&"z"===kd.key.toLowerCase()||Jj&&kd.ctrlKey&&!kd.shiftKey&&"y"===kd.key},PanelComponent:function(kd){kd=kd.updateData;return Ha().createElement(lf,{type:"button",icon:Fj,"aria-label":Ka("buttons.redo"),onClick:kd})},commitToHistory:function(){return!1}}}(nk)),O}return gu(x,d),x.prototype.renderCanvas=function(){var z=window.devicePixelRatio,O=this.state,da=O.width,la=O.height,za=da*z;z*=la;return O.viewModeEnabled?
Ha().createElement("canvas",{id:"canvas",style:{width:da,height:la,cursor:"grabbing"},width:za,height:z,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onPointerDown:this.handleCanvasPointerDown},Ka("labels.drawingCanvas")):Ha().createElement("canvas",{id:"canvas",style:{width:da,height:la},width:za,height:z,ref:this.handleCanvasRef,onContextMenu:this.handleCanvasContextMenu,
onPointerDown:this.handleCanvasPointerDown,onDoubleClick:this.handleCanvasDoubleClick,onPointerMove:this.handleCanvasPointerMove,onPointerUp:this.removePointer,onPointerCancel:this.removePointer,onTouchMove:this.handleTouchMove,onDrop:this.handleCanvasOnDrop},Ka("labels.drawingCanvas"))},x.prototype.render=function(){var z,O=this,da=this.state,la=da.zenModeEnabled,za=da.width,xa=da.height;da=da.viewModeEnabled;var Ga=this.props,Sa=Ga.onCollabButtonClick,Ma=Ga.onExportToBackend;Ga=Ga.renderFooter;
var kb=za/2,qb=xa/2;return Ha().createElement("div",{className:xc("excalidraw",{"excalidraw--view-mode":da}),ref:this.excalidrawContainerRef,style:{width:za,height:xa}},Ha().createElement(Zt,{canvas:this.canvas,appState:this.state,setAppState:this.setAppState,actionManager:this.actionManager,elements:this.scene.getElements(),onCollabButtonClick:Sa,onLockToggle:this.toggleLock,onInsertElements:function(tb){return O.addElementsFromPasteOrLibrary(tb,kb,qb)},zenModeEnabled:la,toggleZenMode:this.toggleZenMode,
langCode:J.code,isCollaborating:this.props.isCollaborating||!1,onExportToBackend:Ma,renderCustomFooter:Ga,viewModeEnabled:da,showExitZenModeBtn:void 0===(null===(z=this.props)||void 0===z?void 0:z.zenModeEnabled)&&la}),Ha().createElement("div",{className:"excalidraw-textEditorContainer"}),this.state.showStats&&Ha().createElement(eu,{appState:this.state,setAppState:this.setAppState,elements:this.scene.getElements(),onClose:this.toggleStats}),null!==this.state.toastMessage&&Ha().createElement(fu,{message:this.state.toastMessage,
clearToast:this.clearToast}),Ha().createElement("main",null,this.renderCanvas()))},x.prototype.componentDidMount=function(){var z=this;return Rc()(function(){return dp(this,function(O){return"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(z.setState.bind(z),Object.defineProperties(window.h,{state:{configurable:!0,get:function(){return z.state}},setState:{configurable:!0,value:function(){for(var da=[],la=0;la<arguments.length;la++)da[la]=arguments[la];return z.setState.apply(z,da)}},
app:{configurable:!0,value:z}})),z.scene.addCallback(z.onSceneUpdated),z.addEventListeners(),"number"==typeof z.props.offsetLeft&&"number"==typeof z.props.offsetTop?z.initializeScene():z.setState(z.getCanvasOffsets(z.props),function(){z.initializeScene()}),[2]})})()},x.prototype.componentWillUnmount=function(){this.unmounted=!0;this.removeEventListeners();this.scene.destroy();clearTimeout(go);go=0},x.prototype.removeEventListeners=function(){document.removeEventListener(hc.Ks.COPY,this.onCopy);document.removeEventListener(hc.Ks.PASTE,
this.pasteFromClipboard);document.removeEventListener(hc.Ks.CUT,this.onCut);document.removeEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.removeEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition,!1);document.removeEventListener(hc.Ks.KEYUP,this.onKeyUp);window.removeEventListener(hc.Ks.RESIZE,this.onResize,!1);window.removeEventListener(hc.Ks.UNLOAD,this.onUnload,!1);window.removeEventListener(hc.Ks.BLUR,this.onBlur,!1);window.removeEventListener(hc.Ks.DRAG_OVER,this.disableEvent,
!1);window.removeEventListener(hc.Ks.DROP,this.disableEvent,!1);document.removeEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.removeEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.removeEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1)},x.prototype.addEventListeners=function(){var z,O;this.removeEventListeners();document.addEventListener(hc.Ks.COPY,this.onCopy);document.addEventListener(hc.Ks.KEYDOWN,this.onKeyDown,!1);document.addEventListener(hc.Ks.KEYUP,
this.onKeyUp,{passive:!0});document.addEventListener(hc.Ks.MOUSE_MOVE,this.updateCurrentCursorPosition);null===(z=document.fonts)||void 0===z||null===(O=z.addEventListener)||void 0===O||O.call(z,"loadingdone",this.onFontLoaded);document.addEventListener(hc.Ks.GESTURE_START,this.onGestureStart,!1);document.addEventListener(hc.Ks.GESTURE_CHANGE,this.onGestureChange,!1);document.addEventListener(hc.Ks.GESTURE_END,this.onGestureEnd,!1);this.state.viewModeEnabled||(document.addEventListener(hc.Ks.PASTE,
this.pasteFromClipboard),document.addEventListener(hc.Ks.CUT,this.onCut),document.addEventListener(hc.Ks.SCROLL,this.onScroll),window.addEventListener(hc.Ks.RESIZE,this.onResize,!1),window.addEventListener(hc.Ks.UNLOAD,this.onUnload,!1),window.addEventListener(hc.Ks.BLUR,this.onBlur,!1),window.addEventListener(hc.Ks.DRAG_OVER,this.disableEvent,!1),window.addEventListener(hc.Ks.DROP,this.disableEvent,!1))},x.prototype.componentDidUpdate=function(z,O){var da,la,za,xa,Ga=this;(z.langCode!==this.props.langCode&&
this.updateLanguage(),z.width!==this.props.width||z.height!==this.props.height||"number"==typeof this.props.offsetLeft&&z.offsetLeft!==this.props.offsetLeft||"number"==typeof this.props.offsetTop&&z.offsetTop!==this.props.offsetTop)&&this.setState(Wa({width:null!==(za=this.props.width)&&void 0!==za?za:window.innerWidth,height:null!==(xa=this.props.height)&&void 0!==xa?xa:window.innerHeight},this.getCanvasOffsets(this.props)));z.viewModeEnabled!==this.props.viewModeEnabled&&this.setState({viewModeEnabled:!!this.props.viewModeEnabled},
this.addEventListeners);O.viewModeEnabled!==this.state.viewModeEnabled&&this.addEventListeners();z.zenModeEnabled!==this.props.zenModeEnabled&&this.setState({zenModeEnabled:!!this.props.zenModeEnabled});z.gridModeEnabled!==this.props.gridModeEnabled&&this.setState({gridSize:this.props.gridModeEnabled?hc.k:null});null===(da=document.querySelector(".excalidraw"))||void 0===da||da.classList.toggle("Appearance_dark","dark"===this.state.appearance);this.state.editingLinearElement&&!this.state.selectedElementIds[this.state.editingLinearElement.elementId]&&
setTimeout(function(){Ga.actionManager.executeAction(Mf)});z=O.multiElement;O.elementType!==this.state.elementType&&null!=z&&this.state.isBindingEnabled&&pg(z)&&jk(z,this.state,this.scene,Fg(dg.getPointAtIndexGlobalCoordinates(z,-1)));var Sa={},Ma={},kb={},qb={},tb={};this.state.collaborators.forEach(function(Ac,gd){if(Ac.selectedElementIds)for(var kd=0,xd=Object.keys(Ac.selectedElementIds);kd<xd.length;kd++){var ne=xd[kd];ne in kb||(kb[ne]=[]);kb[ne].push(gd)}Ac.pointer&&(Ac.username&&(qb[gd]=Ac.username),
Ac.userState&&(tb[gd]=Ac.userState),Ma[gd]=oh({sceneX:Ac.pointer.x,sceneY:Ac.pointer.y},Ga.state),Sa[gd]=Ac.button)});O=this.scene.getElements();da=kn(O.filter(function(Ac){return!Ga.state.editingElement||"text"!==Ga.state.editingElement.type||Ac.id!==Ga.state.editingElement.id}),this.state,this.state.selectionElement,window.devicePixelRatio,this.rc,this.canvas,{scrollX:this.state.scrollX,scrollY:this.state.scrollY,viewBackgroundColor:this.state.viewBackgroundColor,zoom:this.state.zoom,remotePointerViewportCoords:Ma,
remotePointerButton:Sa,remoteSelectedElementIds:kb,remotePointerUsernames:qb,remotePointerUserStates:tb,shouldCacheIgnoreZoom:this.state.shouldCacheIgnoreZoom},{renderOptimizations:!0,renderScrollbars:!xg().matches});z=da.atLeastOneVisibleElement;(da=da.scrollBars)&&(Yr=da);var cc,Xb;O="text"!==(null===(la=this.state.editingElement)||void 0===la?void 0:la.type)&&!z&&0<O.length;(this.state.scrolledOutside!==O&&this.setState({scrolledOutside:O}),nk.record(this.state,this.scene.getElementsIncludingDeleted()),
this.state.isLoading)||null===(cc=(Xb=this.props).onChange)||void 0===cc||cc.call(Xb,this.scene.getElementsIncludingDeleted(),this.state)},x.resetTapTwice=function(){wq=!1},x.prototype.addTextFromPaste=function(z){var O,da=vg({clientX:Jp,clientY:Kp},this.state);z=Kj({x:da.x,y:da.y,strokeColor:this.state.currentItemStrokeColor,backgroundColor:this.state.currentItemBackgroundColor,fillStyle:this.state.currentItemFillStyle,strokeWidth:this.state.currentItemStrokeWidth,strokeStyle:this.state.currentItemStrokeStyle,
roughness:this.state.currentItemRoughness,opacity:this.state.currentItemOpacity,strokeSharpness:this.state.currentItemStrokeSharpness,text:z,fontSize:this.state.currentItemFontSize,fontFamily:this.state.currentItemFontFamily,textAlign:this.state.currentItemTextAlign,verticalAlign:hc.hs});this.scene.replaceAllElements(jh(jh([],this.scene.getElementsIncludingDeleted()),[z]));this.setState({selectedElementIds:(O={},O[z.id]=!0,O)});nk.resumeRecording()},x.prototype.selectShapeTool=function(z){var O;ep||
ui(this.canvas,z);(O=document.activeElement)instanceof HTMLElement&&O.className.includes("ToolIcon")&&document.activeElement.blur();hj(z)||this.setState({suggestedBindings:[]});"selection"!==z?this.setState({elementType:z,selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}):this.setState({elementType:z})},x.prototype.handleTextWysiwyg=function(z,O){O=O.isExistingElement;var da=void 0!==O&&O,la=this,za=function(xa,Ga){void 0===Ga&&(Ga=!1);la.scene.replaceAllElements(jh([],la.scene.getElementsIncludingDeleted().map(function(Sa){if(Sa.id===
z.id&&fe(Sa)){var Ma=Ga;Ma={text:xa,isDeleted:null!=Ma?Ma:Sa.isDeleted};var kb=Wi(xa,Vi(Sa));var qb=kb.width;var tb=kb.height;kb=kb.baseline;var cc=Sa.textAlign;var Xb=Sa.verticalAlign;if("center"===cc&&"middle"===Xb)cc=Wi(Sa.text,Vi(Sa)),Xb=Xh(Sa,{width:qb-cc.width,height:tb-cc.height}),cc=Sa.x-Xb.x,Xb=Sa.y-Xb.y;else{var Ac=jg(Sa);Xb=Ac[0];var gd=Ac[1],kd=Ac[2];Ac=Ac[3];var xd=Tg(Sa,qb,tb);cc=(Xb=Zf({s:!0,e:"center"===cc||"left"===cc,w:"center"===cc||"right"===cc},Sa.x,Sa.y,Sa.angle,(Xb-xd[0])/2,
(gd-xd[1])/2,(kd-xd[2])/2,(Ac-xd[3])/2))[0];Xb=Xb[1]}qb={width:qb,height:tb,x:Number.isFinite(cc)?cc:Sa.x,y:Number.isFinite(Xb)?Xb:Sa.y,baseline:kb};Sa=zg(Sa,Oa(Ma,qb))}return Sa})))};!function(xa){var Ga=xa.id,Sa=xa.appState,Ma=xa.onChange,kb=xa.onSubmit,qb=xa.getViewportCoords,tb=xa.element;xa=xa.canvas;var cc=function(){var Ne,gf=null===(Ne=Ah.getScene(tb))||void 0===Ne?void 0:Ne.getElement(Ga);if(gf&&fe(gf)){Ne=qb(gf.x,gf.y);var Dd=Ne[0],ce=Ne[1];Ne=gf.textAlign;var le=gf.angle;Xb.value=gf.text;
var $e=gf.text.replace(/\r\n?/g,"\n").split("\n"),Gh=gf.height/$e.length;$e=(Sa.offsetLeft+Sa.width-Dd-8)/Sa.zoom.value-Number(getComputedStyle(document.querySelector(".excalidraw").parentNode).marginRight.slice(0,-2));var $h=Object,Bj=$h.assign,cj=Xb.style,Vl=Vi(gf);Gh="".concat(Gh,"px");var un="".concat(gf.width,"px"),fm="".concat(gf.height,"px");Dd="".concat(Dd,"px");ce="".concat(ce,"px");var vn=gf.width;var Wm=Sa.zoom,fo=180*le/Math.PI;le=(vn-2*Sa.offsetLeft)*(Wm.value-1)/2;var Xm=(gf.height-
2*Sa.offsetTop)*(Wm.value-1)/2;vn=(vn>$e&&1!==Wm.value&&(le=$e/2*(Wm.value-1)),"translate(".concat(le,"px, ").concat(Xm,"px) scale(").concat(Wm.value,") rotate(").concat(fo,"deg)"));Bj.call($h,cj,{font:Vl,lineHeight:Gh,width:un,height:fm,left:Dd,top:ce,transform:vn,textAlign:Ne,color:gf.strokeColor,opacity:gf.opacity/100,filter:"var(--appearance-filter)",maxWidth:"".concat($e,"px")})}},Xb=document.createElement("textarea");Xb.dir="auto";Xb.tabIndex=0;Xb.dataset.type="wysiwyg";Xb.wrap="off";Object.assign(Xb.style,
{position:"absolute",display:"inline-block",minHeight:"1em",backfaceVisibility:"hidden",margin:0,padding:0,border:0,outline:0,resize:"none",background:"transparent",overflow:"hidden",whiteSpace:"pre",zIndex:"var(--zIndex-wysiwyg)"});cc();Ma&&(Xb.oninput=function(){Ma(sl(Xb.value))});Xb.onkeydown=function(Ne){"Escape"===Ne.key?(Ne.preventDefault(),gd()):"Enter"===Ne.key&&Ne[ef]?(Ne.preventDefault(),Ne.isComposing||229===Ne.keyCode)||gd():"Enter"!==Ne.key||Ne.altKey||Ne.stopPropagation()};var Ac=function(Ne){Ne.preventDefault();
Ne.stopPropagation()},gd=function(){kb(sl(Xb.value));me||(me=!0,Xb.onblur=null,Xb.oninput=null,Xb.onkeydown=null,Re&&Re.disconnect(),window.removeEventListener("resize",cc),window.removeEventListener("wheel",Ac,!0),window.removeEventListener("pointerdown",xd),window.removeEventListener("pointerup",kd),window.removeEventListener("blur",gd),ne(),Xb.remove())},kd=function(){window.removeEventListener("pointerup",kd);setTimeout(function(){Xb.onblur=gd;Xb.focus()})},xd=function(Ne){Ne.target instanceof
HTMLElement&&Ne.target.closest(".".concat(hc.$C.SHAPE_ACTIONS_MENU))&&!Eg(Ne.target)&&(Xb.onblur=null,window.addEventListener("pointerup",kd),window.addEventListener("blur",gd))},ne=Ah.getScene(tb).addCallback(function(){cc();Xb.focus()}),me=!1;Xb.onblur=gd;var Re=null;xa&&"ResizeObserver"in window?(Re=new window.ResizeObserver(function(){cc()})).observe(xa):window.addEventListener("resize",cc);window.addEventListener("pointerdown",xd);window.addEventListener("wheel",Ac,{passive:!1,capture:!0});document.querySelector(".excalidraw-textEditorContainer").appendChild(Xb);
Xb.focus();Xb.select()}({id:z.id,appState:this.state,canvas:this.canvas,getViewportCoords:function(xa,Ga){xa=oh({sceneX:xa,sceneY:Ga},la.state);return[xa.x-la.state.offsetLeft,xa.y-la.state.offsetTop]},onChange:bg(function(xa){za(xa);!z.isDeleted&&Ai(z)}),onSubmit:bg(function(xa){var Ga=!xa.trim();za(xa,Ga);Ga?tj(la.scene.getElements(),[z]):la.setState(function(Sa){var Ma;return{selectedElementIds:Wa(Wa({},Sa.selectedElementIds),{},(Ma={},Ma[z.id]=!0,Ma))}});Ga&&!da||nk.resumeRecording();la.setState({draggingElement:null,
editingElement:null});la.state.elementLocked&&ui(la.canvas,la.state.elementType)}),element:z});this.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});za(z.text)},x.prototype.getTextElementAtPosition=function(z,O){return(z=this.getElementAtPosition(z,O))&&fe(z)&&!z.isDeleted?z:null},x.prototype.getElementAtPosition=function(z,O){var da=this.getElementsAtPosition(z,O);if(1<da.length){var la=da[da.length-1];return Lk(la,this.state,z,O)?da[da.length-2]:la}return 1===da.length?
da[0]:null},x.prototype.getElementsAtPosition=function(z,O){var da,la,za=this;return da=this.scene.getElements(),la=function(xa){var Ga=za.state,Sa=10/Ga.zoom.value,Ma=[z,O];return Ga.selectedElementIds[xa.id]?Rl(xa,Ma,Sa):fk(xa,Ga,Ma)},da.filter(function(xa){return!xa.isDeleted&&la(xa)})},x.prototype.maybeCleanupAfterMissingPointerUp=function(z){null!==ho&&ho(z)},x.prototype.updateGestureOnPointerDown=function(z){Bl.set(z.pointerId,{x:z.clientX,y:z.clientY});2===Bl.size&&(wp=Tm(Bl),zp=this.state.zoom.value,
ar=bo(Array.from(Bl.values())))},x.prototype.initialPointerDownState=function(z){var O=vg(z,this.state),da=wf(this.scene.getElements(),this.state),la=Dg(da),za=la[0],xa=la[1],Ga=la[2];la=la[3];return{origin:O,originInGrid:Fg(ri(O.x,O.y,this.state.gridSize)),scrollbars:ki(Yr,z.clientX-this.state.offsetLeft,z.clientY-this.state.offsetTop),lastCoords:Wa({},O),originalElements:this.scene.getElements().reduce(function(Sa,Ma){return Sa.set(Ma.id,Lj(Ma)),Sa},new Map),resize:{handleType:!1,isResizing:!1,
offset:{x:0,y:0},arrowDirection:"origin",center:{x:(Ga+za)/2,y:(la+xa)/2}},hit:{element:null,allHitElements:[],wasAddedToSelection:!1,hasBeenDuplicated:!1,hasHitCommonBoundingBoxOfSelectedElements:this.isHittingCommonBoundingBoxOfSelectedElements(O,da)},drag:{hasOccurred:!1,offset:null},eventListeners:{onMove:null,onUp:null,onKeyUp:null,onKeyDown:null}}},x.prototype.handleDraggingScrollBar=function(z,O){var da=this;if(!O.scrollbars.isOverEither||this.state.multiElement)return!1;$r=!0;O.lastCoords.x=
z.clientX;O.lastCoords.y=z.clientY;var la=bg(function(xa){xa.target instanceof HTMLElement&&da.handlePointerMoveOverScrollbars(xa,O)}),za=bg(function(){$r=!1;ui(da.canvas,da.state.elementType);ho=null;da.setState({cursorButton:"up"});da.savePointer(z.clientX,z.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,la);window.removeEventListener(hc.Ks.POINTER_UP,za)});return ho=za,window.addEventListener(hc.Ks.POINTER_MOVE,la),window.addEventListener(hc.Ks.POINTER_UP,za),!0},x.prototype.isASelectedElement=
function(z){return null!=z&&this.state.selectedElementIds[z.id]},x.prototype.isHittingCommonBoundingBoxOfSelectedElements=function(z,O){if(2>O.length)return!1;var da=10/this.state.zoom.value;O=Dg(O);var la=O[1],za=O[2],xa=O[3];return z.x>O[0]-da&&z.x<za+da&&z.y>la-da&&z.y<xa+da},x.prototype.onKeyDownFromPointerDownHandler=function(z){var O=this;return bg(function(da){O.maybeHandleResize(z,da)||O.maybeDragNewGenericElement(z,da)})},x.prototype.onKeyUpFromPointerDownHandler=function(z){var O=this;return bg(function(da){"Alt"===
da.key&&da.preventDefault();O.maybeHandleResize(z,da)||O.maybeDragNewGenericElement(z,da)})},x.prototype.onPointerMoveFromPointerDownHandler=function(z){var O=this;return bg(function(da){if(null===z.drag.offset&&(z.drag.offset=Fg(function(kd,xd,ne){kd=Dg(kd);return[xd-kd[0],ne-kd[1]]}(wf(O.scene.getElements(),O.state),z.origin.x,z.origin.y))),da.target instanceof HTMLElement&&!O.handlePointerMoveOverScrollbars(da,z)){var la=vg(da,O.state),za=ri(la.x,la.y,O.state.gridSize),xa=za[0];za=za[1];if(z.drag.hasOccurred||
"arrow"!==O.state.elementType&&"line"!==O.state.elementType||!(Math.hypot(z.origin.x-la.x,z.origin.y-la.y)<hc.f)){if(z.resize.isResizing&&(z.lastCoords.x=la.x,z.lastCoords.y=la.y,O.maybeHandleResize(z,da)))return!0;if(O.state.editingLinearElement&&dg.handlePointDragging(O.state,function(kd){return O.setState(kd)},la.x,la.y,function(kd,xd){O.maybeSuggestBindingForLinearElementAtCursor(kd,xd,la)}))return z.lastCoords.x=la.x,void(z.lastCoords.y=la.y);if(z.hit.allHitElements.some(function(kd){return O.isASelectedElement(kd)})||
z.hit.hasHitCommonBoundingBoxOfSelectedElements){z.drag.hasOccurred=!0;var Ga=wf(O.scene.getElements(),O.state);if(0<Ga.length){xa=ri(la.x-z.drag.offset.x,la.y-z.drag.offset.y,O.state.gridSize);var Sa=xa[0];xa=xa[1];za=[Math.abs(la.x-z.origin.x),Math.abs(la.y-z.origin.y)];if(function(kd,xd,ne,me,Re,Ne,gf,Dd){void 0===Ne&&(Ne=!1);void 0===gf&&(gf=0);void 0===Dd&&(Dd=0);Re=Dg(xd);var ce=ne-Re[0],le=me-Re[1];xd.forEach(function($e){if(Ne){var Gh=Ne&&gf<Dd;var $h=Ne&&gf>Dd;var Bj=kd.originalElements.get($e.id);
Gh=Gh&&Bj?Bj.x:$e.x+ce;$h=$h&&Bj?Bj.y:$e.y+le}else Gh=$e.x+ce,$h=$e.y+le;nf($e,{x:Gh,y:$h});Ai($e,{simultaneouslyUpdated:xd})})}(z,Ga,Sa,xa,O.scene,da.shiftKey,za[0],za[1]),O.maybeSuggestBindingForAll(Ga),da.altKey&&!z.hit.hasBeenDuplicated){z.hit.hasBeenDuplicated=!0;Ga=[];da=[];var Ma=new Map;za=new Map;for(var kb=z.hit.element,qb=0,tb=O.scene.getElementsIncludingDeleted();qb<tb.length;qb++){var cc=tb[qb];if(O.state.selectedElementIds[cc.id]||cc.id===(null==kb?void 0:kb.id)&&z.hit.wasAddedToSelection){var Xb=
Yi(O.state.editingGroupId,Ma,cc),Ac=ri(z.origin.x-z.drag.offset.x,z.origin.y-z.drag.offset.y,O.state.gridSize);nf(Xb,{x:Xb.x+(Ac[0]-Sa),y:Xb.y+(Ac[1]-xa)});Ga.push(Xb);da.push(cc);za.set(cc.id,Xb.id)}else Ga.push(cc)}Sa=jh(jh([],Ga),da);Uj(Sa,da,za,"duplicatesServeAsOld");O.scene.replaceAllElements(Sa)}return}}if(Ga=O.state.draggingElement)if(Hg(Ga)?(z.drag.hasOccurred=!0,Ma=Ga.points,qb=kb=void 0,"draw"===Ga.type?(kb=la.x-Ga.x,qb=la.y-Ga.y):(kb=xa-Ga.x,qb=za-Ga.y),da.shiftKey&&2===Ma.length&&(kb=
(Sa=Ye(O.state.elementType,kb,qb)).width,qb=Sa.height),1===Ma.length?nf(Ga,{points:jh(jh([],Ma),[[kb,qb]])}):1<Ma.length&&("draw"===Ga.type?nf(Ga,{points:S(jh(jh([],Ma),[[kb,qb]]),.7/O.state.zoom.value)}):nf(Ga,{points:jh(jh([],Ma.slice(0,-1)),[[kb,qb]])})),pg(Ga)&&O.maybeSuggestBindingForLinearElementAtCursor(Ga,"end",la,O.state.startBoundElement)):(z.lastCoords.x=la.x,z.lastCoords.y=la.y,O.maybeDragNewGenericElement(z,da)),"selection"===O.state.elementType){Sa=O.scene.getElements();!da.shiftKey&&
lg(Sa,O.state)&&O.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null});var gd=function(kd,xd){xd=jg(xd);var ne=xd[0],me=xd[1],Re=xd[2],Ne=xd[3];return kd.filter(function(gf){var Dd=si(gf),ce=Dd[0],le=Dd[1],$e=Dd[2];Dd=Dd[3];return"selection"!==gf.type&&ne<=ce&&me<=le&&Re>=$e&&Ne>=Dd})}(Sa,Ga);O.setState(function(kd){return Wh(Wa(Wa({},kd),{},{selectedElementIds:Wa(Wa({},kd.selectedElementIds),gd.reduce(function(xd,ne){return xd[ne.id]=!0,xd},{}))}),O.scene.getElements())})}}}})},
x.prototype.handlePointerMoveOverScrollbars=function(z,O){return O.scrollbars.isOverHorizontal?(z=z.clientX,this.setState({scrollX:this.state.scrollX-(z-O.lastCoords.x)/this.state.zoom.value}),O.lastCoords.x=z,!0):O.scrollbars.isOverVertical?(z=z.clientY,this.setState({scrollY:this.state.scrollY-(z-O.lastCoords.y)/this.state.zoom.value}),O.lastCoords.y=z,!0):!1},x.prototype.onPointerUpFromPointerDownHandler=function(z){var O=this;return bg(function(da){var la=O.state,za=la.draggingElement,xa=la.resizingElement,
Ga=la.multiElement,Sa=la.elementType,Ma=la.elementLocked,kb=la.isResizing;la=la.isRotating;if(O.setState({isResizing:!1,isRotating:!1,resizingElement:null,selectionElement:null,cursorButton:"up",editingElement:Ga||fe(O.state.editingElement)?O.state.editingElement:null}),O.savePointer(da.clientX,da.clientY,"up"),O.state.editingLinearElement){var qb=dg.handlePointerUp(da,O.state.editingLinearElement,O.state);qb!==O.state.editingLinearElement&&O.setState({editingLinearElement:qb,suggestedBindings:[]})}if(ho=
null,window.removeEventListener(hc.Ks.POINTER_MOVE,z.eventListeners.onMove),window.removeEventListener(hc.Ks.POINTER_UP,z.eventListeners.onUp),window.removeEventListener(hc.Ks.KEYDOWN,z.eventListeners.onKeyDown),window.removeEventListener(hc.Ks.KEYUP,z.eventListeners.onKeyUp),"draw"!==(null==za?void 0:za.type))if(Hg(za))1<za.points.length&&nk.resumeRecording(),da=vg(da,O.state),z.drag.hasOccurred||!za||Ga?z.drag.hasOccurred&&!Ga&&(O.state.isBindingEnabled&&pg(za)&&jk(za,O.state,O.scene,da),O.setState({suggestedBindings:[],
startBoundElement:null}),Ma||"draw"===Sa?O.setState(function(Xb){var Ac;return{draggingElement:null,selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(Ac={},Ac[O.state.draggingElement.id]=!0,Ac))}}):(Ii(O.canvas),O.setState(function(Xb){var Ac;return{draggingElement:null,elementType:"selection",selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(Ac={},Ac[O.state.draggingElement.id]=!0,Ac))}}))):(nf(za,{points:jh(jh([],za.points),[[da.x-za.x,da.y-za.y]])}),O.setState({multiElement:za,editingElement:O.state.draggingElement}));
else{if("selection"!==Sa&&za&&Rh(za))return O.scene.replaceAllElements(O.scene.getElementsIncludingDeleted().slice(0,-1)),void O.setState({draggingElement:null});za&&nf(za,Ml(za));xa&&nk.resumeRecording();xa&&Rh(xa)&&O.scene.replaceAllElements(O.scene.getElementsIncludingDeleted().filter(function(Xb){return Xb.id!==xa.id}));var tb=z.hit.element;if(tb&&!z.drag.hasOccurred&&!z.hit.wasAddedToSelection)if(da.shiftKey)if(O.state.selectedElementIds[tb.id])if(null!=Bh(O.state,tb)){var cc=tb.groupIds.flatMap(function(Xb){return ck(O.scene.getElements(),
Xb)}).map(function(Xb){var Ac;return(Ac={})[Xb.id]=!1,Ac}).reduce(function(Xb,Ac){return Wa(Wa({},Xb),Ac)},{});O.setState(function(Xb){return{selectedGroupIds:Wa(Wa({},Xb.selectedElementIds),tb.groupIds.map(function(Ac){var gd;return(gd={})[Ac]=!1,gd}).reduce(function(Ac,gd){return Wa(Wa({},Ac),gd)},{})),selectedElementIds:Wa(Wa({},Xb.selectedElementIds),cc)}})}else O.setState(function(Xb){var Ac;return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(Ac={},Ac[tb.id]=!1,Ac))}});else O.setState(function(Xb){var Ac;
return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),{},(Ac={},Ac[tb.id]=!0,Ac))}});else O.setState(function(Xb){var Ac;return Wa({},Wh(Wa(Wa({},Xb),{},{selectedElementIds:(Ac={},Ac[tb.id]=!0,Ac)}),O.scene.getElements()))});O.state.editingLinearElement||z.drag.hasOccurred||O.state.isResizing||!(tb&&Lk(tb,O.state,z.origin.x,z.origin.y)||!tb&&z.hit.hasHitCommonBoundingBoxOfSelectedElements)?(!Ma&&"draw"!==Sa&&za&&O.setState(function(Xb){var Ac;return{selectedElementIds:Wa(Wa({},Xb.selectedElementIds),
{},(Ac={},Ac[za.id]=!0,Ac))}}),("selection"!==Sa||lg(O.scene.getElements(),O.state))&&nk.resumeRecording(),(z.drag.hasOccurred||kb||la)&&(O.state.isBindingEnabled?wg:lh)(wf(O.scene.getElements(),O.state)),Ma||"draw"===Sa?O.setState({draggingElement:null,suggestedBindings:[]}):(Ii(O.canvas),O.setState({draggingElement:null,suggestedBindings:[],elementType:"selection"}))):O.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})}else O.actionManager.executeAction(Mf)})},x.prototype.maybeSuggestBindingForAll=
function(z){var O;z=(O=new Set(z.map(function(da){return da.id})),z.flatMap(function(da){return pg(da)?Il(da).filter(function(la){return!O.has(la.id)}):yk(da)?vh(da).filter(function(la){return!O.has(la[0].id)}):[]}));this.setState({suggestedBindings:z})},x.prototype.clearSelection=function(z){this.setState(function(O){return{selectedElementIds:{},selectedGroupIds:{},editingGroupId:O.editingGroupId&&null!=z&&z.groupIds.includes(O.editingGroupId)?O.editingGroupId:null}});this.setState({selectedElementIds:{},
previousSelectedElementIds:this.state.selectedElementIds})},x.prototype.getTextWysiwygSnappedToCenterPosition=function(z,O,da,la,za){if(za=function(xa,Ga,Sa){for(var Ma=null,kb=xa.length-1;0<=kb;--kb)if(!xa[kb].isDeleted){var qb=jg(xa[kb]),tb=qb[1],cc=qb[2],Xb=qb[3];if(qb[0]<Ga&&Ga<cc&&tb<Sa&&Sa<Xb){Ma=xa[kb];break}}return Ma}(this.scene.getElementsIncludingDeleted().filter(function(xa){return!fe(xa)}),z,O))if(la=za.x+za.width/2,za=za.y+za.height/2,Math.hypot(z-la,O-za)<hc.wZ)return z=oh({sceneX:la,
sceneY:za},da),{viewportX:z.x,viewportY:z.y,elementCenterX:la,elementCenterY:za}},x.prototype.getCanvasOffsets=function(z){var O,da;return"number"==typeof(null==z?void 0:z.offsetLeft)&&"number"==typeof(null==z?void 0:z.offsetTop)?{offsetLeft:z.offsetLeft,offsetTop:z.offsetTop}:null!==(O=this.excalidrawContainerRef)&&void 0!==O&&null!==(da=O.current)&&void 0!==da&&da.parentElement?(da=this.excalidrawContainerRef.current.parentElement.getBoundingClientRect(),O=da.left,da=da.top,{offsetLeft:"number"==
typeof(null==z?void 0:z.offsetLeft)?z.offsetLeft:O,offsetTop:"number"==typeof(null==z?void 0:z.offsetTop)?z.offsetTop:da}):{offsetLeft:"number"==typeof(null==z?void 0:z.offsetLeft)?z.offsetLeft:0,offsetTop:"number"==typeof(null==z?void 0:z.offsetTop)?z.offsetTop:0}},x.prototype.updateLanguage=function(){var z=this;return Rc()(function(){var O;return dp(this,function(da){switch(da.label){case 0:return O=t.find(function(la){return la.code===z.props.langCode})||ua,[4,Ca(O)];case 1:return da.sent(),z.setAppState({}),
[2]}})})()},x}(Ha().Component);Wr.defaultProps={width:window.innerWidth,height:window.innerHeight};var Vt=function(){var d=this;this.rc=this.canvas=null;this.unmounted=!1;this.excalidrawContainerRef=Ha().createRef();this.getSceneElementsIncludingDeleted=function(){return d.scene.getElementsIncludingDeleted()};this.getSceneElements=function(){return d.scene.getElements()};this.syncActionResult=bg(function(x){if(!d.unmounted&&!1!==x){var z=null;if(x.elements&&(x.elements.forEach(function(Sa){var Ma;
(null===(Ma=d.state.editingElement)||void 0===Ma?void 0:Ma.id)===Sa.id&&d.state.editingElement!==Sa&&!Sa.isDeleted&&(z=Sa)}),d.scene.replaceAllElements(x.elements),x.commitToHistory&&nk.resumeRecording()),x.appState||z){var O,da,la;x.commitToHistory&&nk.resumeRecording();var za=(null==x||null===(O=x.appState)||void 0===O?void 0:O.viewModeEnabled)||!1,xa=(null==x||null===(da=x.appState)||void 0===da?void 0:da.zenModeEnabled)||!1,Ga=(null==x||null===(la=x.appState)||void 0===la?void 0:la.gridSize)||
null;void 0!==d.props.viewModeEnabled&&(za=d.props.viewModeEnabled);void 0!==d.props.zenModeEnabled&&(xa=d.props.zenModeEnabled);void 0!==d.props.gridModeEnabled&&(Ga=d.props.gridModeEnabled?hc.k:null);d.setState(function(Sa){var Ma;return Object.assign(x.appState||{},{editingElement:z||(null===(Ma=x.appState)||void 0===Ma?void 0:Ma.editingElement)||null,width:Sa.width,height:Sa.height,offsetTop:Sa.offsetTop,offsetLeft:Sa.offsetLeft,viewModeEnabled:za,zenModeEnabled:xa,gridSize:Ga})},function(){x.syncHistory&&
nk.setCurrentState(d.state,d.scene.getElementsIncludingDeleted())})}}});this.onBlur=bg(function(){ep=!1;d.setState({isBindingEnabled:!0})});this.onUnload=function(){d.onBlur()};this.disableEvent=function(x){x.preventDefault()};this.onFontLoaded=function(){d.scene.getElementsIncludingDeleted().forEach(function(x){fe(x)&&wi.delete(x)});d.onSceneUpdated()};this.importLibraryFromUrl=function(){var x=Rc()(function(z){var O,da,la,za,xa;return dp(this,function(Ga){switch(Ga.label){case 0:window.history.replaceState({},
hc.iC,window.location.origin),Ga.label=1;case 1:return Ga.trys.push([1,7,,8]),[4,fetch(z)];case 2:return[4,Ga.sent().blob()];case 3:return O=Ga.sent(),za=(la=JSON).parse,[4,O.text()];case 4:Ga=da=za.apply(la,[Ga.sent()]);if("object"!=typeof Ga||!Ga||"excalidrawlib"!==Ga.type||1!==Ga.version)throw Error();return window.confirm(Ka("alerts.confirmAddLibrary",{numShapes:da.library.length}))?[4,rh.importLibrary(O)]:[3,6];case 5:Ga.sent(),d.setState({isLibraryOpen:!0}),Ga.label=6;case 6:return[3,8];case 7:return xa=
Ga.sent(),window.alert(Ka("alerts.errorLoadingLibrary")),console.error(xa),[3,8];case 8:return[2]}})});return function(z){return x.apply(this,arguments)}}();this.resetHistory=function(){nk.clear()};this.resetScene=bg(function(x){d.scene.replaceAllElements([]);d.setState(function(z){return Wa(Wa({},Fh()),{},{isLoading:(null==x||!x.resetLoadingState)&&z.isLoading,appearance:d.state.appearance})});d.resetHistory()});this.initializeScene=Rc()(function(){var x,z,O,da,la;return dp(this,function(za){switch(za.label){case 0:"launchQueue"in
window&&"LaunchParams"in window&&window.launchQueue.setConsumer(function(){var xa=Rc()(function(Ga){var Sa,Ma;return dp(this,function(kb){switch(kb.label){case 0:return Ga.files.length?[4,(Sa=Ga.files[0]).getFile()]:[2];case 1:return(Ma=kb.sent()).handle=Sa,Om(Ma,d.state).then(function(qb){return d.syncActionResult({elements:qb.elements,appState:Wa(Wa({},qb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(qb){d.setState({isLoading:!1,errorMessage:qb.message})}),[2]}})});
return function(Ga){return xa.apply(this,arguments)}}()),d.state.isLoading||d.setState({isLoading:!0}),z=null,za.label=1;case 1:return za.trys.push([1,3,,4]),[4,d.props.initialData];case 2:return z=za.sent()||null,[3,4];case 3:return O=za.sent(),console.error(O),[3,4];case 4:return(da=mn(z,null)).appState=Wa(Wa({},da.appState),{},{isLoading:!1}),null!==(x=z)&&void 0!==x&&x.scrollToCenter&&(da.appState=Wa(Wa({},da.appState),mi(da.elements,Wa(Wa({},da.appState),{},{width:d.state.width,height:d.state.height,
offsetTop:d.state.offsetTop,offsetLeft:d.state.offsetLeft})))),d.resetHistory(),d.syncActionResult(Wa(Wa({},da),{},{commitToHistory:!0})),(la=(new URLSearchParams(window.location.search)).get("addLibrary"))?[4,d.importLibraryFromUrl(la)]:[3,6];case 5:za.sent(),za.label=6;case 6:return[2]}})});this.onResize=bg(function(){d.scene.getElementsIncludingDeleted().forEach(function(x){return wi.delete(x)});d.setState({})});this.onScroll=ti(function(){var x=d.getCanvasOffsets(),z=x.offsetTop,O=x.offsetLeft;
d.setState(function(da){return da.offsetLeft===O&&da.offsetTop===z?null:{offsetTop:z,offsetLeft:O}})},hc.HM);this.onCut=bg(function(x){Eg(x.target)||(d.cutAll(),x.preventDefault())});this.onCopy=bg(function(x){var z=document.getSelection();null!=z&&z.anchorNode&&!d.excalidrawContainerRef.current.contains(z.anchorNode)||Eg(x.target)||(d.copyAll(),x.preventDefault())});this.cutAll=function(){d.copyAll();d.actionManager.executeAction(Vg)};this.copyAll=function(){Ck(d.scene.getElements(),d.state)};this.onTapStart=
function(x){if(!wq)return wq=!0,clearTimeout(Zr),void(Zr=window.setTimeout(Wr.resetTapTwice,hc.Gj));if(wq&&1===x.touches.length){var z=x.touches[0];d.handleCanvasDoubleClick({clientX:z.clientX,clientY:z.clientY});wq=!1;clearTimeout(Zr)}x.preventDefault();2===x.touches.length&&d.setState({selectedElementIds:{}})};this.onTapEnd=function(x){x.preventDefault();0<x.touches.length&&d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds})};this.pasteFromClipboard=
bg(function(){var x=Rc()(function(z){var O,da,la;return dp(this,function(za){switch(za.label){case 0:return O=document.activeElement,da=document.elementFromPoint(Jp,Kp),!z||da instanceof HTMLCanvasElement&&!Eg(O)?[4,eb(z)]:[2];case 1:return(la=za.sent()).errorMessage?d.setState({errorMessage:la.errorMessage}):la.spreadsheet?d.setState({pasteDialog:{data:la.spreadsheet,shown:!0}}):la.elements?d.addElementsFromPasteOrLibrary(la.elements):la.text&&d.addTextFromPaste(la.text),d.selectShapeTool("selection"),
null==z||z.preventDefault(),[2]}})});return function(z){return x.apply(this,arguments)}}());this.addElementsFromPasteOrLibrary=function(x,z,O){void 0===z&&(z=Jp);void 0===O&&(O=Kp);var da=Dg(x),la=da[0],za=da[1],xa=Math.abs(la-da[2])/2;da=Math.abs(za-da[3])/2;z=vg({clientX:z,clientY:O},d.state);xa=z.x-xa;da=z.y-da;var Ga=new Map;xa=ri(xa,da,d.state.gridSize);var Sa=xa[0],Ma=xa[1],kb=new Map;xa=x.map(function(qb){var tb=Yi(d.state.editingGroupId,Ga,qb,{x:qb.x+Sa-la,y:qb.y+Ma-za});return kb.set(qb.id,
tb.id),tb});da=jh(jh([],d.scene.getElementsIncludingDeleted()),xa);Uj(da,x,kb);d.scene.replaceAllElements(da);nk.resumeRecording();d.setState(Wh(Wa(Wa({},d.state),{},{isLibraryOpen:!1,selectedElementIds:xa.reduce(function(qb,tb){return qb[tb.id]=!0,qb},{}),selectedGroupIds:{}}),d.scene.getElements()))};this.setAppState=function(x){d.setState(x)};this.removePointer=function(x){"touch"===x.pointerType&&go&&(clearTimeout(go),go=0,lq=!1);Bl.delete(x.pointerId)};this.toggleLock=function(){d.setState(function(x){return{elementLocked:!x.elementLocked,
elementType:x.elementLocked?"selection":x.elementType}})};this.toggleZenMode=function(){d.actionManager.executeAction(se)};this.toggleStats=function(){d.state.showStats||Wg("dialog","stats");d.actionManager.executeAction($n)};this.setScrollToCenter=function(x){d.setState(Wa({},mi(je(x),d.state,d.canvas)))};this.clearToast=function(){d.setState({toastMessage:null})};this.updateScene=bg(function(x){var z;x.commitToHistory&&nk.resumeRecording();null!==(z=x.appState)&&void 0!==z&&z.viewBackgroundColor&&
d.setState({viewBackgroundColor:x.appState.viewBackgroundColor});x.elements&&d.scene.replaceAllElements(x.elements);x.collaborators&&d.setState({collaborators:x.collaborators})});this.onSceneUpdated=function(){d.setState({})};this.updateCurrentCursorPosition=bg(function(x){Jp=x.x;Kp=x.y});this.onKeyDown=bg(function(x){var z;if(!(("Proxy"in window&&(!x.shiftKey&&/^[A-Z]$/.test(x.key)||x.shiftKey&&/^[a-z]$/.test(x.key))&&(x=new Proxy(x,{get:function(za,xa){var Ga=za[xa];return"function"==typeof Ga?
Ga.bind(za):"key"===xa?x.shiftKey?za.key.toUpperCase():za.key.toLowerCase():Ga}})),Eg(x.target)&&"Escape"!==x.key||yg(x.key)&&(z=x.target,z instanceof HTMLElement&&"wysiwyg"===z.dataset.type||z instanceof HTMLBRElement||z instanceof HTMLInputElement||z instanceof HTMLTextAreaElement||z instanceof HTMLSelectElement))||("?"===x.key&&d.setState({showHelpDialog:!0}),d.actionManager.handleKeyDown(x)||d.state.viewModeEnabled))){if(x[ef]&&d.setState({isBindingEnabled:!1}),"Digit9"===x.code&&d.setState({isLibraryOpen:!d.state.isLibraryOpen}),
yg(x.key)){z=d.state.gridSize&&(x.shiftKey?hc.$e:d.state.gridSize)||(x.shiftKey?hc.Iw:hc.$e);var O=d.scene.getElements().filter(function(za){return d.state.selectedElementIds[za.id]}),da=0,la=0;"ArrowLeft"===x.key?da=-z:"ArrowRight"===x.key?da=z:"ArrowUp"===x.key?la=-z:"ArrowDown"===x.key&&(la=z);O.forEach(function(za){nf(za,{x:za.x+da,y:za.y+la});Ai(za,{simultaneouslyUpdated:O})});d.maybeSuggestBindingForAll(O);x.preventDefault()}else if("Enter"===x.key)if(z=wf(d.scene.getElements(),d.state),1===
z.length&&Hg(z[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===z[0].id||(nk.resumeRecording(),d.setState({editingLinearElement:new dg(z[0],d.scene)}));else{if(1===z.length&&!Hg(z[0]))return z=z[0],d.startTextEditing({sceneX:z.x+z.width/2,sceneY:z.y+z.height/2}),void x.preventDefault()}else x.ctrlKey||x.altKey||x.metaKey||null!==d.state.draggingElement||((z=function(za){var xa=wm.find(function(Ga,Sa){return za===(Sa+1).toString()||("string"==typeof Ga.key?Ga.key===za:Ga.key.includes(za))});
return(null==xa?void 0:xa.value)||null}(x.key))?d.selectShapeTool(z):"q"===x.key&&d.toggleLock());" "===x.key&&0===Bl.size&&(ep=!0,Ji(d.canvas,hc.oc.GRABBING))}});this.onKeyUp=bg(function(x){if(" "===x.key&&("selection"===d.state.elementType?Ii(d.canvas):(ui(d.canvas,d.state.elementType),d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})),ep=!1),x[ef]||d.state.isBindingEnabled||d.setState({isBindingEnabled:!0}),yg(x.key))x=wf(d.scene.getElements(),d.state),d.state.isBindingEnabled?
wg(x):lh(x),d.setState({suggestedBindings:[]})});this.onGestureStart=bg(function(x){x.preventDefault();d.setState({selectedElementIds:{}});zp=d.state.zoom.value});this.onGestureChange=bg(function(x){if(x.preventDefault(),2!==Bl.size){var z=zp;z&&d.setState(function(O){var da=O.zoom,la=O.offsetLeft;O=O.offsetTop;return{zoom:ci(Sj(z*x.scale),da,{left:la,top:O},{x:Jp,y:Kp})}})}});this.onGestureEnd=bg(function(x){x.preventDefault();d.setState({previousSelectedElementIds:{},selectedElementIds:d.state.previousSelectedElementIds});
zp=null});this.startTextEditing=function(x){var z=x.sceneX,O=x.sceneY;x=x.insertAtParentCenter;var da=void 0===x||x;x=d.getTextElementAtPosition(z,O);da=da&&d.getTextWysiwygSnappedToCenterPosition(z,O,d.state,d.canvas,window.devicePixelRatio);z=x||Kj({x:da?da.elementCenterX:z,y:da?da.elementCenterY:O,strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,
roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness,text:"",fontSize:d.state.currentItemFontSize,fontFamily:d.state.currentItemFontFamily,textAlign:da?"center":d.state.currentItemTextAlign,verticalAlign:da?"middle":hc.hs});d.setState({editingElement:z});x?da&&"center"===z.textAlign||nf(z,{verticalAlign:hc.hs}):(d.scene.replaceAllElements(jh(jh([],d.scene.getElementsIncludingDeleted()),[z])),da||nf(z,{y:z.y-z.baseline/2}));d.setState({editingElement:z});
d.handleTextWysiwyg(z,{isExistingElement:!!x})};this.handleCanvasDoubleClick=function(x){if(!d.state.multiElement&&"selection"===d.state.elementType){var z=wf(d.scene.getElements(),d.state);if(1===z.length&&Hg(z[0]))d.state.editingLinearElement&&d.state.editingLinearElement.elementId===z[0].id||(nk.resumeRecording(),d.setState({editingLinearElement:new dg(z[0],d.scene)}));else{Ii(d.canvas);var O=vg(x,d.state);z=O.x;O=O.y;if(0<Li(d.state).length){var da=d.getElementAtPosition(z,O),la=da&&function(za,
xa){return za.groupIds.find(function(Ga){return xa[Ga]})}(da,d.state.selectedGroupIds);if(la)return void d.setState(function(za){var xa;return Wh(Wa(Wa({},za),{},{editingGroupId:la,selectedElementIds:(xa={},xa[da.id]=!0,xa),selectedGroupIds:{}}),d.scene.getElements())})}Ii(d.canvas);x[ef]||d.startTextEditing({sceneX:z,sceneY:O,insertAtParentCenter:!x.altKey})}}};this.handleCanvasPointerMove=function(x){d.savePointer(x.clientX,x.clientY,d.state.cursorButton);Bl.has(x.pointerId)&&Bl.set(x.pointerId,
{x:x.clientX,y:x.clientY});var z=zp;if(2===Bl.size&&wp&&z&&ar){var O=Tm(Bl),da=O.x-wp.x,la=O.y-wp.y;wp=O;var za=bo(Array.from(Bl.values()))/ar;d.setState(function(cc){var Xb=cc.zoom,Ac=cc.offsetLeft,gd=cc.offsetTop;return{scrollX:cc.scrollX+da/Xb.value,scrollY:cc.scrollY+la/Xb.value,zoom:ci(Sj(z*za),Xb,{left:Ac,top:gd},O),shouldCacheIgnoreZoom:!0}});d.resetShouldCacheIgnoreZoomDebounced()}else wp=ar=zp=null;if(!(ep||xq||$r)){var xa=ki(Yr,x.clientX-d.state.offsetLeft,x.clientY-d.state.offsetTop).isOverEither;
d.state.draggingElement||d.state.multiElement||(xa?Ii(d.canvas):ui(d.canvas,d.state.elementType));var Ga=vg(x,d.state),Sa=Ga.x,Ma=Ga.y;if(d.state.editingLinearElement&&!d.state.editingLinearElement.isDragging){var kb=dg.handlePointerMove(x,Sa,Ma,d.state.editingLinearElement,d.state.gridSize);kb!==d.state.editingLinearElement&&d.setState({editingLinearElement:kb});null!=kb.lastUncommittedPoint?d.maybeSuggestBindingAtCursor(Ga):d.setState({suggestedBindings:[]})}"arrow"===d.state.elementType&&(kb=d.state.draggingElement,
pg(kb)?d.maybeSuggestBindingForLinearElementAtCursor(kb,"end",Ga,d.state.startBoundElement):d.maybeSuggestBindingAtCursor(Ga));if(d.state.multiElement){xa=d.state.multiElement;Ga=xa.x;kb=xa.y;x=xa.points;var qb=xa.lastCommittedPoint,tb=x[x.length-1];return ui(d.canvas,d.state.elementType),void(tb===qb?Math.hypot(tb[0]-(Sa-Ga),tb[1]-(Ma-kb))>=hc.qx?nf(xa,{points:jh(jh([],x),[[Sa-Ga,Ma-kb]])}):Ji(d.canvas,hc.oc.POINTER):2<x.length&&qb&&Math.hypot(qb[0]-(Sa-Ga),qb[1]-(Ma-kb))<hc.qx?(Ji(d.canvas,hc.oc.POINTER),
nf(xa,{points:x.slice(0,-1)})):(ei(x,d.state.zoom.value)&&Ji(d.canvas,hc.oc.POINTER),nf(xa,{points:jh(jh([],x.slice(0,-1)),[[Sa-Ga,Ma-kb]])})))}if(!(x.buttons||"selection"!==d.state.elementType&&"text"!==d.state.elementType)){qb=d.scene.getElements();kb=wf(qb,d.state);if(1!==kb.length||xa||d.state.editingLinearElement){if(1<kb.length&&!xa&&(Sa=rf(Dg(kb),Sa,Ma,d.state.zoom,x.pointerType)))return void Ji(d.canvas,Le({transformHandleType:Sa}))}else if((Sa=Oi(qb,d.state,Sa,Ma,d.state.zoom,x.pointerType))&&
Sa.transformHandleType)return void Ji(d.canvas,Le(Sa));Sa=d.getElementAtPosition(Ga.x,Ga.y);"text"===d.state.elementType?Ji(d.canvas,fe(Sa)?hc.oc.TEXT:hc.oc.CROSSHAIR):xa?Ji(d.canvas,hc.oc.AUTO):Sa||d.isHittingCommonBoundingBoxOfSelectedElements(Ga,kb)?Ji(d.canvas,hc.oc.MOVE):Ji(d.canvas,hc.oc.AUTO)}}};this.handleTouchMove=function(x){lq=!0};this.handleCanvasPointerDown=function(x){if(x.persist(),d.maybeOpenContextMenuAfterPointerDownOnTouchDevices(x),d.maybeCleanupAfterMissingPointerUp(x),!(xq||
(d.setState({lastPointerDownWith:x.pointerType,cursorButton:"down"}),d.savePointer(x.clientX,x.clientY,"down"),d.handleCanvasPanUsingWheelOrSpaceDrag(x)||x.button!==hc.Oh.MAIN&&x.button!==hc.Oh.TOUCH||(d.updateGestureOnPointerDown(x),x.preventDefault(),document.activeElement instanceof HTMLElement&&document.activeElement.blur(),1<Bl.size)))){var z=d.initialPointerDownState(x);if(!d.handleDraggingScrollBar(x,z)&&(d.clearSelectionIfNotUsingSelection(),d.updateBindingEnabledOnPointerMove(x),!d.handleSelectionOnPointerDown(x,
z)))if("text"!==d.state.elementType){"arrow"===d.state.elementType||"draw"===d.state.elementType||"line"===d.state.elementType?d.handleLinearElementOnPointerDown(x,d.state.elementType,z):d.createGenericElementOnPointerDown(d.state.elementType,z);x=d.onPointerMoveFromPointerDownHandler(z);var O=d.onPointerUpFromPointerDownHandler(z),da=d.onKeyDownFromPointerDownHandler(z),la=d.onKeyUpFromPointerDownHandler(z);ho=O;d.state.viewModeEnabled||(window.addEventListener(hc.Ks.POINTER_MOVE,x),window.addEventListener(hc.Ks.POINTER_UP,
O),window.addEventListener(hc.Ks.KEYDOWN,da),window.addEventListener(hc.Ks.KEYUP,la),z.eventListeners.onMove=x,z.eventListeners.onUp=O,z.eventListeners.onKeyUp=la,z.eventListeners.onKeyDown=da)}else d.handleTextOnPointerDown(x,z)}};this.maybeOpenContextMenuAfterPointerDownOnTouchDevices=function(x){"touch"===x.pointerType&&(lq=!1,go?lq=!0:go=window.setTimeout(function(){go=0;lq||d.openContextMenu({clientX:x.clientX,clientY:x.clientY})},hc.nM))};this.handleCanvasPanUsingWheelOrSpaceDrag=function(x){if(0!==
Bl.size||!(x.button===hc.Oh.WHEEL||x.button===hc.Oh.MAIN&&ep||d.state.viewModeEnabled))return!1;xq=!0;var z=!1,O=/Linux/.test(window.navigator.platform);Ji(d.canvas,hc.oc.GRABBING);var da=x.clientX,la=x.clientY,za=bg(function(Ga){var Sa=da-Ga.clientX,Ma=la-Ga.clientY;if(da=Ga.clientX,la=Ga.clientY,O&&!z&&(1<Math.abs(Sa)||1<Math.abs(Ma))){z=!0;var kb=function(tb){document.body.removeEventListener(hc.Ks.PASTE,kb);tb.stopPropagation()},qb=function(){setTimeout(function(){document.body.removeEventListener(hc.Ks.PASTE,
kb);window.removeEventListener(hc.Ks.POINTER_UP,qb)},100)};document.body.addEventListener(hc.Ks.PASTE,kb);window.addEventListener(hc.Ks.POINTER_UP,qb)}d.setState({scrollX:d.state.scrollX-Sa/d.state.zoom.value,scrollY:d.state.scrollY-Ma/d.state.zoom.value})}),xa=bg(ho=function(){ho=null;xq=!1;ep||ui(d.canvas,d.state.elementType);d.setState({cursorButton:"up"});d.savePointer(x.clientX,x.clientY,"up");window.removeEventListener(hc.Ks.POINTER_MOVE,za);window.removeEventListener(hc.Ks.POINTER_UP,xa);window.removeEventListener(hc.Ks.BLUR,
xa)});return window.addEventListener(hc.Ks.BLUR,xa),window.addEventListener(hc.Ks.POINTER_MOVE,za,{passive:!0}),window.addEventListener(hc.Ks.POINTER_UP,xa),!0};this.clearSelectionIfNotUsingSelection=function(){"selection"!==d.state.elementType&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null})};this.handleSelectionOnPointerDown=function(x,z){if("selection"===d.state.elementType){var O=d.scene.getElements(),da=wf(O,d.state);1!==da.length||d.state.editingLinearElement?1<da.length&&
(z.resize.handleType=rf(Dg(da),z.origin.x,z.origin.y,d.state.zoom,x.pointerType)):(O=Oi(O,d.state,z.origin.x,z.origin.y,d.state.zoom,x.pointerType),null!=O&&(d.setState({resizingElement:O.element}),z.resize.handleType=O.transformHandleType));if(z.resize.handleType)Ji(d.canvas,Le({transformHandleType:z.resize.handleType})),z.resize.isResizing=!0,z.resize.offset=Fg(function(qb,tb,cc,Xb){var Ac,gd=1===tb.length?jg(tb[0]):Dg(tb),kd=gd[0],xd=gd[1],ne=gd[2];gd=gd[3];tb=1===tb.length?tb[0].angle:0;switch(cc=
(Ac=Hf(cc,Xb,(kd+ne)/2,(xd+gd)/2,-tb))[0],Xb=Ac[1],qb){case "n":return Hf(cc-(kd+ne)/2,Xb-xd,0,0,tb);case "s":return Hf(cc-(kd+ne)/2,Xb-gd,0,0,tb);case "w":return Hf(cc-kd,Xb-(xd+gd)/2,0,0,tb);case "e":return Hf(cc-ne,Xb-(xd+gd)/2,0,0,tb);case "nw":return Hf(cc-kd,Xb-xd,0,0,tb);case "ne":return Hf(cc-ne,Xb-xd,0,0,tb);case "sw":return Hf(cc-kd,Xb-gd,0,0,tb);case "se":return Hf(cc-ne,Xb-gd,0,0,tb);default:return[0,0]}}(z.resize.handleType,da,z.origin.x,z.origin.y)),1===da.length&&Hg(da[0])&&2===da[0].points.length&&
(z.resize.arrowDirection=(xa=z.resize.handleType,Ga=da[0],Sa=Ga.points[1],Ma=Sa[0],kb=Sa[1],"nw"===xa&&(0>Ma||0>kb)||"ne"===xa&&0<=Ma||"sw"===xa&&0>=Ma||"se"===xa&&(0<Ma||0<kb)?"end":"origin"));else{var la;if(d.state.editingLinearElement&&(da=dg.handlePointerDown(x,d.state,function(qb){return d.setState(qb)},nk,z.origin),da.hitElement&&(z.hit.element=da.hitElement),da.didAddPoint))return!0;z.hit.element=null!==(la=z.hit.element)&&void 0!==la?la:d.getElementAtPosition(z.origin.x,z.origin.y);z.hit.allHitElements=
d.getElementsAtPosition(z.origin.x,z.origin.y);var za=z.hit.element;la=z.hit.allHitElements.some(function(qb){return d.isASelectedElement(qb)});if(null!==za&&la||x.shiftKey||z.hit.hasHitCommonBoundingBoxOfSelectedElements||d.clearSelection(za),null!=za){if(x[ef])return d.setState(function(qb){var tb;qb=db(db({},qb),{},{editingGroupId:za.groupIds.length?za.groupIds[0]:null,selectedGroupIds:{},selectedElementIds:(tb={},tb[za.id]=!0,tb)});return Wa(Wa({},qb),{},{previousSelectedElementIds:d.state.selectedElementIds})}),
!1;d.state.selectedElementIds[za.id]||(d.state.editingGroupId&&!za.groupIds.includes(d.state.editingGroupId)&&d.setState({selectedElementIds:{},selectedGroupIds:{},editingGroupId:null}),la||z.hit.hasHitCommonBoundingBoxOfSelectedElements||(d.setState(function(qb){var tb;return Wh(Wa(Wa({},qb),{},{selectedElementIds:Wa(Wa({},qb.selectedElementIds),{},(tb={},tb[za.id]=!0,tb))}),d.scene.getElements())}),z.hit.wasAddedToSelection=!0))}d.setState({previousSelectedElementIds:d.state.selectedElementIds})}}var xa,
Ga,Sa,Ma,kb;return!1};this.handleTextOnPointerDown=function(x,z){var O;"text"!==(null===(O=d.state.editingElement)||void 0===O?void 0:O.type)&&(d.startTextEditing({sceneX:z.origin.x,sceneY:z.origin.y,insertAtParentCenter:!x.altKey}),Ii(d.canvas),d.state.elementLocked||d.setState({elementType:"selection"}))};this.handleLinearElementOnPointerDown=function(x,z,O){if(d.state.multiElement){var da=d.state.multiElement;if("line"===da.type&&ei(da.points,d.state.zoom.value))return nf(da,{lastCommittedPoint:da.points[da.points.length-
1]}),void d.actionManager.executeAction(Mf);z=da.x;x=da.y;var la=da.lastCommittedPoint;if(1<da.points.length&&la&&Math.hypot(la[0]-(O.origin.x-z),la[1]-(O.origin.y-x))<hc.qx)return void d.actionManager.executeAction(Mf);d.setState(function(Ga){var Sa;return{selectedElementIds:Wa(Wa({},Ga.selectedElementIds),{},(Sa={},Sa[da.id]=!0,Sa))}});nf(da,{lastCommittedPoint:da.points[da.points.length-1]});Ji(d.canvas,hc.oc.POINTER)}else{x=ri(O.origin.x,O.origin.y,"draw"===z?null:d.state.gridSize);var za=d.state;
la=za.currentItemStartArrowhead;za=za.currentItemEndArrowhead;la="arrow"===z?[la,za]:[null,null];var xa=We({type:z,x:x[0],y:x[1],strokeColor:d.state.currentItemStrokeColor,backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemLinearStrokeSharpness,startArrowhead:la[0],endArrowhead:la[1]});
d.setState(function(Ga){var Sa;return{selectedElementIds:Wa(Wa({},Ga.selectedElementIds),{},(Sa={},Sa[xa.id]=!1,Sa))}});nf(xa,{points:jh(jh([],xa.points),[[0,0]])});O=bi(O.origin,d.scene);d.scene.replaceAllElements(jh(jh([],d.scene.getElementsIncludingDeleted()),[xa]));d.setState({draggingElement:xa,editingElement:xa,startBoundElement:O,suggestedBindings:[]})}};this.createGenericElementOnPointerDown=function(x,z){z=ri(z.origin.x,z.origin.y,d.state.gridSize);x=Ol({type:x,x:z[0],y:z[1],strokeColor:d.state.currentItemStrokeColor,
backgroundColor:d.state.currentItemBackgroundColor,fillStyle:d.state.currentItemFillStyle,strokeWidth:d.state.currentItemStrokeWidth,strokeStyle:d.state.currentItemStrokeStyle,roughness:d.state.currentItemRoughness,opacity:d.state.currentItemOpacity,strokeSharpness:d.state.currentItemStrokeSharpness});"selection"===x.type?d.setState({selectionElement:x,draggingElement:x}):(d.scene.replaceAllElements(jh(jh([],d.scene.getElementsIncludingDeleted()),[x])),d.setState({multiElement:null,draggingElement:x,
editingElement:x}))};this.updateBindingEnabledOnPointerMove=function(x){x=!x[ef];d.state.isBindingEnabled!==x&&d.setState({isBindingEnabled:x})};this.maybeSuggestBindingAtCursor=function(x){x=bi(x,d.scene);d.setState({suggestedBindings:null!=x?[x]:[]})};this.maybeSuggestBindingForLinearElementAtCursor=function(x,z,O,da){z=bi(O,d.scene);d.setState({suggestedBindings:null==z||(null==da?void 0:da.id)===z.id&&3>x.points.length?[]:[z]})};this.handleCanvasRef=function(x){var z,O,da;null!==x?(d.canvas=x,
d.rc=Qh.canvas(d.canvas),d.canvas.addEventListener(hc.Ks.WHEEL,d.handleWheel,{passive:!1}),d.canvas.addEventListener(hc.Ks.TOUCH_START,d.onTapStart),d.canvas.addEventListener(hc.Ks.TOUCH_END,d.onTapEnd)):(null===(z=d.canvas)||void 0===z||z.removeEventListener(hc.Ks.WHEEL,d.handleWheel),null===(O=d.canvas)||void 0===O||O.removeEventListener(hc.Ks.TOUCH_START,d.onTapStart),null===(da=d.canvas)||void 0===da||da.removeEventListener(hc.Ks.TOUCH_END,d.onTapEnd))};this.handleCanvasOnDrop=function(){var x=
Rc()(function(z){var O,da,la,za,xa,Ga,Sa,Ma,kb,qb,tb;return dp(this,function(cc){switch(cc.label){case 0:return cc.trys.push([0,3,,4]),"image/png"!==(null==(da=z.dataTransfer.files[0])?void 0:da.type)&&"image/svg+xml"!==(null==da?void 0:da.type)?[3,2]:[4,Om(da,d.state)];case 1:return la=cc.sent(),za=la.elements,xa=la.appState,d.syncActionResult({elements:za,appState:Wa(Wa({},xa||d.state),{},{isLoading:!1}),commitToHistory:!0}),[2];case 2:return[3,4];case 3:return Ga=cc.sent(),[2,d.setState({isLoading:!1,
errorMessage:Ga.message})];case 4:if(""!==(Sa=z.dataTransfer.getData(hc.LO.excalidrawlib)))return d.addElementsFromPasteOrLibrary(JSON.parse(Sa),z.clientX,z.clientY),[2];if(!("application/json"===(null==(Ma=null===(O=z.dataTransfer)||void 0===O?void 0:O.files[0])?void 0:Ma.type)||null!=Ma&&Ma.name.endsWith(".excalidraw")))return[3,9];if(d.setState({isLoading:!0}),!("chooseFileSystemEntries"in window||"showOpenFilePicker"in window))return[3,8];cc.label=5;case 5:return cc.trys.push([5,7,,8]),kb=z.dataTransfer.items[0],
qb=Ma,[4,kb.getAsFileSystemHandle()];case 6:return qb.handle=cc.sent(),[3,8];case 7:return tb=cc.sent(),console.warn(tb.name,tb.message),[3,8];case 8:return Om(Ma,d.state).then(function(Xb){return d.syncActionResult({elements:Xb.elements,appState:Wa(Wa({},Xb.appState||d.state),{},{isLoading:!1}),commitToHistory:!0})}).catch(function(Xb){d.setState({isLoading:!1,errorMessage:Xb.message})}),[3,10];case 9:(null==Ma?void 0:Ma.type)===hc.LO.excalidrawlib||null!=Ma&&Ma.name.endsWith(".excalidrawlib")?rh.importLibrary(Ma).then(function(){d.setState({isLibraryOpen:!1})}).catch(function(Xb){return d.setState({isLoading:!1,
errorMessage:Xb.message})}):d.setState({isLoading:!1,errorMessage:Ka("alerts.couldNotLoadInvalidFile")}),cc.label=10;case 10:return[2]}})});return function(z){return x.apply(this,arguments)}}();this.handleCanvasContextMenu=function(x){x.preventDefault();d.openContextMenu(x)};this.maybeDragNewGenericElement=function(x,z){var O=d.state.draggingElement,da=x.lastCoords;if(O)if("selection"===O.type)li(O,d.state.elementType,x.origin.x,x.origin.y,da.x,da.y,Math.abs(x.origin.x-da.x),Math.abs(x.origin.y-da.y),
z.shiftKey,z.altKey);else{var la=ri(da.x,da.y,d.state.gridSize);da=la[0];la=la[1];li(O,d.state.elementType,x.originInGrid.x,x.originInGrid.y,da,la,Math.abs(x.originInGrid.x-da),Math.abs(x.originInGrid.y-la),z.shiftKey,z.altKey);d.maybeSuggestBindingForAll([O])}};this.maybeHandleResize=function(x,z){var O=wf(d.scene.getElements(),d.state),da=x.resize.handleType;d.setState({isResizing:da&&"rotation"!==da,isRotating:"rotation"===da});var la=x.lastCoords;la=ri(la.x-x.resize.offset.x,la.y-x.resize.offset.y,
d.state.gridSize);a:{var za=x.resize.arrowDirection,xa=z.shiftKey,Ga=z.altKey;z=z.shiftKey;var Sa=la[0],Ma=la[1];la=x.resize.center.x;var kb=x.resize.center.y;if(1===O.length){la=O[0];if("rotation"===da)da=jg(la),da=5*Math.PI/2+Math.atan2(Ma-(da[1]+da[3])/2,Sa-(da[0]+da[2])/2),xa&&(da+=hc.ay/2,da-=da%hc.ay),da=Rf(da),nf(la,{angle:da}),Ai(la);else if(!Hg(la)||2!==la.points.length||"nw"!==da&&"ne"!==da&&"sw"!==da&&"se"!==da)if(!fe(la)||"nw"!==da&&"ne"!==da&&"sw"!==da&&"se"!==da){if(da){za=x.originalElements.get(la.id);
var qb=Tg(za,za.width,za.height);xa=[qb[0],qb[1]];x=[qb[2],qb[3]];qb=[(xa[0]+x[0])/2,(xa[1]+x[1])/2];kb=ij([Sa,Ma],qb,-za.angle);Sa=Tg(la,la.width,la.height);var tb=Sa[2]-Sa[0],cc=Sa[3]-Sa[1];Sa=(x[0]-xa[0])/tb;Ma=(x[1]-xa[1])/cc;da.includes("e")&&(Sa=(kb[0]-xa[0])/tb);da.includes("s")&&(Ma=(kb[1]-xa[1])/cc);da.includes("w")&&(Sa=(x[0]-kb[0])/tb);da.includes("n")&&(Ma=(x[1]-kb[1])/cc);kb=za.width;tb=za.height;Sa*=la.width;Ma*=la.height;if(Ga&&(Sa=2*Sa-kb,Ma=2*Ma-tb),z){cc=Math.abs(Sa)/kb;var Xb=Math.abs(Ma)/
tb;if(1===da.length&&(Ma*=cc,Sa*=Xb),2===da.length)cc=Math.max(cc,Xb),Sa=kb*cc*Math.sign(Sa),Ma=tb*cc*Math.sign(Ma)}Xb=Tg(za,Sa,Ma);kb=Xb[0];tb=Xb[1];cc=Xb[2]-kb;Xb=Xb[3]-tb;var Ac=ej([],xa);if(["n","w","nw"].includes(da)&&(Ac=[x[0]-Math.abs(cc),x[1]-Math.abs(Xb)]),"ne"===da)Ac=[xa[0],x[1]],Ac=[Ac[0],Ac[1]-Math.abs(Xb)];"sw"===da&&(xa=[x[0],xa[1]],Ac=[xa[0]-Math.abs(cc),xa[1]]);z&&(["s","n"].includes(da)&&(Ac[0]=qb[0]-cc/2),["e","w"].includes(da)&&(Ac[1]=qb[1]-Xb/2));0>Sa&&(da.includes("e")&&(Ac[0]-=
Math.abs(cc)),da.includes("w")&&(Ac[0]+=Math.abs(cc)));0>Ma&&(da.includes("s")&&(Ac[1]-=Math.abs(Xb)),da.includes("n")&&(Ac[1]+=Math.abs(Xb)));Ga&&(Ac[0]=qb[0]-Math.abs(cc)/2,Ac[1]=qb[1]-Math.abs(Xb)/2);da=za.angle;Ga=ij(Ac,qb,da);z=ij([Ac[0]+Math.abs(cc)/2,Ac[1]+Math.abs(Xb)/2],qb,da);Ac=ij(Ga,z,-da);da=of(za,Sa,Ma);Ga=ej([],Ac);Ga[0]+=za.x-kb;Ga[1]+=za.y-tb;da=Gc({width:Math.abs(Sa),height:Math.abs(Ma),x:Ga[0],y:Ga[1]},da);0!==da.width&&0!==da.height&&Number.isFinite(da.x)&&Number.isFinite(da.y)&&
(Ai(la,{newSize:{width:da.width,height:da.height}}),nf(la,da))}}else{za=jg(la);x=za[0];xa=za[1];z=za[2];za=za[3];Ma=Hf(Sa,Ma,(x+z)/2,(xa+za)/2,-la.angle);Sa=Ma[0];Ma=Ma[1];switch(da){case "se":qb=Math.max((Sa-x)/(z-x),(Ma-xa)/(za-xa));break;case "nw":qb=Math.max((z-Sa)/(z-x),(za-Ma)/(za-xa));break;case "ne":qb=Math.max((Sa-x)/(z-x),(za-Ma)/(za-xa));break;case "sw":qb=Math.max((z-Sa)/(z-x),(Ma-xa)/(za-xa))}0<qb&&(Sa=la.width*qb,qb*=la.height,Ma=Pg(la,Sa,qb),null!==Ma&&(kb=Tg(la,Sa,qb),x=(x-kb[0])/
2,xa=(xa-kb[1])/2,z=(z-kb[2])/2,za=(za-kb[3])/2,da={n:/^(n|ne|nw)$/.test(da)||Ga&&/^(s|se|sw)$/.test(da),s:/^(s|se|sw)$/.test(da)||Ga&&/^(n|ne|nw)$/.test(da),w:/^(w|nw|sw)$/.test(da)||Ga&&/^(e|ne|se)$/.test(da),e:/^(e|ne|se)$/.test(da)||Ga&&/^(w|nw|sw)$/.test(da)},da=Zf(da,la.x,la.y,la.angle,x,xa,z,za),nf(la,{fontSize:Ma.size,width:Sa,height:qb,baseline:Ma.baseline,x:da[0],y:da[1]})));Ai(la)}else da=jg(la),Ga=Hf(Sa,Ma,(da[0]+da[2])/2,(da[1]+da[3])/2,-la.angle),da=Ga[0],Ga=Ga[1],Ga="end"===za?[da-
la.x,Ga-la.y]:[la.x+la.points[1][0]-da,la.y+la.points[1][1]-Ga],da=Ga[0],Ga=Ga[1],xa&&(z=la.angle,da=Ye.apply(void 0,ej([la.type],Hf(da,Ga,0,0,z))),Ga=Hf(da.width,da.height,0,0,-z),da=Ga[0],Ga=Ga[1]),z=Zf("end"===za?{s:!0,e:!0}:{n:!0,w:!0},la.x,la.y,la.angle,0,0,(la.points[1][0]-da)/2,(la.points[1][1]-Ga)/2),nf(la,{x:z[0],y:z[1],points:[[0,0],[da,Ga]]});la=!0}else{if(1<O.length){if("rotation"===da){la=(rl(x,O,Sa,Ma,xa,la,kb),!0);break a}if("nw"===da||"ne"===da||"sw"===da||"se"===da){la=(Jl(O,da,Sa,
Ma),!0);break a}}la=!1}}return!!la&&(d.maybeSuggestBindingForAll(O),!0)};this.openContextMenu=function(x){var z,O=x.clientX;x=x.clientY;var da=vg({clientX:O,clientY:x},d.state),la=da.x,za=da.y,xa=cg.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState()),Ga=yi.contextItemPredicate(d.actionManager.getElementsIncludingDeleted(),d.actionManager.getAppState());da=xg().matches;var Sa=d.scene.getElements();la=d.getElementAtPosition(la,za);za=[];(Dk&&0<Sa.length&&
za.push(tp),Wj&&0<Sa.length&&za.push(up),la)?(d.state.selectedElementIds[la.id]||d.setState({selectedElementIds:(z={},z[la.id]=!0,z)}),d.state.viewModeEnabled?En({options:jh([navigator.clipboard&&pn],za),top:x,left:O,actionManager:d.actionManager,appState:d.state}):En({options:jh(jh([da&&iq,da&&navigator.clipboard&&pn,da&&navigator.clipboard&&{name:"paste",perform:function(Ma,kb){return d.pasteFromClipboard(null),{commitToHistory:!1}},contextItemLabel:"labels.paste"},da&&"separator"],za),["separator",
sf,mf,"separator",xa&&cg,Ga&&yi,(xa||Ga)&&"separator",Oo,"separator",Am,ul,u,N,"separator",sa,Vg]),top:x,left:O,actionManager:d.actionManager,appState:d.state})):(z=jh(jh([],za),[void 0===d.props.gridModeEnabled&&rp,void 0===d.props.zenModeEnabled&&se,void 0===d.props.viewModeEnabled&&Us,$n]),(En({options:z,top:x,left:O,actionManager:d.actionManager,appState:d.state}),d.state.viewModeEnabled)||En({options:[da&&navigator.clipboard&&{name:"paste",perform:function(Ma,kb){return d.pasteFromClipboard(null),
{commitToHistory:!1}},contextItemLabel:"labels.paste"},da&&navigator.clipboard&&"separator",Dk&&0<Sa.length&&tp,Wj&&0<Sa.length&&up,(Dk&&0<Sa.length||Wj&&0<Sa.length)&&"separator",ha,"separator",void 0===d.props.gridModeEnabled&&rp,void 0===d.props.zenModeEnabled&&se,void 0===d.props.viewModeEnabled&&Us,$n],top:x,left:O,actionManager:d.actionManager,appState:d.state}))};this.handleWheel=bg(function(x){if(x.preventDefault(),!xq){var z=x.deltaX,O=x.deltaY,da=d.state,la=da.selectedElementIds,za=da.previousSelectedElementIds;
if(x.metaKey||x.ctrlKey){x=Math.sign(O);da=Math.abs(O);10<da&&(da=10);da*=x;0!==Object.keys(za).length&&setTimeout(function(){d.setState({selectedElementIds:za,previousSelectedElementIds:{}})},1E3);var xa=d.state.zoom.value-da/100;return xa+=Math.log10(Math.max(1,d.state.zoom.value))*-x,xa=Math.round(xa*hc.V4*100)/(100*hc.V4),d.setState(function(Ga){var Sa=Ga.zoom,Ma=Ga.offsetLeft;Ga=Ga.offsetTop;return{zoom:ci(Sj(xa),Sa,{left:Ma,top:Ga},{x:Jp,y:Kp}),selectedElementIds:{},previousSelectedElementIds:0!==
Object.keys(la).length?la:za,shouldCacheIgnoreZoom:!0}}),void d.resetShouldCacheIgnoreZoomDebounced()}x.shiftKey?d.setState(function(Ga){return{scrollX:Ga.scrollX-(O||z)/Ga.zoom.value}}):d.setState(function(Ga){var Sa=Ga.zoom;return{scrollX:Ga.scrollX-z/Sa.value,scrollY:Ga.scrollY-O/Sa.value}})}});this.savePointer=function(x,z,O){var da,la;x&&z&&(x=vg({clientX:x,clientY:z},d.state),isNaN(x.x)||isNaN(x.y),null===(da=(la=d.props).onPointerUpdate)||void 0===da||da.call(la,{pointer:x,button:O,pointersMap:Bl}))};
this.resetShouldCacheIgnoreZoomDebounced=ti(function(){d.unmounted||d.setState({shouldCacheIgnoreZoom:!1})},300)};"production"!==hc.Vi.TEST&&"production"!==hc.Vi.DEVELOPMENT||(window.h=window.h||{},Object.defineProperties(window.h,{elements:{configurable:!0,get:function(){return this.app.scene.getElementsIncludingDeleted()},set:function(d){return this.app.scene.replaceAllElements(d)}},history:{configurable:!0,get:function(){return nk}},library:{configurable:!0,value:rh}}));l(8234);l(4651);var Qs=
function(d){var x=d.width,z=d.height,O=d.offsetLeft,da=d.offsetTop,la=d.onChange,za=d.initialData,xa=d.excalidrawRef,Ga=d.onCollabButtonClick,Sa=d.isCollaborating,Ma=d.onPointerUpdate,kb=d.onExportToBackend,qb=d.renderFooter,tb=d.langCode;tb=void 0===tb?ua.code:tb;var cc=d.viewModeEnabled,Xb=d.zenModeEnabled;d=d.gridModeEnabled;return(0,kc.useEffect)(function(){var Ac=function(gd){"number"==typeof gd.scale&&1!==gd.scale&&gd.preventDefault()};return document.addEventListener("touchmove",Ac,{passive:!1}),
function(){document.removeEventListener("touchmove",Ac)}},[]),Ha().createElement(Ad,{langCode:tb},Ha().createElement(ng,null,Ha().createElement(Wr,{width:x,height:z,offsetLeft:O,offsetTop:da,onChange:la,initialData:za,excalidrawRef:xa,onCollabButtonClick:Ga,isCollaborating:Sa,onPointerUpdate:Ma,onExportToBackend:kb,renderFooter:qb,langCode:tb,viewModeEnabled:cc,zenModeEnabled:Xb,gridModeEnabled:d})))};Qs.defaultProps={lanCode:ua.code};var Wt=(0,kc.forwardRef)(function(d,x){return Ha().createElement(Qs,
ib()({},d,{excalidrawRef:x}))});const Xt=Ha().memo(Wt,function(d,x){d.initialData;var z=sc()(d,["initialData"]),O=(x.initialData,sc()(x,["initialData"]));d=Object.keys(d);x=Object.keys(x);return d.length===x.length&&d.every(function(da){return z[da]===O[da]})});l(6009);const du=Xt},4698:E=>{E.exports=C},6207:E=>{E.exports=r}},a={};return p.m=v,p.n=E=>{var w=E&&E.__esModule?()=>E.default:()=>E;return p.d(w,{a:w}),w},e=Object.getPrototypeOf?E=>Object.getPrototypeOf(E):E=>E.__proto__,p.t=function(E,
w){if((1&w&&(E=this(E)),8&w)||"object"==typeof E&&E&&(4&w&&E.__esModule||16&w&&"function"==typeof E.then))return E;var l=Object.create(null);p.r(l);var D={};f=f||[null,e({}),e([]),e(e)];for(w=2&w&&E;"object"==typeof w&&!~f.indexOf(w);w=e(w))Object.getOwnPropertyNames(w).forEach(H=>D[H]=()=>E[H]);return D.default=()=>E,p.d(l,D),l},p.d=(E,w)=>{for(var l in w)p.o(w,l)&&!p.o(E,l)&&Object.defineProperty(E,l,{enumerable:!0,get:w[l]})},p.f={},p.e=E=>Promise.all(Object.keys(p.f).reduce((w,l)=>(p.f[l](E,w),
w),[])),p.u=E=>"excalidraw-assets/"+{9:"image",43:"i18n-de-DE-json",60:"i18n-ko-KR-json",62:"i18n-zh-TW-json",137:"i18n-ja-JP-json",149:"i18n-pt-PT-json",164:"i18n-kab-KAB-json",196:"i18n-nl-NL-json",213:"i18n-tr-TR-json",242:"i18n-my-MM-json",246:"i18n-nb-NO-json",262:"i18n-he-IL-json",280:"i18n-pa-IN-json",304:"i18n-zh-CN-json",317:"i18n-es-ES-json",351:"i18n-ca-ES-json",364:"i18n-fr-FR-json",381:"i18n-pt-BR-json",384:"i18n-bg-BG-json",401:"i18n-sk-SK-json",465:"i18n-it-IT-json",472:"i18n-fi-FI-json",
491:"i18n-id-ID-json",526:"i18n-el-GR-json",558:"i18n-ar-SA-json",565:"i18n-oc-FR-json",583:"i18n-uk-UA-json",661:"i18n-hu-HU-json",698:"i18n-sv-SE-json",710:"i18n-fa-IR-json",736:"vendor",752:"i18n-ro-RO-json",852:"i18n-pl-PL-json",869:"i18n-ru-RU-json",920:"i18n-nn-NO-json",933:"i18n-hi-IN-json"}[E]+"-"+{9:"4c2d5c85067885b645af",43:"4823c48393124a3bc5fc",60:"75e2d73e015b1ef6a00d",62:"a0c2b649e55b974d40c5",137:"f474ca90ec8965ba76bc",149:"c9da04f1ebc22a355f86",164:"2fe8f05383d9a2909403",196:"2f881bef64ae25c364ac",
213:"c242fdecb3c6041308d2",242:"ce2b98acffdb55807b6f",246:"c2cc1faff5c7d28c9137",262:"31401716f9d4fa7a8bbe",280:"e7099ca1ca91c8c95b90",304:"79915d2ad7106b7382fd",317:"7cd687c81182a9b5ed38",351:"6ac46acbf7738365c825",364:"61ce1bd7bc0a3d36b14d",381:"364638bb52b1d6ba5d98",384:"a01c652fed411bb7e219",401:"0e83170f656b45bc1b89",465:"29c2adfbbe19b39bc050",472:"0890c5432a9aab3f4334",491:"43dd7122a92d9af1cc73",526:"71e0e6e546481de5271a",558:"3be99fb5f680b3d25ba6",565:"deee05849e45de2af8e7",583:"0605fca3af66a20c3875",
661:"b10cefa097a941371ce6",698:"2e1cd9ef4c7da46616c6",710:"cb2081671627c079b0fe",736:"3525c448906ddcdcb701",752:"22baa4391c498a5fffc5",852:"488381cf4df470095153",869:"f6493c191c20d85e2b08",920:"ee5d2b7fda6783d75f36",933:"f3ae9dac7b038b673e45"}[E]+".js",p.o=(E,w)=>Object.prototype.hasOwnProperty.call(E,w),k={},p.l=(E,w,l,D)=>{if(k[E])k[E].push(w);else{var H;if(void 0!==l){D=document.getElementsByTagName("script");for(var I=0;I<D.length;I++){var S=D[I];if(S.getAttribute("src")==E||S.getAttribute("data-webpack")==
"Excalidraw:"+l){var Z=S;break}}}Z||(H=!0,(Z=document.createElement("script")).charset="utf-8",Z.timeout=120,p.nc&&Z.setAttribute("nonce",p.nc),Z.setAttribute("data-webpack","Excalidraw:"+l),Z.src=E);k[E]=[w];w=(q,A)=>{Z.onerror=Z.onload=null;clearTimeout(B);var n=k[E];if(delete k[E],Z.parentNode&&Z.parentNode.removeChild(Z),n&&n.forEach(V=>V(A)),q)return q(A)};var B=setTimeout(w.bind(null,void 0,{type:"timeout",target:Z}),12E4);Z.onerror=w.bind(null,Z.onerror);Z.onload=w.bind(null,Z.onload);H&&document.head.appendChild(Z)}},
p.r=E=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(E,Symbol.toStringTag,{value:"Module"});Object.defineProperty(E,"__esModule",{value:!0})},p.p="",(()=>{var E={163:0};p.f.j=(D,H)=>{var I=p.o(E,D)?E[D]:void 0;if(0!==I)if(I)H.push(I[2]);else{var S=new Promise((B,q)=>{I=E[D]=[B,q]});H.push(I[2]=S);H=p.p+p.u(D);var Z=Error();p.l(H,B=>{if(p.o(E,D)&&(0!==(I=E[D])&&(E[D]=void 0),I)){var q=B&&("load"===B.type?"missing":B.type);B=B&&B.target&&B.target.src;Z.message="Loading chunk "+
D+" failed.\n("+q+": "+B+")";Z.name="ChunkLoadError";Z.type=q;Z.request=B;I[1](Z)}},"chunk-"+D,D)}};var w=(D,H)=>{for(var I,S,[Z,B,q]=H,A=0,n=[];A<Z.length;A++)S=Z[A],p.o(E,S)&&E[S]&&n.push(E[S][0]),E[S]=0;for(I in B)p.o(B,I)&&(p.m[I]=B[I]);q&&q(p);for(D&&D(H);n.length;)n.shift()()},l=self.webpackChunkExcalidraw=self.webpackChunkExcalidraw||[];l.forEach(w.bind(null,0));l.push=w.bind(null,l.push.bind(l))})(),p(3956)})()})};
'use strict';
var $frontend$handler$draw$load_excalidraw_file$$ = function($file$jscomp$51$$, $ok_handler$jscomp$26$$) {
  var $temp__5720__auto__$jscomp$444$$ = $APP.$frontend$state$get_current_repo$$();
  $APP.$cljs$core$truth_$$($temp__5720__auto__$jscomp$444$$) && $APP.$frontend$util$p_handle$cljs$0core$0IFn$0_invoke$0arity$03$$($APP.$frontend$handler$file$load_file$$($temp__5720__auto__$jscomp$444$$, $file$jscomp$51$$), function($content$jscomp$140$$) {
    return $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$ ? $ok_handler$jscomp$26$$.$cljs$core$IFn$_invoke$arity$1$($content$jscomp$140$$) : $ok_handler$jscomp$26$$.call(null, $content$jscomp$140$$);
  }, function($error$jscomp$59$$) {
    return $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["Error loading ", $file$jscomp$51$$, ": ", $error$jscomp$59$$]));
  });
}, $frontend$extensions$excalidraw$update_draw_content_width$$ = function($state$jscomp$274$$) {
  var $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$rum$core$dom_node$$($state$jscomp$274$$);
  $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$cljs$core$truth_$$($el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$) ? $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$.querySelector(".draw-wrap") : $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$;
  $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$ = $APP.$cljs$core$truth_$$($el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$) ? $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$.clientWidth : $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$;
  $APP.$cljs$core$reset_BANG_$$($cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$274$$), $el$jscomp$56_el__$1$jscomp$1_width$jscomp$56$$);
  return $state$jscomp$274$$;
}, $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "view-mode-enabled", "view-mode-enabled", -588220561), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "view-mode?", "frontend.extensions.excalidraw/view-mode?", 525380621), $cljs$cst$keyword$viewBackgroundColor$$ = new $APP.$cljs$core$Keyword$$(null, "viewBackgroundColor", "viewBackgroundColor", 1889137994), 
$cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "grid-mode-enabled", "grid-mode-enabled", 584978327), $cljs$cst$keyword$gridSize$$ = new $APP.$cljs$core$Keyword$$(null, "gridSize", "gridSize", 843108791), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "elements", "frontend.extensions.excalidraw/elements", 1745667967), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "loading?", "frontend.extensions.excalidraw/loading?", -1335058663), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "data", "frontend.extensions.excalidraw/data", -1371036113), $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$ = new $APP.$cljs$core$Keyword$$(null, "zen-mode-enabled", "zen-mode-enabled", -955634269), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$ = 
new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", "zen-mode?", "frontend.extensions.excalidraw/zen-mode?", 1559773511), $cljs$cst$keyword$appState$$ = new $APP.$cljs$core$Keyword$$(null, "appState", "appState", -1920687968), $cljs$cst$keyword$initial_DASH_data$$ = new $APP.$cljs$core$Keyword$$(null, "initial-data", "initial-data", -1315709804), $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$ = new $APP.$cljs$core$Keyword$$("frontend.extensions.excalidraw", 
"draw-width", "frontend.extensions.excalidraw/draw-width", -681100043);
$APP.$JSCompiler_StaticMethods_beforeLoadModuleCode$$("excalidraw");
var $module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$ = $APP.$shadow$js$require$$(568);
var $frontend$extensions$excalidraw$excalidraw$$, $frontend$extensions$excalidraw$_STAR_bounding_width$$, $frontend$extensions$excalidraw$draw_inner$$, $frontend$extensions$excalidraw$draw_container$$;
$APP.$frontend$extensions$excalidraw$$ = {};
$frontend$extensions$excalidraw$excalidraw$$ = $APP.$frontend$rum$adapt_class$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$goog$object$get$$($module$node_modules$$excalidraw$excalidraw$dist$excalidraw_min$$, "default"));
$frontend$extensions$excalidraw$_STAR_bounding_width$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null);
$frontend$extensions$excalidraw$draw_inner$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($state$jscomp$275$$, $data$jscomp$203$$, $option$jscomp$25$$) {
  $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$git_SLASH_current_DASH_repo$$);
  $APP.$rum$core$react$$($frontend$extensions$excalidraw$_STAR_bounding_width$$);
  var $_STAR_draw_width$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $_STAR_zen_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $_STAR_view_mode_QMARK_$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
  $wide_mode_QMARK_$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$ui_SLASH_wide_DASH_mode_QMARK_$$), $_STAR_elements$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($state$jscomp$275$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), $file$jscomp$98$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($option$jscomp$25$$);
  return $APP.$cljs$core$truth_$$($data$jscomp$203$$) ? $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$670$$) {
    return $APP.$frontend$util$stop$$($e$jscomp$670$$);
  }, className:"overflow-hidden"}, [$APP.$daiquiri$core$create_element$$("div", {style:{fontSize:10}, className:"my-1"}, [$APP.$daiquiri$core$create_element$$("a", {onClick:$APP.$frontend$handler$ui$toggle_wide_mode_BANG_$$, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Wide Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? "ON" : "OFF"])))]), 
  $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_zen_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("Zen Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$)) ? "ON" : "OFF"])))]), $APP.$daiquiri$core$create_element$$("a", {onClick:function() {
    return $APP.$cljs$core$swap_BANG_$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_view_mode_QMARK_$$, $APP.$cljs$core$not$$);
  }, className:"mr-2"}, [$APP.$daiquiri$interpreter$interpret$$($APP.$frontend$util$format$cljs$0core$0IFn$0_invoke$0arity$0variadic$$("View Mode (%s)", $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$APP.$cljs$core$truth_$$($APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$)) ? "ON" : "OFF"])))])]), $APP.$daiquiri$core$create_element$$("div", {onMouseDown:function($e$jscomp$671$$) {
    $APP.$frontend$util$stop$$($e$jscomp$671$$);
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !0);
  }, onBlur:function() {
    return $APP.$frontend$state$set_state_BANG_$$($APP.$cljs$cst$keyword$block_SLASH_component_DASH_editing_DASH_mode_QMARK_$$, !1);
  }, className:"draw-wrap"}, [$APP.$daiquiri$interpreter$interpret$$(function() {
    var $G__99290$$ = $APP.$cljs$core$merge$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 6, [$APP.$cljs$cst$keyword$on_DASH_change$$, function($elements$jscomp$16$$, $state__$1$jscomp$10_state__$2$$) {
      var $elements__GT_clj$$ = $APP.$cljs_bean$core$__GT_clj$$($elements$jscomp$16$$);
      return $APP.$cljs$core$seq$$($elements__GT_clj$$) && $APP.$cljs$core$not_EQ_$$.$cljs$core$IFn$_invoke$arity$2$($elements$jscomp$16$$, $APP.$cljs$core$_deref$$($_STAR_elements$$)) ? ($state__$1$jscomp$10_state__$2$$ = $APP.$cljs_bean$core$__GT_clj$$($state__$1$jscomp$10_state__$2$$), $APP.$frontend$handler$draw$save_excalidraw_BANG_$$($file$jscomp$98$$, JSON.stringify($APP.$cljs_bean$core$__GT_js$$(new $APP.$cljs$core$PersistentArrayMap$$(null, 5, [$APP.$cljs$cst$keyword$type$$, "excalidraw", 
      $APP.$cljs$cst$keyword$version$$, 2, $APP.$cljs$cst$keyword$source$$, $APP.$frontend$config$website$$, $APP.$cljs$cst$keyword$elements$$, $elements$jscomp$16$$, $cljs$cst$keyword$appState$$, $APP.$cljs$core$select_keys$$($state__$1$jscomp$10_state__$2$$, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$cljs$cst$keyword$gridSize$$, $cljs$cst$keyword$viewBackgroundColor$$], null))], null)))), $APP.$cljs$core$reset_BANG_$$($_STAR_elements$$, $elements$jscomp$16$$)) : 
      null;
    }, $cljs$cst$keyword$zen_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_zen_mode_QMARK_$$), $cljs$cst$keyword$view_DASH_mode_DASH_enabled$$, $APP.$cljs$core$_deref$$($_STAR_view_mode_QMARK_$$), $cljs$cst$keyword$grid_DASH_mode_DASH_enabled$$, !1, $cljs$cst$keyword$initial_DASH_data$$, $data$jscomp$203$$, $APP.$cljs$cst$keyword$width$$, $APP.$cljs$core$_deref$$($_STAR_draw_width$$)], null), $APP.$cljs$core$truth_$$($wide_mode_QMARK_$$) ? new $APP.$cljs$core$PersistentArrayMap$$(null, 
    1, [$APP.$cljs$cst$keyword$height$$, 650], null) : new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$height$$, 500], null)]));
    return $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$ ? $frontend$extensions$excalidraw$excalidraw$$.$cljs$core$IFn$_invoke$arity$1$($G__99290$$) : $frontend$extensions$excalidraw$excalidraw$$.call(null, $G__99290$$);
  }())])]) : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 7, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(800, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_draw_DASH_width$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!0, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_zen_DASH_mode_QMARK_$$), $APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(!1, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_view_DASH_mode_QMARK_$$), 
$APP.$rum$core$local$cljs$0core$0IFn$0_invoke$0arity$02$$(null, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_elements$$), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_mount$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null), new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$did_DASH_update$$, $frontend$extensions$excalidraw$update_draw_content_width$$], null)], null), "frontend.extensions.excalidraw/draw-inner");
$frontend$extensions$excalidraw$draw_container$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defcs$$, function($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $attrs99291_option$jscomp$26$$) {
  var $_STAR_data_data$jscomp$204$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$cljs$core$get$$.$cljs$core$IFn$_invoke$arity$2$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$);
  $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ = $APP.$rum$core$react$$($_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$);
  $_STAR_data_data$jscomp$204$$ = $APP.$rum$core$react$$($_STAR_data_data$jscomp$204$$);
  var $db_restoring_QMARK_$jscomp$4$$ = $APP.$frontend$state$sub$$($APP.$cljs$cst$keyword$db_SLASH_restoring_QMARK_$$);
  return $APP.$cljs$core$truth_$$($APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($attrs99291_option$jscomp$26$$)) ? $APP.$cljs$core$truth_$$($db_restoring_QMARK_$jscomp$4$$) ? ($attrs99291_option$jscomp$26$$ = $APP.$frontend$ui$loading$$("Loading"), $APP.$daiquiri$core$create_element$$("div", $APP.$cljs$core$map_QMARK_$$($attrs99291_option$jscomp$26$$) ? $APP.$daiquiri$interpreter$attributes$$($APP.$daiquiri$normalize$merge_with_class$cljs$0core$0IFn$0_invoke$0arity$0variadic$$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([new $APP.$cljs$core$PersistentArrayMap$$(null, 
  1, [$APP.$cljs$cst$keyword$class$$, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, ["ls-center"], null)], null), $attrs99291_option$jscomp$26$$]))) : {className:"ls-center"}, $APP.$cljs$core$map_QMARK_$$($attrs99291_option$jscomp$26$$) ? null : [$APP.$daiquiri$interpreter$interpret$$($attrs99291_option$jscomp$26$$)])) : !1 === $_STAR_loading_QMARK_$jscomp$1_loading_QMARK_$jscomp$5_state$jscomp$276$$ ? $frontend$extensions$excalidraw$draw_inner$$($_STAR_data_data$jscomp$204$$, 
  $attrs99291_option$jscomp$26$$) : null : null;
}, new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$, new $APP.$cljs$core$PersistentArrayMap$$(null, 1, [$APP.$cljs$cst$keyword$init$$, function($state$jscomp$277$$) {
  var $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$cst$keyword$rum_SLASH_args$$.$cljs$core$IFn$_invoke$arity$1$($state$jscomp$277$$);
  $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$core$nth$$.$cljs$core$IFn$_invoke$arity$3$($file$jscomp$99_option$jscomp$27_vec__99292$$, 0, null);
  $file$jscomp$99_option$jscomp$27_vec__99292$$ = $APP.$cljs$cst$keyword$file$$.$cljs$core$IFn$_invoke$arity$1$($file$jscomp$99_option$jscomp$27_vec__99292$$);
  var $_STAR_data$jscomp$1$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(null), $_STAR_loading_QMARK_$jscomp$2$$ = $APP.$cljs$core$atom$$.$cljs$core$IFn$_invoke$arity$1$(!0);
  $APP.$cljs$core$truth_$$($file$jscomp$99_option$jscomp$27_vec__99292$$) && $frontend$handler$draw$load_excalidraw_file$$($file$jscomp$99_option$jscomp$27_vec__99292$$, function($data$jscomp$205_e$jscomp$inline_7609$$) {
    if ($APP.$clojure$string$blank_QMARK_$$($data$jscomp$205_e$jscomp$inline_7609$$)) {
      var $data__$1$jscomp$9$$ = null;
    } else {
      try {
        $data__$1$jscomp$9$$ = JSON.parse($data$jscomp$205_e$jscomp$inline_7609$$);
      } catch ($e99288$jscomp$inline_7610$$) {
        if ($e99288$jscomp$inline_7610$$ instanceof Error) {
          $data$jscomp$205_e$jscomp$inline_7609$$ = $e99288$jscomp$inline_7610$$, $APP.$cljs$core$println$$.$cljs$core$IFn$_invoke$arity$variadic$($APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$(["from json error:"])), console.dir($data$jscomp$205_e$jscomp$inline_7609$$), $data__$1$jscomp$9$$ = $APP.$frontend$handler$notification$show_BANG_$cljs$0core$0IFn$0_invoke$0arity$02$$($APP.$frontend$util$format$$("Could not load this invalid excalidraw file"), $APP.$cljs$cst$keyword$error$$);
        } else {
          throw $e99288$jscomp$inline_7610$$;
        }
      }
    }
    $APP.$cljs$core$reset_BANG_$$($_STAR_data$jscomp$1$$, $data__$1$jscomp$9$$);
    return $APP.$cljs$core$reset_BANG_$$($_STAR_loading_QMARK_$jscomp$2$$, !1);
  });
  return $APP.$cljs$core$assoc$$.$cljs$core$IFn$_invoke$arity$variadic$($state$jscomp$277$$, $cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_data$$, $_STAR_data$jscomp$1$$, $APP.$cljs$core$prim_seq$cljs$0core$0IFn$0_invoke$0arity$02$$([$cljs$cst$keyword$frontend_DOT_extensions_DOT_excalidraw_SLASH_loading_QMARK_$$, $_STAR_loading_QMARK_$jscomp$2$$]));
}], null)], null), "frontend.extensions.excalidraw/draw-container");
$APP.$frontend$extensions$excalidraw$draw$$ = $APP.$rum$core$lazy_build$$($APP.$rum$core$build_defc$$, function($option$jscomp$28$$) {
  var $repo$jscomp$411$$ = $APP.$frontend$state$get_current_repo$$(), $granted_QMARK_$jscomp$2$$ = $APP.$frontend$state$sub$$(new $APP.$cljs$core$PersistentVector$$(null, 2, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$cljs$cst$keyword$nfs_SLASH_user_DASH_granted_QMARK_$$, $repo$jscomp$411$$], null));
  return $APP.$frontend$config$local_db_QMARK_$$($repo$jscomp$411$$) && $APP.$cljs$core$not$$($granted_QMARK_$jscomp$2$$) && $APP.$cljs$core$not$$($APP.$frontend$util$electron_QMARK_$$()) ? null : $frontend$extensions$excalidraw$draw_container$$($option$jscomp$28$$);
}, new $APP.$cljs$core$PersistentVector$$(null, 1, 5, $APP.$cljs$core$PersistentVector$EMPTY_NODE$$, [$APP.$rum$core$reactive$$], null), "frontend.extensions.excalidraw/draw");
$APP.$shadow$loader$mm$$.$setLoaded$();

}).call(this);
//# sourceMappingURL=excalidraw.js.map
